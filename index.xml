<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Archie</title>
        <link>https://example.com/</link>
        <description>Recent content on Archie</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Thu, 09 Sep 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://example.com/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Markdown 嵌入 YouTube</title>
        <link>https://example.com/p/markdown-%E5%B5%8C%E5%85%A5-youtube/</link>
        <pubDate>Thu, 09 Sep 2021 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/markdown-%E5%B5%8C%E5%85%A5-youtube/</guid>
        <description>&lt;h3 id=&#34;前言&#34;&gt;前言&lt;/h3&gt;
&lt;p&gt;一般來說，我們都可以直接使用 YouTube 的嵌入程式碼來直接加入影片，而今天如果要在 Markdown 裡頭製作這段這程式碼的話，我們可以怎麼做？&lt;/p&gt;
&lt;h3 id=&#34;嵌入的程式碼&#34;&gt;嵌入的程式碼&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;iframe width=&amp;quot;560&amp;quot; height=&amp;quot;315&amp;quot; src=&amp;quot;https://www.youtube.com/embed/OyCN04p-uS8&amp;quot; title=&amp;quot;YouTube video player&amp;quot; frameborder=&amp;quot;0&amp;quot; allow=&amp;quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&amp;quot; allowfullscreen&amp;gt;&amp;lt;/iframe&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;markdown&#34;&gt;Markdown&lt;/h3&gt;
&lt;p&gt;其實就只有一個重點，就是得到影片的 ID；這個你可以從很多地方取得，以&lt;a class=&#34;link&#34; href=&#34;../%e7%b7%9a%e4%b8%8a%e8%ae%80%e6%9b%b8%e6%9c%83-rxswift-%e5%88%86%e4%ba%ab&#34; &gt;線上讀書會 RxSwift 分享&lt;/a&gt;來說&lt;/p&gt;
&lt;p&gt;首先就是先取得縮圖的 URL，格式為&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;URL&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a class=&#34;link&#34; href=&#34;https://img.youtube.com/vi/VIDEO_ID/0.jpg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://img.youtube.com/vi/VIDEO_ID/0.jpg&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Full-size thumbnail&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a class=&#34;link&#34; href=&#34;https://img.youtube.com/vi/VIDEO_ID/1.jpg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://img.youtube.com/vi/VIDEO_ID/1.jpg&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Small thumbnail images&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a class=&#34;link&#34; href=&#34;https://img.youtube.com/vi/VIDEO_ID/2.jpg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://img.youtube.com/vi/VIDEO_ID/2.jpg&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Small thumbnail images&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a class=&#34;link&#34; href=&#34;https://img.youtube.com/vi/VIDEO_ID/3.jpg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://img.youtube.com/vi/VIDEO_ID/3.jpg&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Small thumbnail images&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a class=&#34;link&#34; href=&#34;https://img.youtube.com/vi/VIDEO_ID/default.jpg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://img.youtube.com/vi/VIDEO_ID/default.jpg&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Default thumbnail image&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a class=&#34;link&#34; href=&#34;https://img.youtube.com/vi/VIDEO_ID/hqdefault.jpg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://img.youtube.com/vi/VIDEO_ID/hqdefault.jpg&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;High-quality default thumbnail image&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a class=&#34;link&#34; href=&#34;https://img.youtube.com/vi/VIDEO_ID/mqdefault.jpg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://img.youtube.com/vi/VIDEO_ID/mqdefault.jpg&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Medium-quality default thumbnail image&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a class=&#34;link&#34; href=&#34;https://img.youtube.com/vi/VIDEO_ID/sddefault.jpg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://img.youtube.com/vi/VIDEO_ID/sddefault.jpg&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Standard-definition default thumbnail image&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a class=&#34;link&#34; href=&#34;https://img.youtube.com/vi/VIDEO_ID/maxresdefault.jpg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://img.youtube.com/vi/VIDEO_ID/maxresdefault.jpg&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Maximum-resolution default thumbnail image&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;於是我拿了一個最大尺寸的來使用&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[![線上讀書會 RxSwift 分享](https://img.youtube.com/vi/OyCN04p-uS8/maxresdefault.jpg)](https://www.youtube.com/watch?=OyCN04p-uS8)

&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;效果如下：&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?=OyCN04p-uS8&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://img.youtube.com/vi/OyCN04p-uS8/maxresdefault.jpg&#34; &gt;
		&lt;img src=&#34;https://img.youtube.com/vi/OyCN04p-uS8/maxresdefault.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;線上讀書會 RxSwift 分享&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;線上讀書會 RxSwift 分享&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Archie 的斜槓紀錄 2019-08</title>
        <link>https://example.com/p/archie-%E7%9A%84%E6%96%9C%E6%A7%93%E7%B4%80%E9%8C%84-2019-08/</link>
        <pubDate>Sat, 31 Aug 2019 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/archie-%E7%9A%84%E6%96%9C%E6%A7%93%E7%B4%80%E9%8C%84-2019-08/</guid>
        <description>&lt;h3 id=&#34;這篇是什麼&#34;&gt;這篇是什麼？&lt;/h3&gt;
&lt;p&gt;這篇文章的內容並不會圍繞 iOS 或是 Swift 等，而是投資理財的部分，其中並不會有什麼教學或是分析，單純只是我這個月的損益總結而已。&lt;/p&gt;
&lt;h2 id=&#34;2019-年-8-月份總結&#34;&gt;2019 年 8 月份總結&lt;/h2&gt;
&lt;h3 id=&#34;adsense&#34;&gt;Adsense&lt;/h3&gt;
&lt;p&gt;其實我一直沒有在看這方面的收入，不過看來要加把勁在廣告上才是💪
大多數都是從一、兩個我沒有在維護的 App 來的⋯⋯
九月份會開始掛上網站的廣告和看能不能在 iOS 13 正式版上線的時候，
將一個由 SwiftUI + Combine 所編寫的 side project 弄上架💦&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://example.com/../img/image-1567152135553.png&#34; &gt;
		&lt;img src=&#34;https://example.com/../img/image-1567152135553.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;bitfinex&#34;&gt;Bitfinex&lt;/h3&gt;
&lt;p&gt;我有在 Bitfinex 搭配 Coinlend 進行放貸，並在 8/9 加碼了 $ 50,000 元進去
八月份的報表大概如下
&lt;figure 
	&gt;
	&lt;a href=&#34;https://example.com/../img/image-1567340956932.png&#34; &gt;
		&lt;img src=&#34;https://example.com/../img/image-1567340956932.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
共獲利了 USD $ 31.68&lt;/p&gt;
&lt;h3 id=&#34;台股股利&#34;&gt;台股股利&lt;/h3&gt;
&lt;p&gt;這個月領了三次股利，共計 $ 1,596 元&lt;/p&gt;
&lt;h2 id=&#34;八月份總收入&#34;&gt;八月份總收入&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Adsense USD $ 1.33&lt;/li&gt;
&lt;li&gt;Bitfinex USD $ 31.68&lt;/li&gt;
&lt;li&gt;台股股利 $ 1,596 元&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;共計 $ 2,629.87 元&lt;/p&gt;
&lt;h3 id=&#34;斜槓率&#34;&gt;斜槓率&lt;/h3&gt;
&lt;p&gt;這是我自己給的定義，簡單來說就是當每個月的額外收入達 $ 50,000 元；
每年額外收入達 $ 600,000 元時，就是可以辭去正職工作的時候（不知道要到什麼時候⋯⋯）&lt;/p&gt;
&lt;p&gt;2,629.87 / 50,000 = 5.25974 %&lt;/p&gt;
&lt;p&gt;&lt;code&gt;[|_________ 5% __________]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;再繼續努力，九月底再來記錄吧！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>在 SwiftUI 處理中文輸入法所會遇上的問題</title>
        <link>https://example.com/p/%E5%9C%A8-swiftui-%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E8%BC%B8%E5%85%A5%E6%B3%95%E6%89%80%E6%9C%83%E9%81%87%E4%B8%8A%E7%9A%84%E5%95%8F%E9%A1%8C/</link>
        <pubDate>Fri, 30 Aug 2019 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E5%9C%A8-swiftui-%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E8%BC%B8%E5%85%A5%E6%B3%95%E6%89%80%E6%9C%83%E9%81%87%E4%B8%8A%E7%9A%84%E5%95%8F%E9%A1%8C/</guid>
        <description>&lt;p&gt;最近開始在嘗試把玩 SwiftUI 並打算作為一個 side project 的主要 UI 編寫方式，這篇文章則是其中一個使用情境所遇上的困難處。&lt;/p&gt;
&lt;h3 id=&#34;開發環境&#34;&gt;開發環境&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Xcode 11 Beta 7（但顯示為 Beta 6 - 11M392r ）&lt;/li&gt;
&lt;li&gt;macOS Catalina - 19A546d&lt;/li&gt;
&lt;li&gt;iOS 13.1 Beta&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;記錄這點蠻重要的，因為可能過個幾版這篇文章就沒參考價值了😂
還沒有下載更新的朋友，可以快去&lt;a class=&#34;link&#34; href=&#34;https://developer.apple.com/download/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;更新&lt;/a&gt;一下！&lt;/p&gt;
&lt;h3 id=&#34;使用情境&#34;&gt;使用情境&lt;/h3&gt;
&lt;p&gt;我要來做一個搜尋的功能，讓使用者可以輸入關鍵字，並自動搜尋完後將結果呈現在下方👏&lt;/p&gt;
&lt;p&gt;於是我們可以用兩個 UI 元件來達成這件事&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TextField&lt;/li&gt;
&lt;li&gt;List
並寫一個 &lt;code&gt;@Binding var&lt;/code&gt; 或是 &lt;code&gt;@ObservedObject var&lt;/code&gt; 來讓 &lt;code&gt;TextField&lt;/code&gt; 的 text 有個 binding 的地方，當它的值有更新時，觸發搜尋的動作🚀
而搜尋完的結構再來更新畫面上的 &lt;code&gt;List&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;聽起來沒什麼毛病，對吧？&lt;/p&gt;
&lt;h3 id=&#34;實際上你會遇上的問題&#34;&gt;實際上你會遇上的問題⋯&lt;/h3&gt;
&lt;p&gt;當你想和我一樣，用拼音的輸入方式時；不論是你拼音還是注音，當你按下第一個音時，便會跑一次上述的流程了⋯⋯
而我們所期望的流程應該是使用者選完字後再進行搜尋，這點在目前的 &lt;code&gt;TextField&lt;/code&gt; 是做不到的，因為它不會判別目前是否有還沒拼完音的狀況就發動了。&lt;/p&gt;
&lt;h3 id=&#34;那該怎麼辦呢&#34;&gt;那該怎麼辦呢？&lt;/h3&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://example.com/../img/Screen-Shot-2019-08-30-at-12.11.32-PM.png&#34; &gt;
		&lt;img src=&#34;https://example.com/../img/Screen-Shot-2019-08-30-at-12.11.32-PM.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;喵神這麼說&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;喵神這麼說&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;你可以查看一下當時的&lt;a class=&#34;link&#34; href=&#34;https://twitter.com/ChangArchie/status/1166596036112125952&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;相關推文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;我的作法就是以 &lt;code&gt;UIViewRepresentable&lt;/code&gt; 來包裝，詳細的程式碼可以到 &lt;a class=&#34;link&#34; href=&#34;https://github.com/ArchieR7/Archie.tw/blob/master/MarkedTextField.swift&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub&lt;/a&gt; 查看👍&lt;/p&gt;
&lt;h3 id=&#34;成果&#34;&gt;成果&lt;/h3&gt;
&lt;p&gt;當輸入了 &lt;code&gt;luo dong&lt;/code&gt; 但是還沒選字的話並不會有動作。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://example.com/../img/Screen-Shot-2019-08-30-at-11.57.22-AM.png&#34; &gt;
		&lt;img src=&#34;https://example.com/../img/Screen-Shot-2019-08-30-at-11.57.22-AM.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
而當選字後便會進行搜尋🔍
&lt;figure 
	&gt;
	&lt;a href=&#34;https://example.com/../img/Screen-Shot-2019-08-30-at-12.00.31-PM.png&#34; &gt;
		&lt;img src=&#34;https://example.com/../img/Screen-Shot-2019-08-30-at-12.00.31-PM.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果還有什麼問題的話，歡迎留言討論👏&lt;/p&gt;
</description>
        </item>
        <item>
        <title>建立 Xcode 的檔案範本</title>
        <link>https://example.com/p/%E5%BB%BA%E7%AB%8B-xcode-%E7%9A%84%E6%AA%94%E6%A1%88%E7%AF%84%E6%9C%AC/</link>
        <pubDate>Tue, 02 Jul 2019 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E5%BB%BA%E7%AB%8B-xcode-%E7%9A%84%E6%AA%94%E6%A1%88%E7%AF%84%E6%9C%AC/</guid>
        <description>&lt;h3 id=&#34;什麼是範本&#34;&gt;什麼是範本？&lt;/h3&gt;
&lt;p&gt;在新增檔案的時候，會有預設的這幾種類型可以選擇；而當我們有一些自己常用的架構，如 Coordinator、ViewModel 等，可以自建一個範本來使用。
下面舉例幾個預設的 Swift 檔案&lt;/p&gt;
&lt;h3 id=&#34;swift-file&#34;&gt;Swift File&lt;/h3&gt;
&lt;p&gt;位置在
&lt;code&gt;/Applications/Xcode.app/Contents/Developer/Library/Xcode/Templates/File Templates/Source/Swift File.xctemplate&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;//___FILEHEADER___

import Foundation
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;swiftui-view&#34;&gt;SwiftUI View&lt;/h4&gt;
&lt;p&gt;位置在
&lt;code&gt;/Applications/Xcode-beta.app/Contents/Developer/Library/Xcode/ExtraTemplates/File Templates/User Interface&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//___FILEHEADER___&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;SwiftUI&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;___FILEBASENAMEASIDENTIFIER___&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;View&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;some&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;View&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;Text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;/*@START_MENU_TOKEN@*/&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Hello World!&amp;#34;&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;/*@END_MENU_TOKEN@*/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;cp&#34;&gt;#if&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;DEBUG&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;___FILEBASENAMEASIDENTIFIER____Previews&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PreviewProvider&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;previews&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;some&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;View&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;___FILEBASENAMEASIDENTIFIER___&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;#endif&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這些是跟著 Xcode.app 走的，而若是我們使用者自定義要使用的，得放在
&lt;code&gt;/Users/UserName/Library/Developer/Xcode/Templates&lt;/code&gt;
先建立一個資料夾，或是可以到上述的位置複製一份過來。
需要至少三個檔案&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;FILEBASENAME.swift&lt;/li&gt;
&lt;li&gt;TemplateIcon.png&lt;/li&gt;
&lt;li&gt;TemplateInfo.plist&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我自己的使用方式是複製系統的 Swift file 來做修改 🔧
也比較好去熟悉可替換文字和 header 的使用方式 👍&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Get ETH balance and tokens balance</title>
        <link>https://example.com/p/get-eth-balance-and-tokens-balance/</link>
        <pubDate>Sat, 04 May 2019 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/get-eth-balance-and-tokens-balance/</guid>
        <description>&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;p&gt;最近都在處理區塊鏈相關的問題，其中一個就是怎麼直接透過節點（****.infura.io）來取得 ETH 和其他 ERC-20 的地址餘額（balance）。&lt;/p&gt;
&lt;h1 id=&#34;json-rpc&#34;&gt;JSON RPC&lt;/h1&gt;
&lt;p&gt;ETH 節點所使用的 request body 是依照 JSON RPC 的方式，也就是我們所使用的 request path 都是相同的，像是主要的 &lt;a class=&#34;link&#34; href=&#34;https://mainnet.infura.io&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://mainnet.infura.io&lt;/a&gt; ；不同的是，我們可以透過不同的 body 內容來區別不同的需求。&lt;/p&gt;
&lt;h2 id=&#34;基本的-body-格式&#34;&gt;基本的 body 格式&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;jsonrpc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;method&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;method name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;params&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[],&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;取得-eth-餘額&#34;&gt;取得 ETH 餘額&lt;/h2&gt;
&lt;p&gt;取得 ETH 餘額的方式較為單純，節點有提供一個 method 是 eth_getBalance，使用起來如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;jsonrpc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;method&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;eth_getBalance&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;params&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;你的 ETH 地址&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;latest&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中這邊的 latest 意思是指向最新的那個區塊取資料的意思；&lt;/p&gt;
&lt;p&gt;我們便可以得到 response：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;jsonrpc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;result&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;0x0234c8a3397aab58&amp;#34;&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;//&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;158972490234375000&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中注意到一點是，result 所回應的是你這個地址有幾聰的 hex 字串，所以當我們取得的時候得注意一下。&lt;/p&gt;
&lt;h2 id=&#34;erc-20-的餘額&#34;&gt;ERC-20 的餘額&lt;/h2&gt;
&lt;p&gt;而 ERC-20 的餘額就沒有上述那麼直覺的取得方式了，我們需要透過別的 method 來完成這個動作。&lt;/p&gt;
&lt;p&gt;這邊我們只是需要取得餘額，而沒有更新合約的狀態，所以使用 eth_call 這個 method。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;jsonrpc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;method&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;eth_getBalance&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;params&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;#34;to&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Token 的 contract address&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;#34;data&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;data&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
    &lt;span class=&#34;s2&#34;&gt;&amp;#34;latest&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這邊的重點便是 data 的部分，它的組成為&lt;/p&gt;
&lt;p&gt;0x + 8 bits + 64 bits&lt;/p&gt;
&lt;p&gt;其中 8 bits 是由 function signature hash 的結果取前 8 bits；&lt;/p&gt;
&lt;p&gt;我們這邊所使用的 function 名稱是 balanceOf(address)，去做 Keccak-256（SHA-3）hash 可以得到&lt;/p&gt;
&lt;p&gt;70a08231b98ef4ca268c9cc3f6b4590e4bfec28280db06bb5d45e689f2a360be&lt;/p&gt;
&lt;p&gt;而前 8 bits 便是 70a08231。&lt;/p&gt;
&lt;p&gt;後 64 bits 則是所要查詢的 ETH 地址，&lt;/p&gt;
&lt;p&gt;000000000000000000000000 + 要查詢的地址 40 bits，&lt;/p&gt;
&lt;p&gt;所以組成起來的 data 欄位就會是：&lt;/p&gt;
&lt;p&gt;0x70a08231000000000000000000000000 + ETH 地址。&lt;/p&gt;
&lt;p&gt;這樣就可以取得相對應的 token 餘額了。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>BIP-39 Mnemonic validate</title>
        <link>https://example.com/p/bip-39-mnemonic-validate/</link>
        <pubDate>Mon, 22 Apr 2019 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/bip-39-mnemonic-validate/</guid>
        <description>&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;p&gt;最近處理了一些加密貨幣的問題，其中一個是助記詞的驗證，這邊將會解釋助記詞的生成和驗證方式。&lt;/p&gt;
&lt;h1 id=&#34;生成助記詞&#34;&gt;生成助記詞&lt;/h1&gt;
&lt;p&gt;首先我們這邊所介紹的是助記詞生成方式，先建立一個 128 bytes 的隨機序列，也就是隨機產生 16 個 UInt8 的序列；&lt;/p&gt;
&lt;p&gt;主要有分成 128、160、192、224、256 bits（每 32 bits 做為一個區間），而下列會以 128 bits 作為流程解釋。&lt;/p&gt;
&lt;h2 id=&#34;對隨機序列加密sha256&#34;&gt;對隨機序列加密（SHA256）&lt;/h2&gt;
&lt;p&gt;我們對剛剛所產生的序列做 SHA256 加密，便會得到由 32 個 UInt8 所組成的 Array。&lt;/p&gt;
&lt;h2 id=&#34;checksum&#34;&gt;Checksum&lt;/h2&gt;
&lt;p&gt;用來驗證助記詞是否正確的方式是透過 Checksum 來辨別，而 Checksum 的 size 為序列的長度 / 區間，如我們這邊所提及的 128 / 32 = 4；&lt;/p&gt;
&lt;p&gt;意思便是剛剛所加密完的序列，我們取前面 4 bytes 的數值當作 checksum。&lt;/p&gt;
&lt;h2 id=&#34;產生助記詞&#34;&gt;產生助記詞&lt;/h2&gt;
&lt;p&gt;而剛剛的隨機序列（128 bits）加上 4 bits 的 checksum 組成 132 bits，接著我們每 11 bits 作為一個分隔，也就可以得到 132 / 11 = 12 個數字。&lt;/p&gt;
&lt;p&gt;而每 11 bits 作為一個分隔的意思也意味著數字的區間落在 0 – 2047 之間，也就是為什麼 12 字的助記詞所支援的單字庫數量為 2048。&lt;/p&gt;
&lt;p&gt;接著就到詞庫裏頭撿取相對應 index 的字詞來組成助記詞。&lt;/p&gt;
&lt;h2 id=&#34;驗證助記詞&#34;&gt;驗證助記詞&lt;/h2&gt;
&lt;p&gt;驗證的方式就是將上述的流程反過來做，我們先講助記詞轉成詞庫的 index 順序；&lt;/p&gt;
&lt;p&gt;接著看最後 4 bits 的內容，也就是這組助記詞的 checksum。&lt;/p&gt;
&lt;p&gt;而前 128 bits 以 8 bits 作分隔，接著以 SHA256 加密，判斷前 4 bits 是否和剛剛提及的 checksum 相符。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Change login shells without chsh</title>
        <link>https://example.com/p/change-login-shells-without-chsh/</link>
        <pubDate>Fri, 15 Mar 2019 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/change-login-shells-without-chsh/</guid>
        <description>&lt;p&gt;前言
最近心血來潮更新了 brew，其中我正在使用的 shells – zsh 也一併更新了，才發現當初在從 bash 轉到 zsh 的時候有指定到版號的部分⋯也就是長得像這樣&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;/usr/local/bin/zsh-5.6.1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;而 zsh 一更新之後，我的 iterm2 便很合理地打不開，因為找不到 login 的 shells；
當初我是在 bash 裡頭使用 chsh 來變更&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;chsh -s $(which zsh)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;如今打不開 iterm2 該如何更改呢？&lt;/p&gt;
&lt;h3 id=&#34;使用者與群組&#34;&gt;使用者與群組&lt;/h3&gt;
&lt;p&gt;首先先到 使用者與群組&lt;/p&gt;
&lt;p&gt;並先解鎖來得到更改的權限&lt;/p&gt;
&lt;p&gt;就可以按住 control 並點擊使用者，就會出現 進階選項 可以選擇&lt;/p&gt;
&lt;p&gt;最後就可以在 登入 shell 那欄更改即可！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Resign .ipa</title>
        <link>https://example.com/p/resign-.ipa/</link>
        <pubDate>Wed, 13 Mar 2019 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/resign-.ipa/</guid>
        <description>&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;p&gt;我們都知道 iOS 是使用 ipa 檔案來安裝 app，而該如何換掉 ipa 裡頭的憑證呢？&lt;/p&gt;
&lt;h2 id=&#34;解壓縮&#34;&gt;解壓縮&lt;/h2&gt;
&lt;p&gt;首先，我們先將 Application.ipa 解壓縮，可以得到一個 PayLoad 的資料夾，裡頭包含著一個應用程式 Application。&lt;/p&gt;
&lt;h2 id=&#34;移除舊有的簽章&#34;&gt;移除舊有的簽章&lt;/h2&gt;
&lt;p&gt;接著我們透過 terminal 來進行移除的動作&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;rm -rf PayLoad/Application/_CodeSignature
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;找出你打算簽章的 provisionprofile&lt;/p&gt;
&lt;h3 id=&#34;你可以透過-apple-developer-的網頁直接下載或是查看本機裡頭的檔案路徑會是在&#34;&gt;你可以透過 Apple developer 的網頁直接下載，或是查看本機裡頭的檔案，路徑會是在：&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;~/資源庫/MobileDevice/Provisioning Profiles/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;用 Finder 到那路徑之後，可以使用空白鍵來進行預覽，
透過名稱以及 SHA-1 來辨別。&lt;/p&gt;
&lt;h3 id=&#34;嵌入-mobileprovision-到-app-之中&#34;&gt;嵌入 mobileprovision 到 app 之中&lt;/h3&gt;
&lt;p&gt;接著就複製並改名字放入 app 中&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cp yourProvisionProfile.mobileprovision Payload/Application.app/embedded.mobileprovision
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;來製作簽章所需要的-entitlementsplist&#34;&gt;來製作簽章所需要的 entitlements.plist&lt;/h3&gt;
&lt;p&gt;先將 .mobileprovision 輸入成 profile.plist&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;security cms -D -i yourProvisionProfile.mobileprovision  &amp;gt; profile.plist
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;再來利用 profile.plist 輸出成 entitlements.plist&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;/usr/libexec/PlistBuddy -x -c &#39;Print :Entitlements&#39; profile.plist &amp;gt; entitlements.plist\
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;記得-app-bundle-identifier-得和簽章的名稱一致&#34;&gt;記得 App Bundle Identifier 得和簽章的名稱一致&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;/usr/libexec/PlistBuddy -c &amp;quot;Set :CFBundleIdentifier tw.Archie.Application&amp;quot; Payload/Application.app/Info.plist
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;就可以開始簽章了&#34;&gt;就可以開始簽章了！&lt;/h2&gt;
&lt;p&gt;我們先透過 security 來找尋並複製剛剛 .mobileprovision 的 SHA-1&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;security find-identity -p codesigning -v
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;這邊記得要從 Frameworks 開始一個一個簽，再來才是 App 本身；
假設你的 mobileprovision SHA-1 為 &lt;code&gt;B77ED97FBFC708A802BDB159CC2ED4E2A4472A09&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;codesign -f -s B77ED97FBFC708A802BDB159CC2ED4E2A4472A09 --entitlements entitlements.plist Payload/Application.app/Frameworks/someFramework.framework
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;一個一個簽章完之後，便可以簽署 app 了&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;codesign -f -s B77ED97FBFC708A802BDB159CC2ED4E2A4472A09 --entitlements entitlements.plist Payload/Application.app/Application
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;最後確認是否有簽對&#34;&gt;最後確認是否有簽對&lt;/h2&gt;
&lt;p&gt;我們可以透過 codesign 來查詢&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;codesign -vv -d Payload/Application.app
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;如果資訊都沒錯的話，就來輸出吧！🎉&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;zip -qr Resigned.ipa Payload
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;題外話使用-xcode-安裝&#34;&gt;題外話，使用 Xcode 安裝&lt;/h1&gt;
&lt;p&gt;就在 Xcode 之中打開 Devices and Simulators 視窗，並將剛剛最後產出的 ipa 直接拖拉到你的裝置即可！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>CoreData with background task</title>
        <link>https://example.com/p/coredata-with-background-task/</link>
        <pubDate>Wed, 23 Jan 2019 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/coredata-with-background-task/</guid>
        <description>&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;p&gt;雖然在 iOS 上開發了幾年的時間，但一直到最近才開始使用 CoreData；之前在第一份工作的專案之中是使用 FMDB 來處理資料存取，而後續則是用了 Realm。&lt;/p&gt;
&lt;p&gt;選擇的原因分別是當時 FMDB 的速度較其餘兩者快速，而後來看上 Realm 的跨平台特色，不過近期開發的感想是能以原生為主的話，就儘量降低對於第三方套件的依賴性。&lt;/p&gt;
&lt;h1 id=&#34;這篇文章會記錄些什麼&#34;&gt;這篇文章會記錄些什麼&lt;/h1&gt;
&lt;p&gt;其實這篇文章並不會從頭到尾寫下教學，而把重點放在一些我踩到的雷上，像是⋯⋯&lt;/p&gt;
&lt;h2 id=&#34;記得要附上-sqlite-的路徑&#34;&gt;記得要附上 sqlite 的路徑&lt;/h2&gt;
&lt;p&gt;原先我的 persistentContainer 的產生方式如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kr&#34;&gt;lazy&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;persistentContainer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NSPersistentContainer&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;container&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NSPersistentContainer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;OfflineWallet&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;description&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NSPersistentStoreDescription&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shouldInferMappingModelAutomatically&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shouldMigrateStoreAutomatically&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;container&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;persistentStoreDescriptions&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;container&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;loadPersistentStores&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;bp&#34;&gt;fatalError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Unresolved error &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;, &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;describing&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_userInfo&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;container&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在模擬器上存取了幾次，每次都有 save 且第二次進入畫面的時候，都可以 fetch 得到資料，但是只要重開 App 就會從頭來過⋯⋯&lt;/p&gt;
&lt;p&gt;也就是說其實都只是像是存在 NSManagedObjectContext 上，而並沒有實際地轉成 sqlite。&lt;/p&gt;
&lt;p&gt;補上指定的 URL 即可解決。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;documentsDirectoryURL&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FileManager&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;urls&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;documentDirectory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;userDomainMask&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;first&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;sqliteURL&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;documentsDirectoryURL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;appendingPathComponent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;OfflineWallet.sqlite&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;url&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sqliteURL&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;performbackgroundtask-vs-newbackgroundcontext&#34;&gt;performBackgroundTask v.s newBackgroundContext&lt;/h2&gt;
&lt;p&gt;要實作 backgroundTask 有兩種作法&lt;/p&gt;
&lt;h3 id=&#34;nspersistentcontainerperformbackgroundtask&#34;&gt;NSPersistentContainer.performBackgroundTask&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;n&#34;&gt;persistentContainer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;performBackgroundTask&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;context&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//do something in background thread&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;NSPersistentContainer 會建立一個 context 在這個 closure 裡頭使用，而重點是當這條 thread 結束之後，這個 context 所管理的物件（NSManagedObjectModel）的所有變數會釋放掉，也就是都會變成 nil。&lt;/p&gt;
&lt;p&gt;適合用於取得資料並轉型成其他 class / structure 的時候使用。&lt;/p&gt;
&lt;h3 id=&#34;newbackgroundcontext&#34;&gt;newBackgroundContext&lt;/h3&gt;
&lt;p&gt;而如果你必須在後續的程式之中繼續使用 context 所產生的 NSManagedObjectModel 時，你就得要保存其 context；像是建立一個 backgroundContext 並存下來使用：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kr&#34;&gt;lazy&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;backgroundContext&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;persistentContainer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;newBackgroundContext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;//you should use this context to do something what you want&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;backgroundContext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;perform&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;//do something like before&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;此時由於這個 context 並沒有被釋放掉，所以其 NSManagedObjectModel 的所有變數便也會持有著；而依然是在其他 thread 上進行，並不會佔據 main thread。&lt;/p&gt;
&lt;h2 id=&#34;待續&#34;&gt;待續&lt;/h2&gt;
&lt;h3 id=&#34;分頁讀取&#34;&gt;分頁讀取&lt;/h3&gt;
&lt;p&gt;筆記一下 NSFetchRequest 有提供 fetchLimit 以及 fetchOffset 可以用來做分頁讀取的功能。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>SwiftLint</title>
        <link>https://example.com/p/swiftlint/</link>
        <pubDate>Mon, 07 Jan 2019 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/swiftlint/</guid>
        <description>&lt;h1 id=&#34;swiftlint&#34;&gt;SwiftLint&lt;/h1&gt;
&lt;p&gt;去年（2018）年末的時候，在 Twitter 上看到一些朋友們在討論著 SwiftLint 的使用，於是便也嘗試在目前公司的專案中導入，來解決 Coding Style 的問題。&lt;/p&gt;
&lt;h2 id=&#34;coding-style-的問題&#34;&gt;Coding Style 的問題&lt;/h2&gt;
&lt;p&gt;剛進入到這家公司時，最痛苦的事情莫過於毫無章法的 Coding Style，這部分就不一一細數了，詳情可以看前陣子我的 Twitter 動態。&lt;/p&gt;
&lt;p&gt;專案裡頭每個人寫的格式不同，會造成其他人在閱讀專案時，大幅增加理解彼此想法的成本&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;簡單來說就是浪費一堆時間在猜你在寫什麼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;為了讓專案裡頭的大家有差不多的 Coding Style，可以選擇使用 SwiftLint 來處理這個情況。&lt;/p&gt;
&lt;h2 id=&#34;實際嘗試&#34;&gt;實際嘗試&lt;/h2&gt;
&lt;p&gt;首先先以 SwiftLint 的官方教學來安裝和建構環境，並利用 &lt;a class=&#34;link&#34; href=&#34;https://twitter.com/ethanhuang13&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Ethan&lt;/a&gt; 的 &lt;a class=&#34;link&#34; href=&#34;https://gist.github.com/ethanhuang13/a5d54300a74aef1168b5c2ea2e03d02e&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;SwiftLint rules&lt;/a&gt; 當作基底來調整，先以別人的規範來看看差異性。&lt;/p&gt;
&lt;p&gt;一跑下去便是直接噴了 3000+ issues⋯⋯&lt;/p&gt;
&lt;p&gt;可以透過 &lt;a class=&#34;link&#34; href=&#34;https://github.com/realm/SwiftLint/blob/master/Rules.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Rules.md&lt;/a&gt; 來逐條看看定義並透過 example 來看怎麼算是 Non Trggering 和 Triggering；再來一條一條調整改進。&lt;/p&gt;
&lt;h3 id=&#34;一些心得&#34;&gt;一些心得&lt;/h3&gt;
&lt;p&gt;目前公司的專案從 3000+ ➡️ 17 warings，而這 17 條是我還沒 refactor 到的 features，所以就還沒那麼急著去調整。&lt;/p&gt;
&lt;h3 id=&#34;private_outlet-和-private_action&#34;&gt;private_outlet 和 private_action&lt;/h3&gt;
&lt;p&gt;而其中一條規則 private_outlet 給我的感觸挺深刻的，由於我大多數的工作經歷是獨立開發居多，而每個 IBOutlet 都必須為 private 是第一份工作時所踩到的坑；當時公司共有兩位 iOS 工程師，彼此皆為 Junior 的程度，故沒什麼規範和概念，於是便會出現一些神秘的情境⋯⋯&lt;/p&gt;
&lt;p&gt;像是不知道為什麼你負責的 UIViewController 刻出來的畫面就是和你想的不太一樣，才發現另一個地方（別人寫的 code）在直接修改畫面的 Layout / value⋯⋯&lt;/p&gt;
&lt;p&gt;後來就體會到物件的每個變數和 functions 的 access 問題，而這條規則便是解釋著 IBOutlet 不應該可以直接從其他地方呼叫、修改，像是被這麼做：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;n&#34;&gt;fooViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fooLabel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Test&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;從那時候開始養成的習慣到現在，當發覺其實有其他人也是這麼做，並將它視為一條 rule 的時候真的覺得有點小感動！&lt;/p&gt;
&lt;h3 id=&#34;整體來說&#34;&gt;整體來說&lt;/h3&gt;
&lt;p&gt;你可以透過這個 SwiftLint 來反覆思考一些寫程式上的問題，像是 function 的長度、class 的長度以及 Swift 檔案的長度等；如何切割每個物件和 function 等，都是相當值得去思索的習慣問題。&lt;/p&gt;
&lt;p&gt;不過也不需要逐條都導入到專案之中，建議是花一些時間找到你最認同的那幾條 rules 來遵循即可！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>AWS EC2 with WordPress</title>
        <link>https://example.com/p/aws-ec2-with-wordpress/</link>
        <pubDate>Sun, 06 Jan 2019 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/aws-ec2-with-wordpress/</guid>
        <description>&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;h2 id=&#34;vultr&#34;&gt;Vultr&lt;/h2&gt;
&lt;p&gt;這個網站原本是在 Vultr 上開一台機器，每個月大概的費用為 USD $6 – 7 元之間，並利用 Certbot 自動更新 SSL 憑證。但後來發現不太會維護那台機器，時常因為記憶體造成資料庫錯誤，每隔兩三天就得去手動重新啟動來解決問題，乾脆就搬家到 WordPress.com 的服務。&lt;/p&gt;
&lt;h2 id=&#34;wordpresscom&#34;&gt;WordPress.com&lt;/h2&gt;
&lt;p&gt;而 WordPress.com 的好處就是全部幫你處理好好的，然後我使用的是個人版的方案；NT$ 130 / 月，便有提供轉址的功能和一年份免費的網域。不過由於我自己是向 PChome 買 Archie.tw，所以主要是為了轉過去而付費。&lt;/p&gt;
&lt;p&gt;但使用服務和自己開一台機器的差異性就在於彈性，像是安裝外掛便被放在商務版的功能之中，而費用為 NT$ 799 / 月。&lt;/p&gt;
&lt;p&gt;這樣一用也用了一段時間，直到近期註冊了 AWS 的服務，便決定搬移到 AWS 上。&lt;/p&gt;
&lt;h2 id=&#34;aws&#34;&gt;AWS&lt;/h2&gt;
&lt;p&gt;在 AWS 上新註冊的用戶可以擁有一年的免費方案，而這個網站目前使用到幾個 AWS 服務分別為&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;EC2&lt;/li&gt;
&lt;li&gt;Load Balancer&lt;/li&gt;
&lt;li&gt;Certificate Manager&lt;/li&gt;
&lt;li&gt;Route 53&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這邊來介紹我的流程：&lt;/p&gt;
&lt;h3 id=&#34;key-pairs&#34;&gt;Key Pairs&lt;/h3&gt;
&lt;p&gt;首先我們先到 EC2 的頁面選擇 NETWORK &amp;amp; SECURITY ➡️ Key Pairs 來建立一組 Key pair，用於之後連接到 EC2 instance&lt;/p&gt;
&lt;h3 id=&#34;ec2&#34;&gt;EC2&lt;/h3&gt;
&lt;p&gt;透過 AWS Markeyplace 開一台新的 instance，使用 WordPress Certified by Bitnami 搭配 t2.micro 的免費方案；而之後若有收費的時候，約為 USD$ 0.012 / 小時，也就是一個月 USD$ 8.64 / 月。
一路照著步驟走，若你本身沒有其他服務要規劃的話，後續的動作都不需要做任何調整，就可以開好一台裡頭已經安裝好 WordPress 的 EC2 了。&lt;/p&gt;
&lt;p&gt;這時候你就可以使用那台 EC2 的 Public IP 來開啟你的 WordPress 了！&lt;/p&gt;
&lt;h3 id=&#34;使用者&#34;&gt;使用者&lt;/h3&gt;
&lt;p&gt;在網址的最後加上 /admin 可以開啟管理後台，預設的使用者名稱為 user，而密碼的部分可以透過 EC2 Actions ➡️ Instance Settings ➡️ Get System Log 來查看，裡頭會有標註出密碼的欄位。&lt;/p&gt;
&lt;h3 id=&#34;綁定個人網域&#34;&gt;綁定個人網域&lt;/h3&gt;
&lt;p&gt;我們需要透過 Route 53 來處理個人網域的綁定動作，並使用 Load Balancer 和 Certicate Manager 來處理 HTTPS 的連線。&lt;/p&gt;
&lt;p&gt;首先先到 Route 53 的 Hosted zones 建立一個 Hosted Zone 備著，其中你會需要將 NS 帶入到購買網域的管理頁面去設定，並進行 Certificate Manager 建立 SSL certificate。&lt;/p&gt;
&lt;p&gt;建立憑證的時候，會需要將 CHAME 帶入到 Route 53 裡頭，再來建立一個 Load Balancer 來取得 DNS name，這時候再填入到 Route 53 裡頭便完成了 AWS 這部分的建構。&lt;/p&gt;
&lt;p&gt;最後還需要使用最前面所建立的 Key pair 連線到 instance 上，來開啟 HTTPS 的功能。&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.bitnami.com/aws/how-to/configure-elb-ssl-aws/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Bitnami WordPress 詳細的 SSL 圖文教學&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;-幾個需要注意的地方&#34;&gt;⚠️ 幾個需要注意的地方&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Key Pairs 需要建立在 EC2 instance 之前，且弄丟了你就無法連回去那台 instance 了&lt;/li&gt;
&lt;li&gt;Route 53、Certificate Manager CHAME 那些設定是需要一些時間轉移的&lt;/li&gt;
&lt;li&gt;Route 53 和 Load Balancer 是需要收費的功能&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;整體費用的部分我一個月收再來更新這網站一共得支出多少在 AWS 上，處理完這個之後就可以來補上前陣子的 iOS 心得了！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>POSTMAN – Pre-request script</title>
        <link>https://example.com/p/postman-pre-request-script/</link>
        <pubDate>Fri, 19 Oct 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/postman-pre-request-script/</guid>
        <description>&lt;p&gt;POSTMAN 除了可以發送 request 到 server 之外，也有提供 pre-request script 的功能，讓我們可以撰寫 script 來進行一連串的測試。
舉個例子，我們有三支 API，邏輯為 名稱（Request body）【Response body】：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;登入（帳號、密碼）【Token】&lt;/li&gt;
&lt;li&gt;取得使用者的消費紀錄列表（Token）【Array&lt;!-- raw HTML omitted --&gt;】&lt;/li&gt;
&lt;li&gt;取得單筆消費紀錄（Receipt ID）【Receipt】&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在沒有撰寫 pre-request 之前若要取得 Receipt 的話，我們得要先呼叫 登入，接著手動複製 Token 到 取得使用者的消費紀錄列表 的 request body 裡頭，然後再複製⋯⋯（你們應該懂）
這邊就來教教如何先寫好 script，之後只要按最後你想得到的那支 API 就行了！&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;account&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;account&amp;#39;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;password&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;password&amp;#39;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;index&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
pm.sendRequest&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt;
    url: &lt;span class=&#34;s1&#34;&gt;&amp;#39;https://Archie.tw/login?account=&amp;#39;&lt;/span&gt; + account + &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;amp;password=&amp;#39;&lt;/span&gt; + password,
    method: &lt;span class=&#34;s1&#34;&gt;&amp;#39;get&amp;#39;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;err, response&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;token&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; response.json&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;.token&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    pm.sendRequest&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt;
        url: &lt;span class=&#34;s1&#34;&gt;&amp;#39;https://Archie.tw/getReceiptList?token=&amp;#39;&lt;/span&gt; + token,
        method: &lt;span class=&#34;s1&#34;&gt;&amp;#39;get&amp;#39;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;err, response&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        pm.environment.set&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;receiptIdentifier&amp;#34;&lt;/span&gt;, response.receiptIdentifier&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接著在 Params / Body 那邊就可以使用剛剛所定義的環境變數（{{receiptIdentifier}}）了！&lt;/p&gt;
&lt;p&gt;然後請不要真的打範例的 url，是不會有東西回給你的（真的）。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Info.plist localized</title>
        <link>https://example.com/p/info.plist-localized/</link>
        <pubDate>Thu, 18 Oct 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/info.plist-localized/</guid>
        <description>&lt;p&gt;一些需要權限的功能都會需要在 Info.plist 裡頭加上說明，而這個說明要實作多語系則是建立一個 InfoPlist.strings（沒錯，名字就是這樣）
然後對相對應得 Key 填寫翻譯，像是：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;NSLocationWhenInUseUsageDescription = &amp;quot;說明填寫&amp;quot;;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;就可以在要使用位置的說明處顯示多語系的結果了。&lt;/p&gt;
&lt;p&gt;至於其他的 Key 可以從 &lt;a class=&#34;link&#34; href=&#34;https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;CocoaKey 官方文件&lt;/a&gt;以及 &lt;a class=&#34;link&#34; href=&#34;https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;CoreFundationKey&lt;/a&gt; 找找。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Git submodule</title>
        <link>https://example.com/p/git-submodule/</link>
        <pubDate>Sun, 16 Sep 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/git-submodule/</guid>
        <description>&lt;p&gt;有些時候，我們會需要幾個檔案和其他專案共用，而 iOS 的專案可以採取 CocoaPods / Carthage，但如果是要和其他語言共用的話該怎麼辦呢？&lt;/p&gt;
&lt;p&gt;舉個例子，Server 和 Client 之間傳遞 Status Code，像是 code: 20000、20001、20002 之類的，收到 code 後要再做後續動作。&lt;/p&gt;
&lt;p&gt;不過一份 Code 的定義散落在多個平台 / 專案之中，難免會有人雷的時候；不論是 client 記錯或是 server 回錯，而若是有個地方可以共同維護的話，便可以減少這種失誤。&lt;/p&gt;
&lt;p&gt;所以就把那些文件（e.g .json）放到 repository 上，然後在你的專案之中：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git submodule add YourDocumentRepository.git
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;就會在你的專案資料夾中看到 clone 下來的結果，接著再將檔案拖拉至專案之中即可使用。
若要更新 submodule，則下&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git submodule update
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;或是到 clone 下來的資料夾&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git pull
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;像是如果懶得在每一個檔案都 import PodName，就直接弄成 Submodule 的方式來處理也行！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Create CocoaPods by yourself</title>
        <link>https://example.com/p/create-cocoapods-by-yourself/</link>
        <pubDate>Sat, 15 Sep 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/create-cocoapods-by-yourself/</guid>
        <description>&lt;p&gt;這篇文章會介紹建立自己的 &lt;a class=&#34;link&#34; href=&#34;../cocoapods&#34; &gt;CocoaPods&lt;/a&gt; 流程，而我當初是看了 &lt;a class=&#34;link&#34; href=&#34;https://github.com/yoxisem544&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;David&lt;/a&gt; 的&lt;a class=&#34;link&#34; href=&#34;https://medium.com/@davidlin_98861/%e5%a6%82%e4%bd%95%e5%bb%ba%e7%ab%8b%e4%b8%80%e5%80%8b%e5%b1%ac%e6%96%bc%e8%87%aa%e5%b7%b1%e7%9a%84-cocoapods-ab0613a1d2e9&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;教學文&lt;/a&gt;所跑的流程。&lt;/p&gt;
&lt;p&gt;首先，先建立一個新的 Pod&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pod lib create YourPodName
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;接著依照自己的 Pod 內容回答問題，便會生成一個新的專案出來。&lt;/p&gt;
&lt;p&gt;再來將 Code.Swift 丟到 Pods/Development Pods/YourPodName，也就是它預設 ReplaceMe.Swift 的那個地方。&lt;/p&gt;
&lt;p&gt;最後 README.md 和 YourPodName.podspec 寫一寫就完成了 Pod 的準備。&lt;/p&gt;
&lt;p&gt;而預設的 REAMME.md 裡頭，有一個 CI Status，你可以移除或者到 Travis.CI 建構；&lt;/p&gt;
&lt;p&gt;從 Travis.CI 那邊可以得知如何建構一個 .travis.yml。&lt;/p&gt;
&lt;p&gt;都準備好之後，在 GitHub 上開一個 repository 來放置，記得要放上 tag 標記目前的版本。&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pod spec lint YourPodName.podspec
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;最後就送出去就好了！&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pod trunk push YourPodName.podspec
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;如果你沒有註冊過的話，得先註冊一下：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pod trunk register email@domain.com &#39;Your Name&#39;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;而如果你有在 .podspec 裡頭填寫你的 Twitter 的話，就會收到 CocoaPods 貼的文！&lt;/p&gt;
&lt;p&gt;如果你搜尋不到你的 Pod 的話，可以清除目前的 cache 就可以順利找到了！&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;rm -rf ~/Library/Caches/CocoaPods
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>UUID with version 3, 5 and name spaces</title>
        <link>https://example.com/p/uuid-with-version-3-5-and-name-spaces/</link>
        <pubDate>Fri, 14 Sep 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/uuid-with-version-3-5-and-name-spaces/</guid>
        <description>&lt;p&gt;在 Swift 裏頭，預設的 UUID 只能從 UUID() 來產生，或者是從另一個 UUID 來產生，
這邊來記錄一下如何從 String 來產生 UUID。
首先，先在 Bridge-Header.h 裡頭加入&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;p&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;CommonCrypto&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;CommonCrypto&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;再來寫個 UUID 的 extension：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;extension&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UUID&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;enum&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UUIDVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;v3&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;v5&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;enum&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UUIDv5NameSpace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dns&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;6ba7b810-9dad-11d1-80b4-00c04fd430c8&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;6ba7b811-9dad-11d1-80b4-00c04fd430c8&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;oid&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;6ba7b812-9dad-11d1-80b4-00c04fd430c8&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x500&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;6ba7b814-9dad-11d1-80b4-00c04fd430c8&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UUIDVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nameSpace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UUIDv5NameSpace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// Get UUID bytes from name space:&lt;/span&gt;
        &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;spaceUID&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uuidString&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nameSpace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rawValue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uuid&lt;/span&gt;
        &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;withUnsafePointer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;spaceUID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MemoryLayout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ofValue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;spaceUID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        
        &lt;span class=&#34;c1&#34;&gt;// Append name string in UTF-8 encoding:&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;contentsOf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utf8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        
        &lt;span class=&#34;c1&#34;&gt;// Compute digest (MD5 or SHA1, depending on the version):&lt;/span&gt;
        &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;digest&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;UInt8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;](&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;repeating&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CC_SHA1_DIGEST_LENGTH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;withUnsafeBytes&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;UnsafePointer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;UInt8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Void&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;version&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CC_MD5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CC_LONG&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;digest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CC_SHA1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CC_LONG&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;digest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        
        &lt;span class=&#34;c1&#34;&gt;// Set version bits:&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;digest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;0x0F&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;digest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;UInt8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rawValue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// Set variant bits:&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;digest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;0x3F&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;digest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|=&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;0x80&lt;/span&gt;
        
        &lt;span class=&#34;c1&#34;&gt;// Create UUID from digest:&lt;/span&gt;
        &lt;span class=&#34;kc&#34;&gt;self&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NSUUID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uuidBytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;digest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UUID&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;就可以使用新的 init method 來產生新的 UUID：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;n&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UUIDVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nameSpace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UUIDv5NameSpace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Socket.IO</title>
        <link>https://example.com/p/socket.io/</link>
        <pubDate>Thu, 13 Sep 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/socket.io/</guid>
        <description>&lt;p&gt;這篇文章會介紹有關於 Socket.IO 在 server 端以及 iOS 端的一些實作分享。&lt;/p&gt;
&lt;h1 id=&#34;server&#34;&gt;Server&lt;/h1&gt;
&lt;p&gt;首先我們可以先從 Socket.IO 的 &lt;a class=&#34;link&#34; href=&#34;https://socket.io/get-started/chat/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Get started&lt;/a&gt; 開始，它是以 Node.JS 所編寫的，所以先在資料夾位置執行&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm init
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;邊可以取得基本的一些檔案和 package.json。
接著安裝 Socket.IO 所需要的 express&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install --save express@4.15.2
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然後新建一個 index.js 的檔案，貼上&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;app&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;express&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)();&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Server&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;req&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;send&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;lt;h1&amp;gt;Hello world&amp;lt;/h1&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;listen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;listening on *:3000&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這樣待會執行 node index.js 的時候便可以從 http://localhost:3000 來連上這個 server。&lt;/p&gt;
&lt;p&gt;確認 server 目前是可以連上後，便開始安裝 Socket.IO 到其中&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install --save socket.io
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;並在 index.js 裏頭加上 Socket.IO 的 code：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;io&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;socket.io&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;connection&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;a user connected&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這樣便完成監聽 client 連接上 server 的事件了。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;connection&lt;/code&gt; 是 socket.io 所定義的 event，而這個 event 會取得 socket 回來，所以以 function(socket) 的方式去接收並處理後續。
不過這裡的 io 可以想成是一個 server，所以每收到一個 client 的 connection 事件，都會執行 function(socket)；而我們若要監聽個別連線的事件，則是使用 socket 來處理：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;disconnect&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;user disconnected&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;也就是說，像是登入、傳送訊息等，和個別使用者相關的動作，我們都是以 socket 來處理。&lt;/p&gt;
&lt;p&gt;而除了監聽（on）外，發送（emit）的動作也是如此，像是我想推一段文字給特定的使用者：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;emit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;new message&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;嗨！&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在 client 以及 server 端先彼此定義好 event 名稱，這樣就可以知道要監聽的事件為哪些。&lt;/p&gt;
&lt;p&gt;什麼時候該用 io 發送，什麼時候該用 socket 呢？&lt;/p&gt;
&lt;p&gt;舉個例子，我們建立一個 Socket.IO 的大聊天室，任何人只要連上這個網址，便等同於加入這個聊天室。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用者上、下線會顯示提醒&lt;/li&gt;
&lt;li&gt;說髒話的人會個別收到「此訊息無法傳送」的訊息&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;connection&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;emit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;new user&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;有人加入了這個聊天室！&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;add message&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;indexOf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;馬的&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;emit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;new message&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;此訊息無法傳送&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;emit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;new message&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39; 說：&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;disconnect&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;emit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;user leave&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;有人離開了這個聊天室！&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;上面便可以得知哪種時候應該要大家都可以接收到、而哪種是只會有個別的使用者接收到。
再來介紹一下 ack，在發送一個 event 時，可以在後面補上一個 ack，而當對方收到的時候，可以透過 ack 來傳遞 data，而非再發送一個新的 event。
有點像是 HTTP request 的概念，發送一個 request（emit），接著對方會回傳 response（ack），不過這並不一定會有，也就是說你發送（emit）了一個 event 過去，雖然有夾帶著 ack，但是對方若沒接收那個 ack 的話也是沒用。&lt;/p&gt;
&lt;p&gt;這邊是一個例子，我們從 server 給沒有收過這則廣告的使用者傳送一則過去，並希望使用者真的有收到，若沒收到下次就再傳一次：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// 判斷使用者是否有收到過廣告，若沒有的話執行
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;emit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;new advertise&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;恭喜您獲得 $1,000 元折扣！&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;userID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;使用者(&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;userID&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;)收到廣告了！&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//去資料庫更新，下次不用再推給這個 userID
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中，function(userID) 便是一個 ack 或者可以說是 callback。
相對的，收到訊息的時候，server 也可以回傳 ack 回去給 client 告知：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;add message&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ack&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;收到: &amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;ack&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;伺服器收到你的訊息了&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;！&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;請放心&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;！&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如此一來，便會在收到訊息之後，以 ack 的方式回傳訊息回去。
而 ack 和 emit 所發送出去有什麼不同？
在 Socket.IO 的 protocol 裏頭有定義：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Packet#CONNECT ( 0 )&lt;/li&gt;
&lt;li&gt;Packet#DISCONNECT ( 1 )&lt;/li&gt;
&lt;li&gt;Packet#EVENT ( 2)&lt;/li&gt;
&lt;li&gt;Packet#ACK ( 3 )&lt;/li&gt;
&lt;li&gt;Packet#ERROR ( 4 )&lt;/li&gt;
&lt;li&gt;Packet#BINARY_EVENT ( 5 )&lt;/li&gt;
&lt;li&gt;Packet#BINARY_ACK ( 6 )
所以其實雖然動作類似，但 Socket.IO 可以辨別其中的差異，進而可以在 Socket 之中達到 Request、Response 的概念。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;client&#34;&gt;Client&lt;/h2&gt;
&lt;p&gt;Client 的部分，可以使用 Socket.IO 所提供的 Swift framework，它是基於 Starscream 所開發出來的，如同上述說的有使用到 WebSocket 來連接。
以 Swift 來說：&lt;/p&gt;
&lt;p&gt;let manager = SocketManager(socketURL: URL(string: &amp;ldquo;http://localhost:3000&amp;rdquo;)!, config: [configs])
let socket = manager.defaultSocket
這邊介紹幾個我所使用到的 configs&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;.log(true)：開啟 LOG 的功能。&lt;/li&gt;
&lt;li&gt;.forceWebsockets(true)：若沒有使用這個的話，會以 HTTP polling 的方式連接，從 header 來看的話，就會顯示 connection: keep-alive；而使用了 .forceWebsockets(true) 的話，則會使用 WebSocket 來連線，則會顯示 connection: upgrade。&lt;/li&gt;
&lt;li&gt;.reconnectAttempts(int)：重新嘗試連線 n 次，超過就放棄。&lt;/li&gt;
&lt;li&gt;.connectParams([String: Any])：這邊可以放 token 來做 Authentication。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;為什麼不在 header 裏頭加上 Authentication 的欄位？&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://socket.io/docs/client-api/#With-extraHeaders&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;這邊 Socket.IO 有做解釋，為什麼不建議在 extraHeaders 加東西。&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;而 on / emit / emitWithAck 這幾個的用法就和 server 的概念一樣，這邊就不再多做解釋，&lt;/p&gt;
&lt;p&gt;之後實作有遇到什麼事情再來補充（或是新文章）！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>StatusBarStyle</title>
        <link>https://example.com/p/statusbarstyle/</link>
        <pubDate>Wed, 12 Sep 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/statusbarstyle/</guid>
        <description>&lt;p&gt;最近改寫了 StatusBarStyle 的控制方式，從 iOS 9 之前是使用&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;n&#34;&gt;UIApplication&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shared&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;statusBarStyle&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;並在 info.plist 的 View controller-based status bar appearance 欄位設為 NO。
而後來則改為覆寫 preferredStatusBarStyle 的方式，就不用在 viewWillAppear / viewWillDisappear 的時候手動控制 StatusBarStyle。
首先先確認 info.plist 之中 View controller-based status bar appearance 是為 YSE，
代表我們是透過 View controller-based 的方式來更改 status bar style。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kr&#34;&gt;override&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;preferredStatusBarStyle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIStatusBarStyle&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;而配合 UINavigationController 的使用，可以以 Subclass 或是 Extension 的方式來實作，
這就得看專案需求了。&lt;/p&gt;
&lt;h3 id=&#34;subclass&#34;&gt;Subclass&lt;/h3&gt;
&lt;p&gt;在 BaseNavigationController 裏頭，利用 childForStatusBarStyle 回傳要呼叫哪個 UIViewController 的 preferredStatusBarStyle&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kr&#34;&gt;override&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;childForStatusBarStyle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topViewController&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這樣每當 UINavigationController 畫面在切換時，便會將 topViewController 叫出來問問它 preferredStatusBarStyle 要什麼樣式。&lt;/p&gt;
&lt;h3 id=&#34;extension&#34;&gt;Extension&lt;/h3&gt;
&lt;p&gt;我們透過 extension UINavigationController 的方式也可以達到一樣的效果&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;extension&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UINavigationController&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kr&#34;&gt;override&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;open&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;childForStatusBarStyle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topViewController&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如此就不用為了 childForStatusBarStyle 來多寫一個 subclass。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Xcode beta with CocoaPods</title>
        <link>https://example.com/p/xcode-beta-with-cocoapods/</link>
        <pubDate>Tue, 11 Sep 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/xcode-beta-with-cocoapods/</guid>
        <description>&lt;p&gt;Xcode 10 beta 的 Swift 版本為 4.2，而若你目前所使用的 Pods 多數為 Swift 4 的話，該怎麼辦呢？&lt;/p&gt;
&lt;p&gt;你可以在 Podfile 裏頭加上全域的參數來規範所有 Pods 的 Swift version：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ruby&#34; data-lang=&#34;ruby&#34;&gt;&lt;span class=&#34;n&#34;&gt;post_install&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;installer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;installer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pods_project&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;targets&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;each&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;build_configurations&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;each&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;build_settings&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;SWIFT_VERSION&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;4&amp;#39;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;end&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;end&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如此一番便可以輕鬆地在 Pods 還沒全面支援 Swift 4.2 時就可以使用 Xcode 10 Beta 開發👏&lt;/p&gt;
</description>
        </item>
        <item>
        <title>CompactMap vs flatMap</title>
        <link>https://example.com/p/compactmap-vs-flatmap/</link>
        <pubDate>Mon, 10 Sep 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/compactmap-vs-flatmap/</guid>
        <description>&lt;p&gt;直接從 code 來看兩者之間和 map 的差異&lt;/p&gt;
&lt;h1 id=&#34;compactmap&#34;&gt;CompactMap&lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;scores&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;four&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;5&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;mapped&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scores&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;map&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;str&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// [1, 2, 3, nil, 5] &lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;compactMapped&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scores&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compactMap&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;str&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// [1, 2, 3, 5]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;flatmap&#34;&gt;flatMap&lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;users&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Archie&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scores&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ArchieChang&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scores&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])]&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;mapped&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;map&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;scores&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// [[1, 2, 4], [3, 2, 5]]&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;flatMapped&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;flatMap&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;scores&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// [1, 2, 4, 3, 2, 5]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在使用情境上，CompactMap 可以將 nil 給過濾掉，使得回傳的陣列為 non optional 的型態；&lt;/p&gt;
&lt;p&gt;原先還在使用 map + filter 來處理 nil 的部分，可以直接使用 CompactMap 處理，減少多一次的陣列迴圈。&lt;/p&gt;
&lt;p&gt;而 flatMap 則是在將所有陣列的內容整合進同一個陣列，如我們需要計算全體使用者的總得分時，便可以先將個別使用者的分數集結成一個陣列來處理。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>UserDefaults with Structure</title>
        <link>https://example.com/p/userdefaults-with-structure/</link>
        <pubDate>Wed, 15 Aug 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/userdefaults-with-structure/</guid>
        <description>&lt;p&gt;有時候我們會將一些用戶資訊存在 UserDefaults 裡頭，是個方便且直覺的存取方式。&lt;/p&gt;
&lt;p&gt;而 UserDefaults 並非是所有型別都可以接受，如你自己建構的 struct 或 class，&lt;/p&gt;
&lt;p&gt;就需要先轉成 Data 的格式來存取。&lt;/p&gt;
&lt;p&gt;這邊就來介紹如何存取 User 這個 struct：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;email&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這是一個簡單的 User structure，若要轉成 Data 的話，得先將 User 宣告成 Codable，&lt;/p&gt;
&lt;p&gt;這樣就可以透過 PropertyListEncoder 和 PropertyListDecoder 來處理 User 和 Data 之間的 encode decode。&lt;/p&gt;
&lt;p&gt;而最近喜歡使用 extension 的方式來處理 UserDefaults：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;extension&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UserDefaults&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kr&#34;&gt;get&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;guard&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;forKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;#function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PropertyListDecoder&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;decode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Profile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;kr&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;profile&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;newValue&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;kr&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PropertyListEncoder&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;encode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;profile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;forKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;#function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;kr&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;forKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;#function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;我們利用 #function 的特性，將 function name (user) 直接作為 UserDefaults 的 key，&lt;/p&gt;
&lt;p&gt;再加上一些判斷是否為 nil 的處理，便可以輕鬆底使用 UserDefaults 存取我們所定義的 structure。&lt;/p&gt;
&lt;p&gt;存取 UserDefaults 裡頭的 User 就可以變成很單純的 get 和 set：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// get user from UserDefaults
let user = UserDefaults.standard.user
// set user
UserDefaults.standard.user = user
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>Git LFS ( Large File Storage )</title>
        <link>https://example.com/p/git-lfs-large-file-storage/</link>
        <pubDate>Tue, 14 Aug 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/git-lfs-large-file-storage/</guid>
        <description>&lt;p&gt;今天在更新 Blay 的 Pods 時，發現 Realm 的某個檔案（60.04 MB）超出了 GitHub 的上限（50.00 MB），所以無法順利地將檔案推上去 GitHub，而 Git 也自行 untracked 那個檔案，所以在 git status 上便失去了蹤影。&lt;/p&gt;
&lt;p&gt;至於&lt;a class=&#34;link&#34; href=&#34;../pods-%e5%88%b0%e5%ba%95%e9%9c%80%e4%b8%8d%e9%9c%80%e8%a6%81%e6%94%be%e5%9c%a8-.gitignore&#34; &gt;為什麼會將 Pods 的檔案全推到 GitHub 上&lt;/a&gt;呢？&lt;/p&gt;
&lt;p&gt;而在 git push 的時候，有顯示解決的方法，便是今天的主題：&lt;/p&gt;
&lt;h1 id=&#34;git-lfshttpsgit-lfsgithubcom&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://git-lfs.github.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Git LFS&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;首先我們透過 brew 來安裝 git lfs&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;brew install git-lfs
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;接著繼續在 git 裡頭安裝&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git lfs install
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;再來我們就來定義哪些檔案需要被 lfs track，像我這邊是這樣：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git lfs track &#39;Pods/Realm/core/librealmcore-ios.a&#39;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然後可以透過指令來確認是否有被加入到 track 的名單&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git lfs track
git status
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;現在就可以從 git status 之中再次看到剛剛沒推成功的檔案被 track 了！&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git lfs track 的內容會被記錄到 .gitattributes 裡頭，所以也一併推上 GitHub 即可完成！
git push
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;這樣便可以在 GitHub 上處理單個檔案超過 50.00 MB 的問題，不過&lt;a class=&#34;link&#34; href=&#34;https://help.github.com/articles/about-storage-and-bandwidth-usage/#bandwidth-quota&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;免費流量為 1GB / month&lt;/a&gt;。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Fastlane pilot issue</title>
        <link>https://example.com/p/fastlane-pilot-issue/</link>
        <pubDate>Sun, 12 Aug 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/fastlane-pilot-issue/</guid>
        <description>&lt;p&gt;這是和防火牆有關的 &lt;a class=&#34;link&#34; href=&#34;https://github.com/fastlane/fastlane/issues/11958&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;issue&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;在 fastlane pilot 的 docs 有註記 &lt;a class=&#34;link&#34; href=&#34;https://docs.fastlane.tools/actions/pilot/#firewall-issues&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Firewall Issues&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;可以透過&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ENV[&amp;quot;DELIVER_ITMSTRANSPORTER_ADDITIONAL_UPLOAD_PARAMETERS&amp;quot;] = &amp;quot;-t DAV&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;來避免上傳的問題！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>DeviceSupport</title>
        <link>https://example.com/p/devicesupport/</link>
        <pubDate>Thu, 21 Jun 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/devicesupport/</guid>
        <description>&lt;p&gt;每當 iOS Beta 更新時，原先的 Xcode  便會無法支援，需要透過從 Xcode Beta 的 DeviceSupport 複製新的版本到正式版之中才能使用；
反正都會做這件事，不如就將 Xcode Beta 裡頭的 DeviceSupport 上傳到 GitHub 上提供給 iOS 有更新，但還沒下載新的 Xcode Beta 的人使用吧！
&lt;a class=&#34;link&#34; href=&#34;https://github.com/ArchieR7/DeviceSupport&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;傳送門點我&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ignore Pods warning</title>
        <link>https://example.com/p/ignore-pods-warning/</link>
        <pubDate>Tue, 12 Jun 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/ignore-pods-warning/</guid>
        <description>&lt;p&gt;在使用 CocoaPods 的時候難免會碰上 warning，原因不外乎就是使用的套件本身在 build 的時候所產生的警告，但不建議直接 unlock Pods 去修改，請以那專案修改，並在處理完後發送 Pull Request 造福大眾。
不過現階段來說，我們可以做的事情是忽略 Pods 的 Warning，
只要在 Podfile 裡頭加上&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;inhibit_all_warnings!
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;即可在目前的專案中忽略 Pods 相關的 warning。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Pods 到底需不需要放在 .gitignore？</title>
        <link>https://example.com/p/pods-%E5%88%B0%E5%BA%95%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E6%94%BE%E5%9C%A8-.gitignore/</link>
        <pubDate>Sat, 09 Jun 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/pods-%E5%88%B0%E5%BA%95%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E6%94%BE%E5%9C%A8-.gitignore/</guid>
        <description>&lt;p&gt;若有使用 GitHub 所預設的 Swift .gitignore，你會發現在 CocoaPods 的部分寫著&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# CocoaPods
#
# We recommend against adding the Pods directory to your .gitignore. However
# you should judge for yourself, the pros and cons are mentioned at:
# https://guides.cocoapods.org/using/using-cocoapods.html#should-i-check-the-pods-directory-into-source-control
#
# Pods/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;用意如同字面上的意思，GitHub 所提供的預設會建議你上傳 Pods 的內容到 git server 上，&lt;/p&gt;
&lt;p&gt;而我個人也認同這種做法，目前所想的原因如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可以完整地打包套件當前狀態到 git 上，以避免套件有異動&lt;/li&gt;
&lt;li&gt;若你們有直接修改 Pods 裡頭的 Source code 的話，更加得上傳（不過完全不建議這麼做）&lt;/li&gt;
&lt;li&gt;git clone 下來之後可以不用再 pod install 一次&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不過也是有些壞處，如套件越多時，造成 git 上的專案肥大等。&lt;/p&gt;
&lt;p&gt;但是像是 Carthage 的話，就會建議加入到 .gitignore，畢竟它的用意就是要去中心化，&lt;/p&gt;
&lt;p&gt;若將自己 build 出來的套件放上去就和中心概念背道而馳了！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>upgrade git</title>
        <link>https://example.com/p/upgrade-git/</link>
        <pubDate>Fri, 01 Jun 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/upgrade-git/</guid>
        <description>&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;p&gt;git 最近被發現有&lt;a class=&#34;link&#34; href=&#34;https://blogs.msdn.microsoft.com/devops/2018/05/29/announcing-the-may-2018-git-security-vulnerability/#utm_source=Facebook_PicSee&amp;amp;utm_medium=Social&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;重大的漏洞&lt;/a&gt;，以我們能做的事情就是更新自己的 git！&lt;/p&gt;
&lt;h2 id=&#34;在-macos-上更新&#34;&gt;在 macOS 上更新&lt;/h2&gt;
&lt;p&gt;在 macOS 上，預設的 git 為 git version 2.15.1 (Apple Git-101)，
所以我們需要先透過 brew 來安裝 git。
首先，我們先來更新 brew，這點和 CocoaPods 類似，需要更新本機端的項目；
順道升級 brew 目前裡頭的項目。&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;brew update &amp;amp;&amp;amp; brew upgrade
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;接著就透過 brew 來安裝 git&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;brew install git
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;最後再將 Symbolic link 處理一下就好了！&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;brew link --force git
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;現在我們確認一下 git 是否已經為新版本（git version 2.17.1）！&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git --version
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>HEROKU</title>
        <link>https://example.com/p/heroku/</link>
        <pubDate>Fri, 18 May 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/heroku/</guid>
        <description>&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;p&gt;這幾個月透過家裡頭的桌機來定時跑爬蟲以及更新 Firebase 資料庫，不過電費也是一筆固定支出，所以趁今天想到這件事，便來搬移到免費的 HEROKU 來做這些事。&lt;/p&gt;
&lt;h1 id=&#34;herokuhttpsdashboardherokucom&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://dashboard.heroku.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;HEROKU&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;是一個有提供免費伺服器方案的平台，支援的語言算多，而我的爬蟲是以 Python 3.6 作為開發語言的，故選擇它來玩玩。
在免費的方案之中有一些限制，如 24 小時內得休息 6 小時之類的；
不過在這邊，我需要的只是一個可以執行 Cron Job 的地方，所以不需要升級主機的部分。
目前我的 HEROKU 裡頭包含著三個動作：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;每天台灣時間 00:00 時，到星座網爬蟲並記錄當日運勢到 Firebase&lt;/li&gt;
&lt;li&gt;每天台灣時間 09:00 時，到 PTT CodeJob 以及 Soft_Job 版搜尋 iOS 相關的文章，並 mail 到我的信箱&lt;/li&gt;
&lt;li&gt;每天台灣時間 12:00 時，爬 PTT 一些熱門看板的文章並發佈到機器人部落格以及機器人推特之中
我分成三個 .py 檔案，下方會說明我的作法。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;簡單的建構步驟&#34;&gt;簡單的建構步驟&lt;/h2&gt;
&lt;p&gt;首先，先到 HEROKU 的 dashboard 建立一個新的 App，接著照著它的敘述完成 Git 的建置。
我在資料夾當中，放入了下列的檔案：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PTT.py – 12:00 該做的事&lt;/li&gt;
&lt;li&gt;iOS.py – 09:00 該做的事&lt;/li&gt;
&lt;li&gt;Astro.py – 00:00 該做的事&lt;/li&gt;
&lt;li&gt;requirements.txt – 提供給 HEROKU 知道要在這台機器上安裝哪些 Python 的套件&lt;/li&gt;
&lt;li&gt;serviceAccountCredentials.json – 存取 Firebase 所需要的 credential 文件&lt;/li&gt;
&lt;li&gt;Procfile – 用來告知 HEROKU 關於這個 App 的一些參數&lt;/li&gt;
&lt;li&gt;clock.py – 利用 apscheduler 來完成 cron job 的撰寫&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;clockpy&#34;&gt;clock.py&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;os&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;apscheduler.schedulers.blocking&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BlockingScheduler&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sched&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BlockingScheduler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@sched&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;scheduled_job&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;cron&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hour&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;scheduled_job&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;This job is run every day at UTC+8 8am.&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;system&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;python astro.py&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@sched&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;scheduled_job&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;cron&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hour&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;scheduled_job2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;This job is run every day at UTC+8 9am.&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;system&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;python ios.py&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@sched&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;scheduled_job&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;cron&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hour&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;scheduled_job3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;This job is run every day at UTC+8 12pm.&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;system&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;python ptt.py&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sched&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Procfile&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;clock: python clock.py
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;接著透過下方指令推送到 HEROKU 上頭部署&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git push heroku master
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;便可以在 Free Dynos 的頁面看到我們剛剛定義的 clock python clock.py，接著把它打開即可。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Commitizen</title>
        <link>https://example.com/p/commitizen/</link>
        <pubDate>Tue, 08 May 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/commitizen/</guid>
        <description>&lt;h1 id=&#34;閒聊一下&#34;&gt;閒聊一下&lt;/h1&gt;
&lt;p&gt;最近處於求職的階段，評估一份職缺的觀點也和過往不同；
以這篇文章來說，Git Commit Style 便是其中一點，詢問對方是否有固定的 commit 格式，
就可以大致上瞭解團隊的風格是哪種。
若還沒有個規範，或是想要參考的，可以繼續閱讀下去。&lt;/p&gt;
&lt;h1 id=&#34;git-commit&#34;&gt;Git Commit&lt;/h1&gt;
&lt;p&gt;是以 AngularJS 的格式，區分成&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;type&amp;gt;(&amp;lt;scope&amp;gt;): &amp;lt;subject&amp;gt;
&amp;lt;BLANK LINE&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;BLANK LINE&amp;gt;
&amp;lt;footer&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;其中 type、scope、subject、body、footer 等，有一定的規範，
詳細的內容可以在 angular.js/DEVELOPERS.md 看到。
這篇文章主要要介紹的是一個可以讓 commit 符合上述規範的工具 – Commitizen。&lt;/p&gt;
&lt;h1 id=&#34;commitizenhttpsgithubcomcommitizencz-cli&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/commitizen/cz-cli&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Commitizen&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Commitizen 是以 Node.js 所開發出的一套工具，使用者可以透過它來處理 commit 的風格一致性。&lt;/p&gt;
&lt;h2 id=&#34;安裝&#34;&gt;安裝&lt;/h2&gt;
&lt;p&gt;我們可以透過 npm 的方式來取得&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install -g commitizen
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;並且安裝 cz-conventional-changelog&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install -g cz-conventional-changelog
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在電腦中安裝完上述兩者之後，先切換到你所開發的 iOS 專案資料夾底下，
由於 Commitizen 是以 Node.js 開發，你需要在 iOS 專案裡頭建構一些 npm 所需要的環境，
故記得補上 npm 初始化以及使用 convertional-changelog&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm init
commitizen init cz-conventional-changelog --save --save-exact
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;輸入完專案相關資訊後，便可以使用 Commitizen 了！&lt;/p&gt;
&lt;h2 id=&#34;使用&#34;&gt;使用&lt;/h2&gt;
&lt;p&gt;之後，就以 git cz 的方式來取代原本的 git commit；
若所在的專案並沒有使用 Commitizen 的話，系統則會自動以原先 git commit 的方式來進行。
執行 git cz 之後，會以選單的方式來一步步符合剛剛訂的規範。&lt;/p&gt;
&lt;h2 id=&#34;自動驗證-commit-是否符合-angularjs&#34;&gt;自動驗證 Commit 是否符合 AngularJS&lt;/h2&gt;
&lt;p&gt;在多人開發的時候，我們可以透過 commit 之前先執行一段 JavaScript 來確保 commit 的格式符合要求，來避免專案之中的 commit style 有不一致的情況發生。
首先我們得先安裝一些套件&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install semver-regex --save-dev
npm install ghooks --save-dev
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;並加入驗證的 &lt;a class=&#34;link&#34; href=&#34;https://github.com/iOSTaiwan/resource/blob/master/validate-commit-msg.js&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;validate-commit-msg.js&lt;/a&gt; 檔案以及在 package.json 之中宣告。&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;quot;config&amp;quot;: {
    &amp;quot;ghooks&amp;quot;: {
        &amp;quot;commit-msg&amp;quot;:&amp;quot;./validate-commit-msg.js&amp;quot;
    }
 }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;若發生了權限上的問題，如&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;/bin/sh: ./validate-commit-msg.js: Permission denied
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;則可以透過 chmod 來調整 validate-commit-msg.js 的存取權限。&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;chmod 755 validate-commit-msg.js
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;這樣一來，便大功告成了！
若有人在專案中下了不符合標準的 commit，如&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git commit -m &amp;quot;Test&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;則會無法順利完成動作，且得到錯誤訊息：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;INVALID COMMIT MSG: does not match &amp;quot;&amp;lt;type&amp;gt;(&amp;lt;scope&amp;gt;): &amp;lt;subject&amp;gt;&amp;quot; !
test
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;changelog&#34;&gt;CHANGELOG&lt;/h2&gt;
&lt;p&gt;CHANGELOG 的部分，在此規範下會以 Bug Fixes、Features、BREAKING CHANGES 這三種 type 來產出，意思是指其他的 type 並不會被寫進 CHANGELOG.md 裡頭。
我們可以執行&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;conventional-changelog -p angular -i CHANGELOG.md -w
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;來生成 CHANGELOG.md 檔案，也可以在 package.json 的 scripts 之中加入&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{
    &amp;quot;scripts&amp;quot;: {
        &amp;quot;changelog&amp;quot;:&amp;quot;conventional-changelog -p angular -i CHANGELOG.md -w&amp;quot;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;這樣，之後只需要執行&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm run changelog
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;後記&#34;&gt;後記&lt;/h1&gt;
&lt;p&gt;在第一份工作時，便有嘗試引用進入到專案之中，不過那時候沒有完整地使用所有功能；&lt;/p&gt;
&lt;p&gt;如驗證 commit、自動產生 CHANGELOG.md 等，&lt;/p&gt;
&lt;p&gt;最近在整理 &lt;a class=&#34;link&#34; href=&#34;https://github.com/iOSTaiwan/resource&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;iOSTaiwan/resource&lt;/a&gt; 時，便認真的走過一次流程。&lt;/p&gt;
&lt;p&gt;相關的檔案，如 .gitignore、validate-commit-msg.js、package.json 都可以在此專案中找到。&lt;/p&gt;
&lt;p&gt;最後感謝 &lt;a class=&#34;link&#34; href=&#34;https://github.com/pofat&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;pofat&lt;/a&gt; 當初的分享，可以在 iOSTaiwan/resource 裡頭找到相關資源，&lt;/p&gt;
&lt;p&gt;讓這次的建構流程跑起來算是順利，也祝福他新婚快樂💒&lt;/p&gt;
</description>
        </item>
        <item>
        <title>iOS Taiwan jobs</title>
        <link>https://example.com/p/ios-taiwan-jobs/</link>
        <pubDate>Thu, 19 Apr 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/ios-taiwan-jobs/</guid>
        <description>&lt;h1 id=&#34;ios-taiwan-jobshttpsgithubcomiostaiwanjobs&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/iOSTaiwan/jobs&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;iOS Taiwan jobs&lt;/a&gt;&lt;/h1&gt;
&lt;h1 id=&#34;緣起&#34;&gt;緣起&lt;/h1&gt;
&lt;p&gt;最近剛把手上的專案都告一個段落，便開始尋找工作上的合作機會。
恰巧看到 &lt;a class=&#34;link&#34; href=&#34;https://github.com/f2etw/jobs&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;f2etw/jobs&lt;/a&gt;，透過 GitHub Issues 的方式提供工作資訊，
感覺挺好的，且是個大家都可以共同編輯的地方，於是便有了建立一個 iOS 版本的念頭。&lt;/p&gt;
&lt;h2 id=&#34;和-f2etwjobs-差異性&#34;&gt;和 f2etw/jobs 差異性&lt;/h2&gt;
&lt;h3 id=&#34;issue-title&#34;&gt;issue title&lt;/h3&gt;
&lt;p&gt;iOSTaiwan/jobs 僅提供 iOS 的工作機會，且技術較為單純（Objective-C、Swift），
所以便選擇在 issue title 上僅提供公司名稱而已；
職稱以及使用的語言則使用 label 來作為區分依據，如 Intern、Junior、Senior、Swift 等。&lt;/p&gt;
&lt;h3 id=&#34;issue-template&#34;&gt;issue template&lt;/h3&gt;
&lt;p&gt;我先是參考了 f2etw/jobs 的範本，並加入部分 PTT Soft_Job 版上的徵才格式，如&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;員工是否需自備工具? (是/否)&lt;/li&gt;
&lt;li&gt;公司地址(填寫詳細至號)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;後記&#34;&gt;後記&lt;/h1&gt;
&lt;p&gt;並在 README 之中，附上一些求職的網站，如 Yourator、indeed 等；
裡頭也都先下好關鍵字，點擊連結可以直接看搜尋結果。
希望可以透過這個專案讓台灣的 iOS 工程師在求職路上有個幫助！&lt;/p&gt;
&lt;p&gt;之後再陸續整合一些資源到 Archie.tw 以及 iOSTaiwan，仿效 f2etw 的模式，
有興趣的朋友歡迎多加利用👏&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Word deletion shortcut in iTerm</title>
        <link>https://example.com/p/word-deletion-shortcut-in-iterm/</link>
        <pubDate>Tue, 06 Mar 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/word-deletion-shortcut-in-iterm/</guid>
        <description>&lt;p&gt;在使用 iTerm 的時候，想要一次刪除一個字的話，
可以在 Preferences ➡️ Keys 新增一組 Keyboard Shortcut，
Action 選擇 Send Hex Code，並填上 0x17 即可！&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://i2.wp.com/i.imgur.com/fDUd7x0.png?w=688&amp;amp;ssl=1&#34; &gt;
		&lt;img src=&#34;https://i2.wp.com/i.imgur.com/fDUd7x0.png?w=688&amp;amp;ssl=1&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;iTerm2&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;iTerm2&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ProvisionedDevices</title>
        <link>https://example.com/p/provisioneddevices/</link>
        <pubDate>Mon, 05 Mar 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/provisioneddevices/</guid>
        <description>&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;p&gt;這篇文章的內容會是記錄如何確認目前的 Provisioning Profile 擁有哪些測試裝置，
以便在使用 adhoc 打包時，確保裝置可以執行。&lt;/p&gt;
&lt;h2 id=&#34;provisioning-profile-path&#34;&gt;Provisioning Profile Path&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;~/Library/MobileDevice/Provisioning Profiles/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在 terminal 下執行&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;security cms -D -I /path/to/MyProfile.mobileprovision
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;便可以看到相關的資訊，如下圖：
&lt;figure 
	&gt;
	&lt;a href=&#34;https://i1.wp.com/i.imgur.com/W0Gu6a4.png?w=688&amp;amp;ssl=1&#34; &gt;
		&lt;img src=&#34;https://i1.wp.com/i.imgur.com/W0Gu6a4.png?w=688&amp;amp;ssl=1&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;ProvisionedDevices&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;ProvisionedDevices&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Python – SMTP</title>
        <link>https://example.com/p/python-smtp/</link>
        <pubDate>Tue, 23 Jan 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/python-smtp/</guid>
        <description>&lt;h1 id=&#34;前情提要&#34;&gt;前情提要&lt;/h1&gt;
&lt;p&gt;痞客邦最近「新增文章」API，不斷地出現未知的伺服器錯誤，而且從回應的時間來猜測的話，
感覺像是他們自己本身內部的錯誤導致 Time out 之類的。
礙於目前還無法在短時間內處理好一台伺服器建構多個 WordPress，
所以只好先將內容發佈到 Blogger 來解決當前的問題。
而我們只需要使用到發文的功能，所以就可以簡單利用電子郵件來發文；&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Blogger 設定的「以電子郵件傳送」&lt;/li&gt;
&lt;li&gt;使用電子郵件張貼填入電子信箱，並開啟「立即發佈電子郵件」&lt;/li&gt;
&lt;li&gt;儲存設定&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;這樣只要寄信給設定的地址的話，Blogger 便會自動發文。&lt;/p&gt;
&lt;h2 id=&#34;smtp&#34;&gt;SMTP&lt;/h2&gt;
&lt;p&gt;首先在 Python 當中，我們可以使用 smtplib 來發送信件，
下列使用 gmail 為例：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-pyhton&#34; data-lang=&#34;pyhton&#34;&gt;import smtplib
smtpserver = smtplib.SMTP_SSL(&amp;quot;smtp.gmail.com&amp;quot;,465)
smtpserver.ehlo()
smtpserver.login(username, password)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;若你直接執行的話，可能會收到登入失敗的訊息；
由於 Google 在安全性設定上，會阻擋安全性較低的應用程式，
所以若要使用的話，則需要開啟相關設定：
&lt;figure 
	&gt;
	&lt;a href=&#34;https://i0.wp.com/i.imgur.com/Mfh1Iah.png?w=688&amp;amp;ssl=1&#34; &gt;
		&lt;img src=&#34;https://i0.wp.com/i.imgur.com/Mfh1Iah.png?w=688&amp;amp;ssl=1&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;登入與安全性&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;登入與安全性&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	&gt;
	&lt;a href=&#34;https://i0.wp.com/i.imgur.com/zjV8Id6.png?w=688&amp;amp;ssl=1&#34; &gt;
		&lt;img src=&#34;https://i0.wp.com/i.imgur.com/zjV8Id6.png?w=688&amp;amp;ssl=1&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;啟用&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;啟用&lt;/figcaption&gt;
	
&lt;/figure&gt;
這樣的話，就可以順利地登入 gmail。
再來準備信件的內容並寄出：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;email.mime.text&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MIMEText&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;email.header&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Header&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;from_address&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Archie.Chang.iOS@gmail.com&amp;#39;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;to_address&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Archie.Chang.iOS@gmail.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MIMEText&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;html_body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;html&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;From&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from_address&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;To&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to_address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Subject&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;subject&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;smtpserver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sendmail&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to_address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;as_string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;smtpserver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;小雷&#34;&gt;小雷&lt;/h3&gt;
&lt;p&gt;其中，sendmail 的 to_address 為 list 型態；
之前測試的過程中，我將 sendmail 改為&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;smtpserver.sendmail(from_address, to_address[0], message.asString())
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;結果導致它不斷地寄同一封信，Blogger 文章就大爆發了。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Firebase Cloud Functions with Database and Messaging</title>
        <link>https://example.com/p/firebase-cloud-functions-with-database-and-messaging/</link>
        <pubDate>Thu, 18 Jan 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/firebase-cloud-functions-with-database-and-messaging/</guid>
        <description>&lt;h1 id=&#34;cloud-functions&#34;&gt;Cloud Functions&lt;/h1&gt;
&lt;p&gt;Firebase 一直以來便是以 serverless 為主要的方向，
而 Functions 則是一個十分有趣的功能；
它可以自動地隨著事件的回應，如資料庫的異動或是收到 HTTP 的 requests 時，執行程式碼。
其中一個重點是，我們也不需要去管理或是 scale 伺服器。&lt;/p&gt;
&lt;h2 id=&#34;triggers&#34;&gt;Triggers&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Cloud Firestore Triggers&lt;/li&gt;
&lt;li&gt;Realtime Database Triggers&lt;/li&gt;
&lt;li&gt;Firebase Authentication Triggers&lt;/li&gt;
&lt;li&gt;Google Analytics for Firebase Triggers&lt;/li&gt;
&lt;li&gt;Crashlytics Triggers&lt;/li&gt;
&lt;li&gt;Cloud Storage Triggers&lt;/li&gt;
&lt;li&gt;Cloud Pub/Sub Triggers&lt;/li&gt;
&lt;li&gt;HTTP Triggers&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;範例&#34;&gt;範例&lt;/h2&gt;
&lt;h3 id=&#34;需求&#34;&gt;需求&lt;/h3&gt;
&lt;p&gt;Realtime Database 底下的資料有異動的話，進行推播&lt;/p&gt;
&lt;h3 id=&#34;直接上-code&#34;&gt;直接上 Code&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;functions&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;firebase-functions&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;admin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;firebase-admin&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;admin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;initializeApp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;functions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;firebase&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;exports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;updateTodayNews&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;functions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;database&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ref&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/today/{newsCategory}/updatedTime&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;onWrite&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;event&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;newsCategory&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;event&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;params&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;newsCategory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;admin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;database&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ref&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`/today/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;newsCategory&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;once&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;then&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;snapshot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;snapshot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hasChildren&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;There are no notification tokens to send to.&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;title&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;snapshot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;child&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;title&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;body&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;snapshot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;child&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;body&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// Notification details.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;payload&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;notification&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;body&lt;/span&gt;
          &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;snapshot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;child&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;fcmTokens&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hasChildren&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;There are no notification tokens to send to.&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;tokens&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;snapshot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;child&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;fcmTokens&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;pushTokens&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;tokens&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;filter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;snapshot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;child&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;fcmTokens&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;child&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;admin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;messaging&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sendToDevice&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;pushTokens&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;payload&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;then&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;successfully sent message:&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Error sending message:&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;簡單解說&#34;&gt;簡單解說&lt;/h3&gt;
&lt;p&gt;exports 後面加上這支 function 的名稱，如我們這邊則為 updateTodayNews，
而 {newsCategory} 則是變數，以範例來說：
只要 /today/ 底下的任何物件 /updatedTime 又被寫入的話，則會觸發 function。
宣告 admin 是為了使用 Firebase 其他的功能，如這邊是使用到 messaging 和 database。&lt;/p&gt;
&lt;p&gt;當 admin.database 得到資料回來後，再使用 admin.messaging().sendToDevice 來進行推播的發送。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Selenium</title>
        <link>https://example.com/p/selenium/</link>
        <pubDate>Wed, 17 Jan 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/selenium/</guid>
        <description>&lt;h1 id=&#34;selenium&#34;&gt;Selenium&lt;/h1&gt;
&lt;p&gt;需要在 Python 上操作瀏覽器的話，我會選擇使用 Selenium；
以爬蟲來說，和 requests 不同的地方在於，
像是在讀取網頁時，使用 Selenium 開啟瀏覽器的話可以幫我們處理掉渲染的問題。
這篇主要會以 Selenium 的方式來取得痞客邦的 Access Token。&lt;/p&gt;
&lt;h1 id=&#34;先搞懂痞客邦的流程&#34;&gt;先搞懂痞客邦的流程&lt;/h1&gt;
&lt;p&gt;首先，我們先到痞客邦的開發者網頁
&lt;figure 
	&gt;
	&lt;a href=&#34;https://i0.wp.com/i.imgur.com/Hk4FFnc.png?w=688&amp;amp;ssl=1&#34; &gt;
		&lt;img src=&#34;https://i0.wp.com/i.imgur.com/Hk4FFnc.png?w=688&amp;amp;ssl=1&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;PIXNET&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;PIXNET&lt;/figcaption&gt;
	
&lt;/figure&gt;
或是可以直接到 API Explorer 的畫面
&lt;figure 
	&gt;
	&lt;a href=&#34;https://i1.wp.com/i.imgur.com/Y8k5ENr.png?w=688&amp;amp;ssl=1&#34; &gt;
		&lt;img src=&#34;https://i1.wp.com/i.imgur.com/Y8k5ENr.png?w=688&amp;amp;ssl=1&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;API Explorer&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;API Explorer&lt;/figcaption&gt;
	
&lt;/figure&gt;
接下來會需要進行登入的動作
&lt;figure 
	&gt;
	&lt;a href=&#34;https://i1.wp.com/i.imgur.com/YRnaUtw.png?w=688&amp;amp;ssl=1&#34; &gt;
		&lt;img src=&#34;https://i1.wp.com/i.imgur.com/YRnaUtw.png?w=688&amp;amp;ssl=1&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;Login&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Login&lt;/figcaption&gt;
	
&lt;/figure&gt;
登入成功後，便是授權給 API Explorer 權限來取得 Access token
&lt;figure 
	&gt;
	&lt;a href=&#34;https://i2.wp.com/i.imgur.com/Pd9GWhy.png?w=688&amp;amp;ssl=1&#34; &gt;
		&lt;img src=&#34;https://i2.wp.com/i.imgur.com/Pd9GWhy.png?w=688&amp;amp;ssl=1&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;Granted&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Granted&lt;/figcaption&gt;
	
&lt;/figure&gt;
最後可以在 API Explorer 的畫面上看到 Access Token。
&lt;figure 
	&gt;
	&lt;a href=&#34;https://i2.wp.com/i.imgur.com/5YxtmHX.png?w=688&amp;amp;ssl=1&#34; &gt;
		&lt;img src=&#34;https://i2.wp.com/i.imgur.com/5YxtmHX.png?w=688&amp;amp;ssl=1&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;AccessToken&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;AccessToken&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;程式方面&#34;&gt;程式方面&lt;/h2&gt;
&lt;p&gt;我們會使用到 Selenium 的這些元件&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;selenium&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;webdriver&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;selenium.webdriver.common.by&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;By&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;selenium.webdriver.support.ui&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Select&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;selenium.common.exceptions&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NoSuchElementException&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;selenium.common.exceptions&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeoutException&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;selenium.webdriver.support.ui&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;WebDriverWait&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;selenium.webdriver.support&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expected_conditions&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;EC&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get_token&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https://devtool.pixnet.pro/#/&amp;#39;&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# 使用 Firefox 來開啟網頁&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;webdriver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Firefox&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# 打開 API Explorer 的畫面&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# 進行登入&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;https://panel.pixnet.cc/login/openid?done=https%3A&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%2F%2F&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;devtool.pixnet.pro&amp;amp;openid=https%3A&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%2F%2F&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;member.pixnet.cc&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%2F&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;login&amp;amp;easy_login=1&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# 選擇臉書登入&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;https://panel.pixnet.cc/login/facebooklogin?done=https%3A&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%2F%2F&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;devtool.pixnet.pro&amp;amp;easy_login=1&amp;amp;register_url=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%2F%2F&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;member.pixnet.cc&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%2F&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;register&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# 在 Email 和 Password 欄位填上值，並按下登入按鈕&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;email&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;find_element_by_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;email_container&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;password&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;find_element_by_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;pass&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;login_button&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;find_element_by_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;loginbutton&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;email&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;send_keys&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Your Facebook email&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;send_keys&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Your Facebook password&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;login_button&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;click&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# 跳轉至授權畫面並按下同意&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;https://emma.pixnet.cc/oauth2/authorize?redirect_uri=https://devtool.pixnet.pro/index/cb&amp;amp;client_id=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Your&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;amp;response_type=code&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;find_element_by_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;send-Allow&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;click&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# 使用 WebDriverWait 來等候標題出現 EMMA API Explorer（這邊我只寫 EMMA）&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;WebDriverWait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;until&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;EC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;title_contains&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;EMMA&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;except&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeoutException&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;time out&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;finally&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;# 接著 Parse 出 Access token 並且 return。&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;soup&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BeautifulSoup&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;page_source&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;html.parser&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ps&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;soup&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;find_all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;p&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;form-control-static ng-binding&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;token&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ps&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;n&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;token&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;可能遇到的問題&#34;&gt;可能遇到的問題&lt;/h2&gt;
&lt;h3 id=&#34;geckodriver&#34;&gt;geckodriver&lt;/h3&gt;
&lt;p&gt;由於我是使用 Ubuntu + Firefox 來執行，而在 Firefox 後續的版本中，
並沒有內建 geckodriver，需要手動安裝到電腦之中。&lt;/p&gt;
&lt;h3 id=&#34;crontabcrontab&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;../crontab&#34; &gt;Crontab&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;若你是使用 Crontab 來跑的話，由於 Crontab 本身並不會有 output 的輸出，
意思是指跑 Crontab 時，也不會自己跳出 Firefox 的畫面；
會導致 Selenium 發生錯誤。
解決的方式是使用 pyvirtualdisplay 來弄一個虛擬的畫面，
給 Firefox 作為使用。
上面的程式碼則補上：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pyvirtualdisplay&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Display&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get_token&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# 先準備好虛擬的畫面&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;display&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Display&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;visible&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;800&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;600&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;display&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# 最後記得關掉畫面&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;display&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;token&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;大致上是這樣，就可以利用 Selenium 的方式取得痞客邦的 Access Token！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Twitter Follow all users script</title>
        <link>https://example.com/p/twitter-follow-all-users-script/</link>
        <pubDate>Wed, 17 Jan 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/twitter-follow-all-users-script/</guid>
        <description>&lt;h1 id=&#34;追隨所有-twitter-用戶&#34;&gt;追隨所有 Twitter 用戶&lt;/h1&gt;
&lt;p&gt;之前在弄一個自動發文的機器人，便想要在 Twitter 上同步發送；
而苦無沒有人追隨的情況下，決定先來追隨別人，
看看對方是否會反追隨回來（？
以結果來看，有一些些功用，互相追隨的機率大概 5 % 左右。
&lt;figure 
	&gt;
	&lt;a href=&#34;https://i0.wp.com/i.imgur.com/7iayFel.png?w=688&amp;amp;ssl=1&#34; &gt;
		&lt;img src=&#34;https://i0.wp.com/i.imgur.com/7iayFel.png?w=688&amp;amp;ssl=1&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;PTT 爆報機器人&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;PTT 爆報機器人&lt;/figcaption&gt;
	
&lt;/figure&gt;
儘管多數可能也是機器人加機器人好友，不過至少稍稍提升了痞客邦的流量。&lt;/p&gt;
&lt;h2 id=&#34;javascript&#34;&gt;Javascript&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;FOLLOW_PAUSE&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1250&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;FOLLOW_RAND&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;250&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;PAGE_WAIT&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;mi&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cnt__&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;eles&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lcnt__&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;eles&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;jQuery&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.Grid-cell .not-following .follow-text&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;each&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ele&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;nx&#34;&gt;ele&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;jQuery&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ele&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
                    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ele&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;css&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;display&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;block&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                        &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;trace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Already following: &amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
                        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
                    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
                    &lt;span class=&#34;nx&#34;&gt;setTimeout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                              &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;trace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Following &amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34; of &amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;eles&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
                            &lt;span class=&#34;nx&#34;&gt;ele&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;click&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
                            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;eles&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                                &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;trace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Scrolling...&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
                                &lt;span class=&#34;nb&#34;&gt;window&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;scrollTo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;scrollHeight&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
                                &lt;span class=&#34;nx&#34;&gt;setTimeout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                                    &lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
                                &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;PAGE_WAIT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
                            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
                    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lcnt__&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;FOLLOW_PAUSE&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Math&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;random&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;FOLLOW_RAND&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;FOLLOW_RAND&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
                    &lt;span class=&#34;mi&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cnt__&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;小提點&#34;&gt;小提點&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Twitter 單一用戶追隨的上限為 5000 名（不過不知道為什麼，我的機器人追了 5001 位）&lt;/li&gt;
&lt;li&gt;一天（24 小時內）追隨的上限為 1000 名&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不過有趣的是，我有因為用 Twitter 的 iOS App 一直點追隨被 ban 過一次帳號，
但用 Script 跑卻沒事。
另外 Twitter 的電話認證解鎖竟然是語音，而且是不太清楚的英文；
反覆弄了兩天才解鎖成功，語音內容約是
Twitter@ 6 個數字
「@」又常常和第一個數字含糊在一塊！加上有時間內的驗證次數上限！
總之，現在沒事就好！超！麻！煩！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Crontab</title>
        <link>https://example.com/p/crontab/</link>
        <pubDate>Fri, 05 Jan 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/crontab/</guid>
        <description>&lt;h1 id=&#34;crontab&#34;&gt;Crontab&lt;/h1&gt;
&lt;p&gt;Crontab 在 Ubuntu 裏頭是預載的，其功能是可以根據時間參數來執行工作排程；
它的格式如下：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;* * * * * command to be executed
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;依序分別是 分鐘[0-59]、小時[0-23]、日期[1-31]、月份[1-12]、星期[0-6]、command
其中 星期 0 = 天的意思。&lt;/p&gt;
&lt;h2 id=&#34;符號&#34;&gt;符號&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;「*」：不設限&lt;/li&gt;
&lt;li&gt;「,」：分隔時段。例如：30 10,20 * * * command，代表早上十點半和下午八點半執行。&lt;/li&gt;
&lt;li&gt;「-」：一段時間範圍。例如：15 9-12 * * * command，代表從九點到十二點的每個 15 分都執行一次。&lt;/li&gt;
&lt;li&gt;「/n」：表示每個 n 單位間隔。例如：*/5 * * * * command，代表每隔 5 分鐘執行一次。&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;* * * * *：每隔一分鐘執行一次。
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;你也可以使用 @ 來取代五個參數：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;@reboot：僅在開機的時候執行一次。&lt;/li&gt;
&lt;li&gt;@yearly：一年執行一次，和0 0 1 1 * command效果一樣。&lt;/li&gt;
&lt;li&gt;@annually：（和@yearly一樣）&lt;/li&gt;
&lt;li&gt;@monthly：一個月執行一次，和0 0 1 * * command效果一樣。&lt;/li&gt;
&lt;li&gt;@weekly：一個星期執行一次，和0 0 * * 0 command效果一樣。&lt;/li&gt;
&lt;li&gt;@daily：每天執行，和0 0 * * * command效果一樣。&lt;/li&gt;
&lt;li&gt;@midnight：（和@daily一樣）&lt;/li&gt;
&lt;li&gt;@hourly ：每小時執行，和0 * * * * command效果一樣。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;輸出&#34;&gt;輸出&lt;/h2&gt;
&lt;p&gt;另外，需要設立 command 輸出的地點或方式；
如使用 Postfix 或是直接在 command 後方加上 &amp;raquo; /file_path，&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get install postfix
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;設定完後，可以在下列位置查看 output&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo tail -f /var/mail/&amp;lt;user&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;而如果需要清空 mail 內容的話，
則利用&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; /var/mail/&amp;lt;user&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;除錯&#34;&gt;除錯&lt;/h2&gt;
&lt;p&gt;Ubuntu 的話，cron log 會和 syslog 寫在一塊，使用下列的 function 來區隔：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;grep CRON /var/log/syslog
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;編輯&#34;&gt;編輯&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;crontab -l
crontab -e
crontab -r
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;-l：列出所有的 cron
-e：編輯
-r：移除
並可以使用&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;/etc/init.d/cron restart
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;來重新啟用 crontab&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Facebook 隱私權條款問題</title>
        <link>https://example.com/p/facebook-%E9%9A%B1%E7%A7%81%E6%AC%8A%E6%A2%9D%E6%AC%BE%E5%95%8F%E9%A1%8C/</link>
        <pubDate>Thu, 04 Jan 2018 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/facebook-%E9%9A%B1%E7%A7%81%E6%AC%8A%E6%A2%9D%E6%AC%BE%E5%95%8F%E9%A1%8C/</guid>
        <description>&lt;p&gt;由於之前上架的 App 有使用到 Facebook 的登入功能，
於是這幾天一直收到這類的信件：
Demo
但是由於本身對這方面可以說是完全沒有涉略，
所以便找找有沒有什麼辦法解決。&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://privacypolicies.com/privacy/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Free Privacy Policy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;於是找到了這個，回答五種題型便可以得到它們產生的條款，
再找個地方貼上補連結到 Facebook 即可！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>CocoaPods</title>
        <link>https://example.com/p/cocoapods/</link>
        <pubDate>Tue, 26 Dec 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/cocoapods/</guid>
        <description>&lt;p&gt;上一篇介紹 &lt;a class=&#34;link&#34; href=&#34;../carthage&#34; &gt;Carthage&lt;/a&gt;，這篇寫一下 CocoaPods。
其實我個人是先使用 CocoaPods，後來才部分改用 Carthage 作為主要的管理方式；
而 CocoaPods 的安裝方式也很簡單，可以透過 gem 來安裝：&lt;/p&gt;
&lt;h3 id=&#34;安裝&#34;&gt;安裝&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo gem install cocoapods
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;不同於 Carthage 的 Cartfile，CocoaPods 的是使用 Podfile，
格式有些不同，不過都可以在資料夾下使用 Terminal 輸入初始化的指令：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pod init
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;系統就會自行建立一個 Podfile，並用 pod search 的指令來找找你要什麼東西。
弄完 Podfile 之後，就可以執行安裝進專案：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pod install
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;並打開它幫你建立的 .xcworkspace 就好了。&lt;/p&gt;
&lt;h3 id=&#34;一些分享&#34;&gt;一些分享&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;可安裝的版本和 GitHub 上寫的不同？
CocoaPods 會建立一個 local 的所有 repo 資訊，若找不到的時候，可以先試著更新它：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pod repo update
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;Carthage 和 CocoaPods 是可以混用的&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Carthage</title>
        <link>https://example.com/p/carthage/</link>
        <pubDate>Mon, 25 Dec 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/carthage/</guid>
        <description>&lt;p&gt;Carthage 是一個套件管理的開源軟體，可以使用 Homebrew 安裝：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;brew install carthage
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;和 CocoaPods 的差異在於它並不會將第三方的 Framework 直接加入專案，
而是獨立在外，並在 build 的時候直接將 framework 複製進去到 App 內；
CocoaPods 的話則會在每次 build 的時候同時 build 你所匯入的 framework，
而隨著專案使用到的套件內容越多，則會花越多時間。&lt;/p&gt;
&lt;h3 id=&#34;去中心化&#34;&gt;去中心化&lt;/h3&gt;
&lt;p&gt;這個詞最近隨著區塊鏈的爆紅，也常常可以看見。
不過在這邊的情境是，CocoaPods 是由它那邊搜集很多個 repo，提供給我們來安裝；
所以若 CocoaPods 的 repo 資料沒更新，或是作者只放在 GitHub 上，沒有提交到 CocoaPods 的話，
則無法使用。
而 Carthage 則沒有這方面的問題，可以自行將 GitHub 上的專案加入到 Cartfile&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;github &amp;quot;ReactiveX/RxSwift&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;不過這也是比較麻煩的地方，我們就沒有辦法像 CocoaPods 一樣直接在 Terminal 下 pods search RxSwift 來取得資訊。&lt;/p&gt;
&lt;h3 id=&#34;個人的使用方式&#34;&gt;個人的使用方式&lt;/h3&gt;
&lt;p&gt;由於我自行在開發，同時會有很多個專案用到相同的 framework（e.g RxSwift、Siren），
原本若是使用 CocoaPods 的話，則會在很多資料夾內都有一樣的東西；
而 Carthage 的話，則是將 FRAMEWORK_SEARCH_PATHS 都指定到同一個資料夾即可，
並在 Build phase 加上 Carthage 的 Run script。
而我大多數只會開發 iOS 的 App，Carthage update 的時候則可以只更新 iOS 的部分：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;carthage update --platform iOS=
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>FireabseDatabase - Read</title>
        <link>https://example.com/p/fireabsedatabase-read/</link>
        <pubDate>Mon, 25 Dec 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/fireabsedatabase-read/</guid>
        <description>&lt;p&gt;之前有寫過 &lt;a class=&#34;link&#34; href=&#34;../firebase-database-rest-api&#34; &gt;FirebaseDatabase REST API&lt;/a&gt;的文章，
而這篇則會是在 iOS 上的使用。&lt;/p&gt;
&lt;h1 id=&#34;安裝套件&#34;&gt;安裝套件&lt;/h1&gt;
&lt;p&gt;由於 Google 認為 Carthage 的方式不符合他們的使用模式，
畢竟 Firebase 的 framework 並非是開源的，
所以只有提供 CocoaPods 的安裝方式或是直接下載檔案；
而我這邊就以 CocoaPods 來安裝 Firebase 相關的套件，其他則用 Carthage 來管理。&lt;/p&gt;
&lt;h2 id=&#34;設定&#34;&gt;設定&lt;/h2&gt;
&lt;p&gt;我們在 Firebase console 那先建立好專案並匯入 GoogleService-Info.plist，
如果你有多個 Target 要使用的話，建議放在不同的資料夾，並且設定好 Target Membership。
並且要注意 Firebase console 內的 Database rules，
若沒有做 auth 相關內容的話，記得要調整；
如我開放給 App 讀取但不可寫入的話：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{
  &amp;quot;rules&amp;quot;: {
    &amp;quot;.write&amp;quot;: &amp;quot;auth != null&amp;quot;,
    &amp;quot;.read&amp;quot;: true
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;接著在 AppDelegate.swift 中加入&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -&amp;gt; Bool {
    FirebaseApp.configure()
    // --**--
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;順道提醒一下，若要讓 Database 的資料在離線也能使用上一次的 cache 的話，
需要在 AppDelegate.swift 裡頭加入&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -&amp;gt; Bool {
    // --**--
    Database.database().isPersistenceEnabled = true
    // --**--
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;官方文件中沒有特別註記，但若在其他地方執行這段程式，則會直接報錯。&lt;/p&gt;
&lt;h2 id=&#34;讀取資料&#34;&gt;讀取資料&lt;/h2&gt;
&lt;p&gt;Firebase Database 所提供的是一個可監聽的資料庫，
來做到 Realtime Database 的效果；
Reference 便是 path 的概念，
假設我的資料長這樣：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{
    &amp;quot;test&amp;quot;: {
        &amp;quot;user&amp;quot;: {
            &amp;quot;name&amp;quot;: &amp;quot;Archie&amp;quot;
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;則 ref 有幾種設法；&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;觀察全部的資料： Database.database().reference.observe&lt;/li&gt;
&lt;li&gt;只看 test 下的異動： Database.database().reference.child(“test”).observe&lt;/li&gt;
&lt;li&gt;只看 user：Database.database().reference.child(“test”).child(“user”).observe&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;隨著資料的結構，我們可以讓每個地方只專注它需要監聽的部分就好。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>MKGeodesicPolyline</title>
        <link>https://example.com/p/mkgeodesicpolyline/</link>
        <pubDate>Sat, 09 Dec 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/mkgeodesicpolyline/</guid>
        <description>&lt;p&gt;先來看看 MKGeodesicPolyline 在 Apple Developer Documentation 上的介紹：
A line-based shape that follows the contours of the Earth to create the shortest path between the specified points.&lt;/p&gt;
&lt;h1 id=&#34;繪製-polyline&#34;&gt;繪製 Polyline&lt;/h1&gt;
&lt;p&gt;首先我們在建置 MKGeodesicPolyline 的時候，
給予它一個 [CLLocationCoordinate2D]，並宣告要繪製幾個點；
接著讓 MKMapView 新增進去。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;geodesicPolyline&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MKGeodesicPolyline&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;coordinates&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;mapView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;geodesicPolyline&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;再來我們需要透過 MKMapViewDelegate 的 function 來定義 MKGeodesicPolyline 的 UI：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;mapView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mapView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MKMapView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rendererFor&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;overlay&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MKOverlay&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MKOverlayRenderer&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;guard&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;polyline&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;overlay&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MKPolyline&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MKOverlayRenderer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;overlay&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;overlay&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;renderer&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MKPolylineRenderer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;polyline&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;polyline&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;renderer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lineWidth&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;renderer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strokeColor&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;red&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;renderer&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;取得-polyline-中間的經緯度&#34;&gt;取得 Polyline 中間的經緯度&lt;/h2&gt;
&lt;p&gt;MKGeodesicPolyline 的繪製是由很多個點所連起來的，
可以利用 points() -&amp;gt; UnsafeMutablePointer 來取得。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;4.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;open&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;MKMultiPoint&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MKShape&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;open&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;points&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;UnsafeMutablePointer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MKMapPoint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;open&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;pointCount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;get&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// Unproject and copy points into the provided array of coordinates that&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// must be large enough to hold range.length coordinates.&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;open&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getCoordinates&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;coords&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;UnsafeMutablePointer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CLLocationCoordinate2D&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NSRange&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;我們可以透過 pointCount 來得知有幾個點，
接著決定要使用哪個點的位置；&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;n&#34;&gt;MKCoordinateForMapPoint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;polyline&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;points&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Siren – 通知使用者更新</title>
        <link>https://example.com/p/siren-%E9%80%9A%E7%9F%A5%E4%BD%BF%E7%94%A8%E8%80%85%E6%9B%B4%E6%96%B0/</link>
        <pubDate>Sun, 03 Dec 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/siren-%E9%80%9A%E7%9F%A5%E4%BD%BF%E7%94%A8%E8%80%85%E6%9B%B4%E6%96%B0/</guid>
        <description>&lt;p&gt;我們時常可以在 App 之中看到，「目前有新版本可以提供下載」等相關的訊息；
而實作通知使用者更新的方法很多，這篇則是介紹一個開源的 Framework：&lt;/p&gt;
&lt;h1 id=&#34;siren&#34;&gt;Siren&lt;/h1&gt;
&lt;p&gt;Siren 的運作邏輯是，你可以透過版號來決定跳出什麼通知來提醒使用者，
並且提供多語系的訊息內容。
它會透過 Bundle Identifier 去 App Store 上尋找資訊，
再來比對版號執行後續動作。&lt;/p&gt;
&lt;h2 id=&#34;版號的定義&#34;&gt;版號的定義&lt;/h2&gt;
&lt;h3 id=&#34;101235678&#34;&gt;1.0.123.5678&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;1：major&lt;/li&gt;
&lt;li&gt;0：minor&lt;/li&gt;
&lt;li&gt;123：patch&lt;/li&gt;
&lt;li&gt;5678：revision&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一般我個人的習慣是：
major 會是在商業模式改變或是重大功能發布時，才會動到的；
而 minor 則是有必要的更新，像是嚴重的 bug 或是無法向下相容的異動。
patch 是更新一些 issue 或是修正 bug；
revision 則讓它跟著 commit 的數量。&lt;/p&gt;
&lt;h3 id=&#34;siren-的設定&#34;&gt;Siren 的設定&lt;/h3&gt;
&lt;p&gt;舉個例子，在 major、minor 有提升時；
像是從 1.0.0 -&amp;gt; 2.0.0 或是 1.0.0 -&amp;gt; 1.1.0，
我會希望舊的使用者一定要更新 App 才能使用，
則會設為強制更新（.force）。
而 patch 則讓使用則決定要不要更新，或是可以跳過此次更新。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;n&#34;&gt;Siren&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shared&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;majorUpdateAlertType&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;force&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;Siren&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shared&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;minorUpdateAlertType&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;force&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;Siren&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shared&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;patchUpdateAlertType&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;skip&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;Siren&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shared&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;revisionUpdateAlertType&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;none&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;還沒上架前的測試&#34;&gt;還沒上架前的測試&lt;/h3&gt;
&lt;p&gt;Siren 建議可以先將 Bundle Identifier 更改為 iTunes Connect Mobile 的 Bundle Identifier：com.apple.itunesconnect.mobile，
並把 Siren 的 debugEnabled 調整為 true。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>UIActivityViewController</title>
        <link>https://example.com/p/uiactivityviewcontroller/</link>
        <pubDate>Wed, 15 Nov 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/uiactivityviewcontroller/</guid>
        <description>&lt;h3 id=&#34;這些話寫在前面&#34;&gt;這些話寫在前面⋯⋯&lt;/h3&gt;
&lt;p&gt;最近在開發的產品需要加入「分享」的功能，
希望將一些資訊及圖片分享到其他 App 或平台上；
這篇文章會先點出需求，再逐一闡述開發的過程。&lt;/p&gt;
&lt;h1 id=&#34;需求&#34;&gt;需求&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Facebook 分享 hash tag 及圖片&lt;/li&gt;
&lt;li&gt;其餘分享文字及圖片和網址&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;實作&#34;&gt;實作&lt;/h1&gt;
&lt;p&gt;我們利用 UIActivityViewController 來呈現分享的選單，並將分享的內容塞入 activityItems: [Any] 之中；
而 applicationActivities 則設為 nil，並沒有要客製 activity。
若沒有需要依照不同類別做出不同的判斷，我們可以將內容放置進去；
像是 URL、String、UIImage等等。
而幾個特點要注意一下：&lt;/p&gt;
&lt;h2 id=&#34;facebook&#34;&gt;Facebook：&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;String 只支援一個 hash tag（像是：“#Archie”），若超過或其他一般文字則不會顯示&lt;/li&gt;
&lt;li&gt;有網址的話，就會顯示連結；意思是圖片和連結無法同時出現，會優先顯示連結&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;imessage&#34;&gt;iMessage&lt;/h2&gt;
&lt;p&gt;若 String 裡頭的時間格式為 dd/MM/yyyy HH:mm 則可以點擊，並加入行事曆
圖片會以另一則訊息傳送
網址會以縮圖顯示（就如一般訊息收到的邏輯）&lt;/p&gt;
&lt;h3 id=&#34;依照類別提供不同內容&#34;&gt;依照類別提供不同內容&lt;/h3&gt;
&lt;p&gt;首先，我們可以先看 UIActivityType：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;extension&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UIActivityType&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;6.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;postToFacebook&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;6.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;postToTwitter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;6.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;postToWeibo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// SinaWeibo&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;6.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;6.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;mail&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;6.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;6.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;copyToPasteboard&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;6.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;assignToContact&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;6.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;saveToCameraRoll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;7.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;addToReadingList&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;7.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;postToFlickr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;7.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;postToVimeo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;7.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;postToTencentWeibo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;7.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;airDrop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;9.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;openInIBooks&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;11.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;markupAsPDF&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;而我們可以自行創建一個類別來實作 UIActivityItemSource，
不過因為它是屬於 NSObjectProtocol，所以得一併繼承 NSObject。
例如，我現在要寫一個給 Facebook 以及其他類分別不同 String 的 ItemSource：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ActivityStringItemSource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NSObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityItemSource&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;activityViewControllerPlaceholderItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activityViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;activityViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activityViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;itemForActivityType&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activityType&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;guard&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activityType&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;postToFacebook&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityType&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;postToTwitter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;#Archie&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Archie 的 UIActivityViewController 實作心得 #Swift&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;並在創建 UIActivityViewController 的時候，宣告進去：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;activityViewController&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIActivityViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;activityItems&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ActivityStringItemSource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;applicationActivities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這樣便會依照不同的 UIActivityType 來給予特定的 String 內容；
而當然你也可以建立一個有關 URL 和 UIImage 相關的 UIActivityItemSource，
在分享出去的時候，便可以決定讓 Facebook 僅分享圖片，而在其他地方則帶有連結。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>3D Touch</title>
        <link>https://example.com/p/3d-touch/</link>
        <pubDate>Mon, 13 Nov 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/3d-touch/</guid>
        <description>&lt;h3 id=&#34;這些寫在前面&#34;&gt;這些寫在前面⋯⋯&lt;/h3&gt;
&lt;p&gt;最近剛從 iPhone 6 Plus 晉升到 iPhone X，其中一項硬體差異便是「3D Touch」；
而這也讓我花了一些時間，來加入 3D Touch 的相關功能開發。
這篇文章前半部會寫 3D Touch 在主畫面上的一些差異，
後半部才會補上 Swift 的相關寫法。&lt;/p&gt;
&lt;h3 id=&#34;ios-版本111115b150&#34;&gt;iOS 版本：11.1.1（15B150）&lt;/h3&gt;
&lt;p&gt;首先，先將 App 分成有 Today extension 以及沒有 Today extension 的這兩種：&lt;/p&gt;
&lt;p&gt;郵件 – 有 Today extension&lt;/p&gt;
&lt;p&gt;鬧鐘 – 沒有 Today extension&lt;/p&gt;
&lt;p&gt;從這兩張圖的比較下，我們可以得知在 iOS 11.1.1 之中，
若有 Today extension 的 App，在 3D Touch 的快捷鍵之中，
會顯示 Today extension，而反之則僅會露出原本的 App icon。
另一點是，快捷鍵的順序是依 index 越小則越靠近 App icon；
所以使用者將 App 放置在畫面上半部或下半部會影響由上到下的順序。&lt;/p&gt;
&lt;p&gt;鬧鐘 – 放置畫面下半部&lt;/p&gt;
&lt;p&gt;所以便不必太在意快捷鍵的排序問題，包含 Today extension 順序也是。&lt;/p&gt;
&lt;h3 id=&#34;接著來看看程式碼&#34;&gt;接著來看看程式碼⋯⋯&lt;/h3&gt;
&lt;p&gt;畫面上的快捷鍵，在 iOS 裡頭是 UIKit 裡頭的 UIApplicationShortcutItem，
它提供了一種建構的方式：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;localizedTitle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;localizedSubtitle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;icon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIApplicationShortcutIcon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userInfo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AnyHashable&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]?&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中 icon 的部分要使用 UIApplicationShortcutIcon 來建構，
而它有內建的 UIApplicationShortcutIconType 可以使用；
或者從你自行提供的 templateImageName 去抓取也行，
不過一個重點是它會使用 template 模式呈現，所以你無法在圖片中自行決定色彩。
再來再設定 UIApplication.shared.shortcutItems 即可完成新增 3D Touch 快捷鍵的畫面。
一個小小重點是，只要處理有關 UI 方面的設置，都需要在 Main thread 下完成。&lt;/p&gt;
&lt;h3 id=&#34;畫面上有了快捷鍵之後&#34;&gt;畫面上有了快捷鍵之後⋯⋯&lt;/h3&gt;
&lt;p&gt;我們需要在 AppDelegate 裡頭攥寫點擊後的動作，&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIApplication&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;performActionFor&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;shortcutItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIApplicationShortcutItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;completionHandler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;escaping&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;透過剛剛建構時，所定義的不同 shortcutItem.type 來決定要做些什麼事情，
這部分就有點像使用者點推播進來後要怎麼做後續一樣，
整體大致上就是這樣！&lt;/p&gt;
&lt;h3 id=&#34;未完待續&#34;&gt;未完待續⋯⋯&lt;/h3&gt;
&lt;p&gt;還沒研究在 App 裡頭的 3D Touch 內容，待之後開發有需求會再補在這篇！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>失業給付 &#43; 提早就業獎金</title>
        <link>https://example.com/p/%E5%A4%B1%E6%A5%AD%E7%B5%A6%E4%BB%98-%E6%8F%90%E6%97%A9%E5%B0%B1%E6%A5%AD%E7%8D%8E%E9%87%91/</link>
        <pubDate>Sun, 12 Nov 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E5%A4%B1%E6%A5%AD%E7%B5%A6%E4%BB%98-%E6%8F%90%E6%97%A9%E5%B0%B1%E6%A5%AD%E7%8D%8E%E9%87%91/</guid>
        <description>&lt;h3 id=&#34;這些話寫在前面&#34;&gt;這些話寫在前面⋯⋯&lt;/h3&gt;
&lt;p&gt;由於和上一間公司的工作方式處不來，而對方決定以資遣的方式來處理，
故便在六月中解鎖了「領取資遣證明」的成就。&lt;/p&gt;
&lt;h1 id=&#34;知道對方要資遣你時先確認幾件事&#34;&gt;知道對方要資遣你時，先確認幾件事&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;近三年內勞保是否有投保滿一年&lt;/li&gt;
&lt;li&gt;對方是否通報勞保局&lt;/li&gt;
&lt;li&gt;對方是否會開立資遣證明&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;至於對方是用什麼條款開立，個人是認為沒什麼差異。&lt;/p&gt;
&lt;h2 id=&#34;若上述的答案皆為是的話你可以&#34;&gt;若上述的答案皆為「是」的話，你可以⋯⋯&lt;/h2&gt;
&lt;p&gt;申請「失業給付」，而這篇文章會以我申請的流程為主，並以流水帳的方式呈現。&lt;/p&gt;
&lt;h3 id=&#34;20170614三&#34;&gt;2017/06/14（三）&lt;/h3&gt;
&lt;p&gt;對方中午開立資遣證明，並在上方註明最後工作日為 2017/06/16（五），
也就是會支薪到週五的意思；
而上方會寫上這個月將依比例給付多少薪資以及資遣費計算結果。&lt;/p&gt;
&lt;p&gt;當天，便電話聯繫板橋就業服務站，詢問相關資訊和預約失業給付申請；
而對方有提供給我幾項重點：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;失業給付申請得在最後工作日的隔一天後，以我的案例是 2017/06/17（六）以後申請&lt;/li&gt;
&lt;li&gt;可以透過電話進行預約申請，並建議於預約時間前十分鐘先去填寫書面資料&lt;/li&gt;
&lt;li&gt;記得帶預計讓失業給付入帳的銀行簿子影本，或帶正本去影印&lt;/li&gt;
&lt;li&gt;攜帶證件及資遣證明正本&lt;/li&gt;
&lt;li&gt;新北市的就業服務站失業認定無需當日現場報到，而台北市則需要&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;20170619一&#34;&gt;2017/06/19（一）&lt;/h3&gt;
&lt;p&gt;上午便到板橋就業服務站填寫書面資料，並和服務人員進行後續動作；
期間對方和我閒聊一些工作上的事，以及職業選擇之類的，
並提供一些就業的資訊和講座。
流程上會需要在 14 天內，進行兩次以上的「找工作」；
對方會要求要上「台灣就業通」（或是其他政府機關提供的找工作平台），
去申請面試，並於兩週後和服務人員回報狀況。
回報的內容是一張表，需要填寫完之後送回就業服務站，也就是「第一次失業認定」；
板橋就業服務站可以透過郵寄的方式，將表格回寄，並打電話給當時接洽的人員即可，
而台北市則需要再跑一趟親送。&lt;/p&gt;
&lt;h3 id=&#34;20170703一&#34;&gt;2017/07/03（一）&lt;/h3&gt;
&lt;p&gt;打電話向服務人員確認狀況，並告知 14 天內沒有工作（以勞保投保記錄為主），
請對方將第一次認定的申請書送到勞保局，而後續他們會繼續處理。&lt;/p&gt;
&lt;h3 id=&#34;20170704二&#34;&gt;2017/07/04（二）&lt;/h3&gt;
&lt;p&gt;持讀卡機到勞保局網頁，以自然人憑證查詢相關進度和資訊；
這邊建議下載「勞保局行動服務」，並進行「個人查詢」的裝置認證，
認證完後，之後都可以透過此 App 查詢，無需再用讀卡機進行登入。&lt;/p&gt;
&lt;h3 id=&#34;20170712三&#34;&gt;2017/07/12（三）&lt;/h3&gt;
&lt;p&gt;核付通過，並會在 3 至 5 個工作天匯款至當初提供的銀行戶頭之內。&lt;/p&gt;
&lt;h3 id=&#34;20170717一&#34;&gt;2017/07/17（一）&lt;/h3&gt;
&lt;p&gt;收到第一個月的失業給付，而若還未找到工作，則每個月需要再進行認定；
不過我已經有在工作，故沒有進行後續的失業給付申請認定。&lt;/p&gt;
&lt;h3 id=&#34;找到工作後接下來呢&#34;&gt;找到工作後，接下來呢⋯⋯&lt;/h3&gt;
&lt;p&gt;當時在申請失業給付時，服務人員會告知「提早就業獎金」的申請規則和獎金計算方式：
為尚未領取失業給付金額（以我來說，便是 5 個月的失業給付金額） x 50% 一次性發放。&lt;/p&gt;
&lt;h3 id=&#34;20171005四&#34;&gt;2017/10/05（四）&lt;/h3&gt;
&lt;p&gt;使用讀卡機到勞保局網頁線上申請「提早就業獎金」，兩分鐘內點選完後送出。&lt;/p&gt;
&lt;h3 id=&#34;20171101三&#34;&gt;2017/11/01（三）&lt;/h3&gt;
&lt;p&gt;核付通過，並會在 3 至 5 個工作天匯款至「提早就業獎金」所申請的銀行戶頭之內。&lt;/p&gt;
&lt;h3 id=&#34;20171106一&#34;&gt;2017/11/06（一）&lt;/h3&gt;
&lt;p&gt;提早就業獎金入帳，並附上「勞保局行動服務」的就保給付截圖：&lt;/p&gt;
&lt;h3 id=&#34;這些寫在最後&#34;&gt;這些寫在最後⋯⋯&lt;/h3&gt;
&lt;p&gt;得知要被資遣的當下其實多少都會覺得失落，但這其實也只是離職的其中一種方式；
雙方都知道彼此不是對方想要的，不論是你不想做這份工作或是他和你處不來，
只是開口的不是勞方，而是資方主動提起罷了。
記得要對方開立相關證明文件，去申請給付並好好找下一份工作，
而被資遣也沒什麼覺得好丟臉的，合則來，不合則散而已。&lt;/p&gt;
&lt;p&gt;提供給需要的朋友們！&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;成就解鎖：「第一次被資遣就上手」&lt;/p&gt;
&lt;p&gt;也謝謝提供相關資訊的阿寬&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        </item>
        <item>
        <title>重灌 macOS 的工程（下）- Terminal 篇</title>
        <link>https://example.com/p/%E9%87%8D%E7%81%8C-macos-%E7%9A%84%E5%B7%A5%E7%A8%8B%E4%B8%8B-terminal-%E7%AF%87/</link>
        <pubDate>Sun, 08 Oct 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E9%87%8D%E7%81%8C-macos-%E7%9A%84%E5%B7%A5%E7%A8%8B%E4%B8%8B-terminal-%E7%AF%87/</guid>
        <description>&lt;h1 id=&#34;前情提要&#34;&gt;前情提要&lt;/h1&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;../%e9%87%8d%e7%81%8c-macos-%e7%9a%84%e5%b7%a5%e7%a8%8b%e4%b8%8a&#34; &gt;重灌 macOS 的工程（上）&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;開始進入本篇&#34;&gt;開始進入本篇&lt;/h1&gt;
&lt;h3 id=&#34;iterm2&#34;&gt;iTerm2&lt;/h3&gt;
&lt;p&gt;首先要先處理的，是 Terminal 的部分；
除了 macOS 所內建的 Terminal 之外，我目前嘗試使用 iTerm2，
主要是看上有較多個人化設定的部分。
而我所使用的主題風格是 Dracula，相關的安裝方式裡頭有蠻清楚的介紹。&lt;/p&gt;
&lt;h3 id=&#34;homebrew&#34;&gt;Homebrew&lt;/h3&gt;
&lt;p&gt;這套相信大家都不會太陌生，而不清楚的人就在這邊簡單解釋一下，
Homebrew 主要是負責 Mac 上的一些套件管理；
就有點像是 Swift package manager、CocoaPods 或是 Carthage。&lt;/p&gt;
&lt;h3 id=&#34;zsh&#34;&gt;zsh&lt;/h3&gt;
&lt;p&gt;在 iterm2 之中安裝完 homebrew 之後，
接著就繼續來安裝 zsh，其主要是用來取代原先內建的 bash，
也是這次重灌後開始嘗試使用的新玩意之一。
而在下載安裝完 zsh 後，會被默認安裝在 /usr/local/bin/zsh（或者出現 /usr/local/bin/zsh-5.4.2），
我們要將 zsh 替換掉 bash，需要下一行指令
chsh -s /usr/local/bin/zsh-5.4.2
chsh 的意思便是 change shell，也就是將原本使用的 shell 換成指定路徑。
不過由於 macOS 對於 shell 有防範，所以你可能會得到這種錯誤訊息：
non-standard shell
遇上這個時，我們就得編輯 /etc/shells，將我們剛剛所安裝的路徑放進，
讓系統明白這是一個可以拿來使用的 shell 路徑。&lt;/p&gt;
&lt;h3 id=&#34;oh-my-zsh&#34;&gt;oh-my-zsh&lt;/h3&gt;
&lt;p&gt;oh-my-zsh 是 zsh 的一套 framework，而這也是大家必推的 zsh framework；
安裝方法很簡單：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;接著，它有預設的 zshrc template 提供給你使用，可以直接拿來取代 ~/.zshrc&lt;/p&gt;
&lt;h3 id=&#34;zsh-completionshttpsgithubcomzsh-userszsh-completions&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/zsh-users/zsh-completions&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;zsh-completions&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;再來，使用 brew 來安裝 zsh-completions，並在 .zshrc 裡頭補上
fpath=(/usr/local/share/zsh-completions $fpath)
接著重開 iTerms2，便可以發現可以使用 tab 來進行 auto completions。&lt;/p&gt;
&lt;h3 id=&#34;更改-zsh-顯示的東西&#34;&gt;更改 zsh 顯示的東西&lt;/h3&gt;
&lt;p&gt;我們可以透過修改 ~/.zshrc 的 PROMPT 來決定輸入指令的左側要顯示什麼，
而通常若沒有特別設定的話，會隨著不同的 zsh theme 來變動；
而我自己本身喜歡只顯示我的名字及最後路徑及 git 相關的，
大概會長得像這樣：&lt;/p&gt;
&lt;p&gt;PROMPT=’%{$fg_bold[white]%}張家齊 %{$fg_bold[red]%}➜ %{$fg_bold[green]%}%p %{$fg[cyan]%}%c %{$fg_bold[blue]%}$(git_prompt_info)%{$fg_bold[blue]%} % %{$reset_color%}’&lt;/p&gt;
</description>
        </item>
        <item>
        <title>UIImage memory issue</title>
        <link>https://example.com/p/uiimage-memory-issue/</link>
        <pubDate>Thu, 05 Oct 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/uiimage-memory-issue/</guid>
        <description>&lt;p&gt;今天要來分享的內容，是有關於 UIImage 的一個記憶體爆炸情況，
而我先闡述一下發現這問題的情境：
專案內有個功能會需要匯入大型圖片做縮放以及拖拉功能，
使用者可以切換大型圖片，而在點擊過多的圖片時，便會造成記憶體爆炸。&lt;/p&gt;
&lt;h3 id=&#34;原先的做法&#34;&gt;原先的做法&lt;/h3&gt;
&lt;p&gt;在使用者點擊叫出某張圖時，會使用
UIImage(name: ImageName) 來產生 UIImage 物件，並將畫面上的 UIImageView.image 設為它。
看起來蠻合理的，當使用者切換後，我會再生成一個新的 UIImage 物件，並取代前者；
這樣前者就應該會釋放掉記憶體空間了！&lt;/p&gt;
&lt;h3 id=&#34;但事情並不是這樣發展&#34;&gt;但⋯⋯事情並不是這樣發展&lt;/h3&gt;
&lt;p&gt;在使用者切換幾次後，發現記憶體只有一直往上增長，而未釋放掉；
意思是指雖然我將畫面上的 UIImageView.image 取代掉了，
不過實際上仍然佔據著記憶體空間⋯⋯&lt;/p&gt;
&lt;h3 id=&#34;為什麼&#34;&gt;為什麼？&lt;/h3&gt;
&lt;p&gt;上網查了一下後，發現 UIImage(named: ImageName) 這種生成方式，
會自行將取出來的圖片放置到 cache；
而上述的使用情況就會變成當使用者一切換，便會將另一張大型圖片放置到 cache 而未釋放掉前一張。&lt;/p&gt;
&lt;h3 id=&#34;改良的做法&#34;&gt;改良的做法&lt;/h3&gt;
&lt;p&gt;Data 在建構的時候，有一種選項是 .uncached，
也就是說，我們可以先將圖片以 Data 的方式打開，再轉回 UIImage，
則就可以避免掉它自動放置到 cache 而記憶體爆掉的情況。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;url&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Bundle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;forResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ImageName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;withExtension&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;.png&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;contentsOf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                         &lt;span class=&#34;n&#34;&gt;options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ReadingOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uncached&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;image&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIImage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;imageView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;image&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;image&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這樣就可以解決 UIImage 的 cache 導致記憶體爆炸的情況。&lt;/p&gt;
&lt;p&gt;題外話
至於圖片本身就已經大到放不進來，則可以先 resize 一下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;scaleMapImage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIImage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CGSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIImage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;guard&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;image&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;image&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;

        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;UIGraphicsBeginImageContext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CGSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;draw&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CGRect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

        &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;newImage&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIGraphicsGetImageFromCurrentImageContext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;UIGraphicsEndImageContext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;newImage&lt;/span&gt;

    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>雙 NP：中華電信➡️台灣大哥大➡️中華電信</title>
        <link>https://example.com/p/%E9%9B%99-np%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%EF%B8%8F%E5%8F%B0%E7%81%A3%E5%A4%A7%E5%93%A5%E5%A4%A7%EF%B8%8F%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1/</link>
        <pubDate>Tue, 03 Oct 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E9%9B%99-np%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%EF%B8%8F%E5%8F%B0%E7%81%A3%E5%A4%A7%E5%93%A5%E5%A4%A7%EF%B8%8F%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1/</guid>
        <description>&lt;p&gt;首先，先附上&lt;a class=&#34;link&#34; href=&#34;https://www.landtop.com.tw/discount&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;地標網通的價目表&lt;/a&gt;，
我所要選擇的方案是雙 NP 回中華電信的智慧大玩家 999 方案，
而方案內容是 24 個月，每月月租 999 元，4G 吃到飽，網內60分/網外50分/市話20分。
透過雙 NP 的流程，我可以拿到 11,000 元的攜碼折扣，而算一下每月月租費約為
(999 x 24 – 11,000) / 24 = 540.66667 元&lt;/p&gt;
&lt;h3 id=&#34;闖關流程&#34;&gt;闖關流程&lt;/h3&gt;
&lt;p&gt;第一步，先確認一下自己的合約狀況：
以我的例子來說，
合約原本內容：&lt;/p&gt;
&lt;p&gt;我們可以看到，大多數的合約到期日為 10-03，
但由於第一項合約，其正是去年申請的老客戶優惠方案；
而它的到期日是在 12-23，所以我還是得到中華電話一趟來申請攜出。
於是我便在 10-03 當天的 17：30 左右，
到中華電信的長春服務中心辦理攜出業務。&lt;/p&gt;
&lt;h3 id=&#34;從中華電信攜出&#34;&gt;從中華電信攜出&lt;/h3&gt;
&lt;p&gt;和櫃檯人員說明我要攜出門號，而她也沒有多問些什麼，
便請我提供資料以及詢問門號轉出費用 240 元，
是要選擇跟著當期帳單還是直接繳清。
選擇直接繳清後，並簽個名，就順利拿到收據離開了；
前後加上等候叫號的時間，約莫十分鐘。&lt;/p&gt;
&lt;p&gt;還沒離開中華電信，便收到了相關通知簡訊。&lt;/p&gt;
&lt;h3 id=&#34;到台灣大哥大辦理門號攜入&#34;&gt;到台灣大哥大辦理門號攜入&lt;/h3&gt;
&lt;p&gt;接著到附近的台灣大哥大林森北二直營服務中心，
一進去後副店長便詢問我門號，而當我表示要轉入 4 G 1.8 的方案時，
他便直接問我是否要雙 NP，以及原電信是否為中華電信！
我點了點頭示意，便交出了雙證件和簽了兩處名字，
他告知我通常隔天就可以再到台灣大哥大辦理攜出，
一樣繳納 240 轉出費後便可以去走接下來的流程！
前後大概花了五分鐘，便簡單完成門號攜入了！&lt;/p&gt;
&lt;p&gt;再來就等明天的流程⋯⋯&lt;/p&gt;
&lt;h3 id=&#34;到台灣大哥大攜出&#34;&gt;到台灣大哥大攜出&lt;/h3&gt;
&lt;p&gt;攜出流程應該和中華電信大同小異，明天預計到羅東台灣大哥大興東店辦理。&lt;/p&gt;
&lt;h3 id=&#34;最後到地標網通申請智慧大玩家-999-方案&#34;&gt;最後，到地標網通申請智慧大玩家 999 方案&lt;/h3&gt;
&lt;p&gt;接著再到羅東的地標網通，出示從台灣大哥大攜出的收據辦理後續等開通。&lt;/p&gt;
&lt;p&gt;之後再補上明天過後的流程和感想，
目前操作起來都還算輕鬆順利！&lt;/p&gt;
&lt;h3 id=&#34;2017-10-04&#34;&gt;2017-10-04&lt;/h3&gt;
&lt;p&gt;早上十點半前往台灣大哥大羅東興東店辦理攜出，一樣繳交了 240 元的轉出費，
也是五分鐘左右搞定！&lt;/p&gt;
&lt;p&gt;接著到羅東地標網通辦理方案申請，由於中華電信的資料較多，
就和梁店長一一逐條簽名，花了十分鐘左右完成。
智慧大玩家 999 – 24 個月的攜碼折扣為 11,000 元，而需要預繳 8,800 元，
而在最後完成後，店長便直接退還差額 2,200 元以及合約書和 sim 卡給我，
並告知開通約需 2 – 3 天。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>重灌 macOS 的工程（上）</title>
        <link>https://example.com/p/%E9%87%8D%E7%81%8C-macos-%E7%9A%84%E5%B7%A5%E7%A8%8B%E4%B8%8A/</link>
        <pubDate>Wed, 27 Sep 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E9%87%8D%E7%81%8C-macos-%E7%9A%84%E5%B7%A5%E7%A8%8B%E4%B8%8A/</guid>
        <description>&lt;h3 id=&#34;前言&#34;&gt;前言&lt;/h3&gt;
&lt;p&gt;幾天前，Apple 釋出了 High Sierra 的安裝檔，
一時手癢的我，便將自己的 MacBook Pro (Retina, 13-inch, Mid 2014) 來進行更新！
早上上班前出門開始更新，晚上回到家後卻還卡在剩餘 33 分鐘處⋯⋯
覺得詭異的我，便強制關機，而再次打開便只能 command + R 開始重灌系統。
但事情往往不會那麼簡單，在重灌系統時，一直遇上卡在剩餘 1 分鐘的進度；
使用 command + L 查看安裝記錄，便發現是一直在安裝檔的驗證失敗⋯⋯
直到今天早上，在重灌一次，才順利完成 High Sierra 的安裝。&lt;/p&gt;
&lt;h3 id=&#34;但故事往往都不會那麼順利&#34;&gt;但故事往往都不會那麼順利&lt;/h3&gt;
&lt;p&gt;不知道為什麼的，我的 Disk password 一直輸入失敗，
但在 command + R 的修復模式之中，那組密碼是可以順利解開 Filevault 的⋯⋯
進入到重置密碼的頁面後，跟著步驟完成後卻得到發生內部錯誤的訊息⋯⋯
反覆試了幾次之後，得到兩個結論：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;格式化硬碟再重灌看來是最快的方式&lt;/li&gt;
&lt;li&gt;下次絕對不要輕易使用 Filevault&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;於是乎，花了數個小時後，便得到一台新的 MacBook Pro！&lt;/p&gt;
&lt;p&gt;而既然都走到這步田地了，不如就順勢將自己的環境配置逐一記錄下來⋯⋯&lt;/p&gt;
&lt;h3 id=&#34;觸控板相關&#34;&gt;觸控板相關&lt;/h3&gt;
&lt;p&gt;首先，第一步我都會先將觸控板相關的內容弄一弄，
這樣待會做其他事情也都會較快一些：&lt;/p&gt;
&lt;p&gt;點一下來選按：這樣就不用真的按下觸控板才會有動作&lt;/p&gt;
&lt;p&gt;輔助使用➡️滑鼠與觸控式軌跡板➡️觸控式軌跡板選項⋯：啟用拖移&lt;/p&gt;
&lt;h3 id=&#34;一般&#34;&gt;一般&lt;/h3&gt;
&lt;p&gt;使用暗色選單列和 Dock：我個人喜歡這配色的 macOS&lt;/p&gt;
&lt;h3 id=&#34;聲音&#34;&gt;聲音&lt;/h3&gt;
&lt;p&gt;在選單列中顯示音量：這樣在切換聲音輸出的時候很方便，從內建揚聲器到藍牙耳機&lt;/p&gt;
&lt;h3 id=&#34;icloud&#34;&gt;iCloud&lt;/h3&gt;
&lt;p&gt;能勾的全勾：單純在 iPhone、iPad、以及其他 Mac 之間切換很方便&lt;/p&gt;
&lt;h3 id=&#34;app-store&#34;&gt;App Store&lt;/h3&gt;
&lt;p&gt;這邊則是我會從 App Store 上下載（或更新）的東西：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;iTunes&lt;/li&gt;
&lt;li&gt;Command Line Tools&lt;/li&gt;
&lt;li&gt;Xcode&lt;/li&gt;
&lt;li&gt;LINE&lt;/li&gt;
&lt;li&gt;Window Tidy&lt;/li&gt;
&lt;li&gt;Pages&lt;/li&gt;
&lt;li&gt;Numbers&lt;/li&gt;
&lt;li&gt;Keynote&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;其他&#34;&gt;其他&lt;/h3&gt;
&lt;p&gt;其他開發會使用到的一些東西，則等我告一個段落後再一一寫進下一篇！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Swift 4 JSON</title>
        <link>https://example.com/p/swift-4-json/</link>
        <pubDate>Wed, 20 Sep 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/swift-4-json/</guid>
        <description>&lt;p&gt;在 Swift 之中，JSON (JavaScript Object Notation) 的型別為 [String: Any]，
也就是一個 Dictionary 的概念，以一組 Key 對應一組 Value。
大多數會碰到 JSON 格式是在做網路溝通時，
使用 JSON 格式並 encode 成 Data 的型態在傳輸資料。&lt;/p&gt;
&lt;h3 id=&#34;swift-3-以前&#34;&gt;Swift 3 以前&lt;/h3&gt;
&lt;p&gt;我們從 URLSession.shared.dataTask 的 handler 之中，
會得到 data、response 及 error，其中的 data 會使用下面的方式才轉換成 JSON：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/* Create a Foundation object from JSON data. Set the NSJSONReadingAllowFragments option if the parser should allow top-level objects that are not an NSArray or NSDictionary. Setting the NSJSONReadingMutableContainers option will make the parser generate mutable NSArrays and NSDictionaries. Setting the NSJSONReadingMutableLeaves option will make the parser generate mutable NSString objects. If an error occurs during the parse, then the error parameter will be set and the result will be nil.
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;       The data must be in one of the 5 supported encodings listed in the JSON specification: UTF-8, UTF-16LE, UTF-16BE, UTF-32LE, UTF-32BE. The data may or may not have a BOM. The most efficient encoding to use for parsing is UTF-8, so if you have a choice in encoding the data passed to this method, use UTF-8.
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;open&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jsonObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;options&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;opt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JSONSerialization&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ReadingOptions&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[])&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接著我們再來對 JSON 的 Key 和 Value 來進行拆解：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;{
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;    &amp;#34;status&amp;#34;: true,
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;    &amp;#34;user&amp;#34;: {
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;        &amp;#34;ID&amp;#34;: &amp;#34;1234567890&amp;#34;,
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;        &amp;#34;name&amp;#34;: &amp;#34;Archie&amp;#34;,
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;        &amp;#34;email&amp;#34;: &amp;#34;example@example.com&amp;#34;
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;}
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;*/&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;guard&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;status&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;status&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ID&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])?[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ID&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])?[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;email&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])?[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;email&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;而巢狀式的 JSON 格式，寫起來的 code 就會越長，進而衍生出 SwiftyJSON，有興趣的可以自行看一下。&lt;/p&gt;
&lt;h3 id=&#34;swift-4&#34;&gt;Swift 4&lt;/h3&gt;
&lt;p&gt;那 Swift 4 做了哪種改變呢？
在 Foundation 裡頭，增加了 Encoder/Decoder 相關的內容，
而這邊先以 JSON 作為主要的內容。
以 User 作為例子：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;{
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;    &amp;#34;name&amp;#34;: &amp;#34;Archie&amp;#34;,
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;    &amp;#34;email&amp;#34;: &amp;#34;example@example.com&amp;#34;,
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;    &amp;#34;status: &amp;#34;Active&amp;#34;,
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;    &amp;#34;updated_time&amp;#34;: &amp;#34;2017-09-20T00:00:00Z&amp;#34;
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;}
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;*/&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;enum&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UserStatus&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Codable&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;active&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Active&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;disable&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Disable:&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Codable&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;email&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;status&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UserStatus&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;updatedTime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Date&lt;/span&gt;
    
    &lt;span class=&#34;c1&#34;&gt;// if keys need to replace by others&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;enum&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;CodingKeys&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CodingKey&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;email&lt;/span&gt; 
          &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;status&lt;/span&gt; 
          &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;updatedTime&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;updated_time&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// encoder&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;encoder&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JSONEncoder&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// set date encoding strategy to iso8601&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// default is TimeInterval&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;encoder&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dateEncodingStrategy&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iso8601&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// user convert to data&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;!&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoder&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;encode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// decoder&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;decoder&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JSONDecoder&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// data convert to user&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;!&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;decoder&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;decode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中，Codable 是指 Encodable 和 Decodable，
若你只需要做 data parse 的話，也可以僅宣告 Decodable。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Third-party Payment</title>
        <link>https://example.com/p/third-party-payment/</link>
        <pubDate>Thu, 07 Sep 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/third-party-payment/</guid>
        <description>&lt;h1 id=&#34;third-party-payment&#34;&gt;Third-party Payment&lt;/h1&gt;
&lt;p&gt;這篇要來聊聊第三方支付，其主要的內容會介紹幾個台灣所可以使用的第三方支付方案；
而第三方支付主要解決的問題是，替我們向銀行方溝通及串接請款等動作，
讓使用者可以透過第三方支付的服務付款，而我們再和第三方支付的服務商談拆帳方式，
它可以讓我們不必親自去和銀行接洽運作的方式，只需要透過其官方的一些文件或是管理後台，
便能較輕易地處理掉金流這一塊的相關問題。
而這邊會談到下列幾間的一些資訊：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;智付通&lt;/li&gt;
&lt;li&gt;綠界&lt;/li&gt;
&lt;li&gt;TapPay&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;智付通&#34;&gt;智付通&lt;/h2&gt;
&lt;p&gt;智付寶為智冠科技旗下的金流平台公司，而智付通則是其主要的服務名稱。&lt;/p&gt;
&lt;h3 id=&#34;會員&#34;&gt;會員&lt;/h3&gt;
&lt;p&gt;我們需要先到智付通的網站之中，創建一組收款帳號：&lt;/p&gt;
&lt;p&gt;企業會員的部分，可以透過業務的接洽去談彼此之間的手續費抽成數字，
再來就可以串接其 API 來進行相關的開發動作。&lt;/p&gt;
&lt;h3 id=&#34;支援的支付方式&#34;&gt;支援的支付方式&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;超商代收&lt;/li&gt;
&lt;li&gt;信用卡&lt;/li&gt;
&lt;li&gt;ATM / WebATM&lt;/li&gt;
&lt;li&gt;Pay2go 電子錢包（他們自己的產品）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;費用&#34;&gt;費用&lt;/h3&gt;
&lt;p&gt;智付通的商業模式是抽取交易手續費的模式：&lt;/p&gt;
&lt;p&gt;其中，舉個例子：
像是信用卡一次付清 2.80% 的意思是，信用卡支付銀行本身可能是抽取 1.80%，
而智付通要賺的錢，便是 2.80 – 1.80 = 1.00 %。&lt;/p&gt;
&lt;h3 id=&#34;備註&#34;&gt;備註&lt;/h3&gt;
&lt;p&gt;之前同事在串接 API 時，踩過幾次文件和實際 response 不符的雷⋯⋯&lt;/p&gt;
&lt;h2 id=&#34;綠界&#34;&gt;綠界&lt;/h2&gt;
&lt;h3 id=&#34;會員以及收費&#34;&gt;會員以及收費&lt;/h3&gt;
&lt;p&gt;綠界的個人會員和商務會員差異性，從圖表上看來只在於收款額度上的不同；
而特約會員（應該是從業務去接洽的）則是可以去談判的「依雙方議定」。&lt;/p&gt;
&lt;h3 id=&#34;支援的支付方式-1&#34;&gt;支援的支付方式&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;超商代收&lt;/li&gt;
&lt;li&gt;信用卡&lt;/li&gt;
&lt;li&gt;ATM / WebATM&lt;/li&gt;
&lt;li&gt;Apple Pay&lt;/li&gt;
&lt;li&gt;Android Pay&lt;/li&gt;
&lt;li&gt;全家條碼立即儲&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;tappay&#34;&gt;TapPay&lt;/h2&gt;
&lt;p&gt;TapPay 的商業模式則和上述兩者不太相同，前面所提及的廠商，
是在每筆交易之中抽成當作手續費，
而 TapPay 則是以單筆固定金額來收取費用；
原因是在於，在使用 TapPay 時，
我們需要和相關的銀行簽妥相關文件，讓錢直接轉進我們的戶頭內，
也就是說 TapPay 實際上並不會先將錢都收進它那，
而是一個幫忙在銀行和我們之間作溝通的角色。&lt;/p&gt;
&lt;h3 id=&#34;支援的支付方式-2&#34;&gt;支援的支付方式&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Apple Pay&lt;/li&gt;
&lt;li&gt;Android Pay&lt;/li&gt;
&lt;li&gt;Direct Pay&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;流程&#34;&gt;流程&lt;/h3&gt;
&lt;p&gt;當時和 TapPay 聯繫所得到的資訊是，我們會先選擇要使用哪一間銀行作為收款的窗口，
他們會協助我們簽妥銀行簽收單合約，再來另一份是 TapPay 的服務合約，
而各家銀行和 TapPay 之間所能談到的信用卡費用也不同。&lt;/p&gt;
&lt;h2 id=&#34;費用-1&#34;&gt;費用&lt;/h2&gt;
&lt;p&gt;2017/07/17 所記錄的資訊如下：&lt;/p&gt;
&lt;h3 id=&#34;中國信託&#34;&gt;中國信託&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;信用卡 1.85%&lt;/li&gt;
&lt;li&gt;設置費 4 萬&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;台新銀行&#34;&gt;台新銀行&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;信用卡 1.8%&lt;/li&gt;
&lt;li&gt;免設置費&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;玉山銀行&#34;&gt;玉山銀行&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;信用卡 1.85%&lt;/li&gt;
&lt;li&gt;免設置費&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;月費&#34;&gt;月費：&lt;/h3&gt;
&lt;p&gt;每月筆數低於 150 筆：0 元
每月筆數 150 – 1999 筆：2489 元
每月筆數  2000 – 9999 筆：2989 元
每月筆數 10000 – 39999 筆：7489 元
每月筆數 40000 – 99999 筆：14989 元
超過 100000 筆：39487 元&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Credit Card Number</title>
        <link>https://example.com/p/credit-card-number/</link>
        <pubDate>Tue, 05 Sep 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/credit-card-number/</guid>
        <description>&lt;p&gt;最近在串信用卡支付相關的服務，順道筆記信用卡卡號的相關規則。&lt;/p&gt;
&lt;h1 id=&#34;驗證卡號&#34;&gt;驗證卡號&lt;/h1&gt;
&lt;p&gt;信用卡卡號的驗證方式是，最後一碼為驗證碼；
舉個例子來說：
MasterCard – 5200 8282 8282 8210
其中最後一碼 0 是由 5200 8282 8282 821 去做一些邏輯運算後得到的結果；
也就是你其實可以前面隨便亂打，最後一碼再從 0 測試到 9 就可以通過基本的卡號驗證。&lt;/p&gt;
&lt;h2 id=&#34;驗證方式&#34;&gt;驗證方式&lt;/h2&gt;
&lt;p&gt;信用卡的驗證方式，是用 The Luhn Formula，也就是說，
當我們取得一組卡號，驗證碼產生的流程為：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;去掉最後一碼（5 2 0 0 – 8 2 8 2 – 8 2 8 2 – 8 2 1）&lt;/li&gt;
&lt;li&gt;把整串倒過來（1 2 8 – 2 8 2 8 – 2 8 2 8 – 0 0 2 5）&lt;/li&gt;
&lt;li&gt;排序奇數的數字 x 2（2 2 16 – 2 16 2 16 – 2 16 2 16 – 0 0 2 10）&lt;/li&gt;
&lt;li&gt;超過九的數字則 – 9（2 2 7 – 2 7 2 7 – 2 7 2 7 – 0 0 2 1）&lt;/li&gt;
&lt;li&gt;將所有數字相加（50）&lt;/li&gt;
&lt;li&gt;取尾數（0）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;得到驗證碼為 0，則卡號 5200 8282 8282 8210 為正確的卡號格式。&lt;/p&gt;
&lt;h2 id=&#34;卡別辨別&#34;&gt;卡別辨別&lt;/h2&gt;
&lt;p&gt;是以開頭前幾個數字來當作判斷基準，
例如 VISA 卡的判斷方式是卡號為 4 開頭的；
JCB 則是前四碼在 3528 – 3589 範圍內。
還有很多相關的判斷資訊，可以到 FreeFormatter.com 看看！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Status bar style</title>
        <link>https://example.com/p/status-bar-style/</link>
        <pubDate>Tue, 29 Aug 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/status-bar-style/</guid>
        <description>&lt;h1 id=&#34;status-bar-style&#34;&gt;Status bar style&lt;/h1&gt;
&lt;p&gt;一般在 iOS 裡頭，status bar style 可以被分成兩種&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;default&lt;/li&gt;
&lt;li&gt;lightContent&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;設定方式&#34;&gt;設定方式&lt;/h2&gt;
&lt;p&gt;我們可以在 info.plist 做全域的設定，讓整個 app 在執行的時候，都是同樣的 style；
這取決於
View controller-based status bar appearance – YES / NO
若設為 NO，則是整個 app 都會是同樣的 style；
而若設為 YES，就能在個別的 viewController 來做設定。&lt;/p&gt;
&lt;h3 id=&#34;view-controller-base-status-bar-appearance--yes&#34;&gt;View controller-base status bar appearance – YES&lt;/h3&gt;
&lt;p&gt;實作方式是更改 UIViewController 底下的 preferredStatusBarStyle，
而因為它是 { get } 的，所以我們只能透過覆寫的方式來更改：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kr&#34;&gt;override&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;preferredStatusBarStyle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIStatusBarStyle&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lightContent&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;UINavigationController
如果你要更改的 UIViewController 是包在 UINavigationController 裡頭的話，
則需要更改的是 UINavigationController 的 preferredStatusBarStyle，
而非是當前的 UIViewController。&lt;/p&gt;
&lt;p&gt;動態更改
當我們執行 setNeedsStatusBarAppearanceUpdate()，可以讓系統再去讀一次 preferredStatusBarStyle，並更改狀態；
所以若要做更改的動畫，則可以在 UIView.animated 裡頭執行 self.setNeedsStatusBarAppearanceUpdate()&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ViewModel with POP</title>
        <link>https://example.com/p/viewmodel-with-pop/</link>
        <pubDate>Fri, 11 Aug 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/viewmodel-with-pop/</guid>
        <description>&lt;h1 id=&#34;viewmodel-with-pop&#34;&gt;ViewModel with POP&lt;/h1&gt;
&lt;p&gt;這邊有兩個名詞需要解釋一下，一個是 ViewModel，另一個則是 POP：&lt;/p&gt;
&lt;h2 id=&#34;viewmodel&#34;&gt;ViewModel&lt;/h2&gt;
&lt;p&gt;在 iOS 的開發模式中，從你新建一個新專案的時候，它的預設內容是以 MVC 的架構為底；
而在 MVVM 的架構中，會在 View 以及 Model 之間，多夾帶一層 ViewModel 來分工。
在實作 ViewModel 的時候，我是以 structure 的方式才建構 ViewModel，
並在裡頭宣告 init(model: Model) 的方式，來將 Model 轉成 ViewModel。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UserViewModel&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;title&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;content&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Hi, 我是 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;，今年 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; 歲！&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;pop&#34;&gt;POP&lt;/h2&gt;
&lt;p&gt;POP（Protocol-Oriendted Programing）是以 Protocol 來傳遞的方式；
以 UITableViewCell 來說，我會建立一個：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;protocol&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UITableViewCellRepresentable&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;associatedtype&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CellType&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UITableViewCell&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cell&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tableView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UITableView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;indexPath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IndexPath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;Self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CellType&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然後讓 UserViewModel 或是相關的 CellViewModel 來遵守這個 protocol，
這樣 CellViewModel 都可以直接取用出相對應的 Cell！
UITableViewDataSource 的 cellForRowAt 就可以簡單一些：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;tableView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tableView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UITableView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cellForRowAt&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;indexPath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IndexPath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UITableViewCell&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;viewModels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indexPath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;row&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cell&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tableView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;indexPath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;indexPath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>iOS UIView shadow</title>
        <link>https://example.com/p/ios-uiview-shadow/</link>
        <pubDate>Thu, 10 Aug 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/ios-uiview-shadow/</guid>
        <description>&lt;p&gt;最近在寫的專案，使用到比較多的陰影效果，就來列列有關陰影效果的一些內容。&lt;/p&gt;
&lt;h1 id=&#34;calayer&#34;&gt;CALayer&lt;/h1&gt;
&lt;p&gt;陰影相關的實作方式，是以 CALayer 底下的這五個變數來控制&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;shadowColor: CGColor?&lt;/li&gt;
&lt;li&gt;shadowPath: CGPath?&lt;/li&gt;
&lt;li&gt;shadowOffset: CGSize&lt;/li&gt;
&lt;li&gt;shadowRadius: CGFloat&lt;/li&gt;
&lt;li&gt;shadowOpacity: Float&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;shadowcolor&#34;&gt;shadowColor&lt;/h2&gt;
&lt;p&gt;預設值為不透明的黑色，我們可以透過這個參數來調整陰影的顏色。&lt;/p&gt;
&lt;h2 id=&#34;shadowpath&#34;&gt;shadowPath&lt;/h2&gt;
&lt;p&gt;預設值為 null，並支援 animated，可以在這邊調整陰影的路徑，
所以當 UIView 在透過 animated 調整大小時，我們可以一併調整 shadowPath 來跟著做變化。&lt;/p&gt;
&lt;h2 id=&#34;shadowoffset&#34;&gt;shadowOffset&lt;/h2&gt;
&lt;p&gt;預設值為 [0, -3]，來調整陰影的位移。&lt;/p&gt;
&lt;h2 id=&#34;shadowradius&#34;&gt;shadowRadius&lt;/h2&gt;
&lt;p&gt;預設值為 3，系統本身會進行發散的動作。&lt;/p&gt;
&lt;h2 id=&#34;shadowopacity&#34;&gt;shadowOpacity&lt;/h2&gt;
&lt;p&gt;預設值為 0，也就是完全透明；
所以如果只是要陰影，並沒有需要客製化的話，
只需要修改 shadowOpacity，畫面上就會有 offset = [0, -3], radius = 3 的不透明黑色陰影出現。&lt;/p&gt;
&lt;h2 id=&#34;cornerradius&#34;&gt;cornerRadius&lt;/h2&gt;
&lt;p&gt;這邊有點需要注意到的是，若要有 shadow 效果的話，下面兩者必須為 false&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;layer.masksToBounds&lt;/li&gt;
&lt;li&gt;clipsToBounds&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因為若將 layer 只關閉在 bounds 的話，則無法呈現陰影的效果；
但偏偏若需要圓角效果的話，則必須更改為 true。
而這邊，我的做法是，
先建立一個透明色的 UIView，來做陰影的效果，
再疊加一層 subview 來做圓角的效果，
這樣便可以做出有陰影效果的圓角 UIView 了！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>iOS User Interface Default Value</title>
        <link>https://example.com/p/ios-user-interface-default-value/</link>
        <pubDate>Wed, 09 Aug 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/ios-user-interface-default-value/</guid>
        <description>&lt;p&gt;我們在開發 iOS App 的時候，對於 User interface 的開發模式有幾種流派&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Storyboard&lt;/li&gt;
&lt;li&gt;Storyboard + xib&lt;/li&gt;
&lt;li&gt;xib&lt;/li&gt;
&lt;li&gt;Code&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而這篇的主題，先撇除純 Code 流的開發方式，來聊聊使用 Storyboard 和 xib 的朋友，會遇到什麼事。&lt;/p&gt;
&lt;h3 id=&#34;先說說為什麼我使用-user-interfacestoryboard-xib&#34;&gt;先說說為什麼我使用 User interface（Storyboard, xib）&lt;/h3&gt;
&lt;p&gt;一方面是因為一開始學習的時候，教學是從拉拉元件，連動按鈕開始，
比起純 Code 的寫法，這樣也讓人比較好上手；
再來便開始弄一些 Auto layout，讓畫面越來越完整。
而其中一點是，方便和設計師做討論，
看著畫面來調整 UI 會比我一直重新 Build 出 App 還快得一些。
但也正是為了讓設計師可以看到畫面，我可能得在一些 UIKit 的元件上先放置好預設的值，
好比說：&lt;/p&gt;
&lt;p&gt;儘管這個 UIViewController 在 viewDidLoad 的時候，會再配置一次多語系的文案以及更換些 icon 或者顏色，
但至少在初步上可以看到大概會長什麼樣子。&lt;/p&gt;
&lt;h3 id=&#34;若不清空預設值呢&#34;&gt;若不清空預設值呢？&lt;/h3&gt;
&lt;p&gt;我們就可能在部分畫面上會看到，原本打在 xib 的 UITextField 上的值（e.g Hinet CHT Auto），
甚至是可能有些元件的 isHidden 是由程式判斷出需不需要呈現，
而畫面顯示到判斷完畢的中間，會造成畫面上元件閃現的情況。
於是原先我的做法會：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;清空 xib 上的所有預設值&lt;/li&gt;
&lt;li&gt;在 viewDidLoad 的狀態，執行清空的動作&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;前者的做法，會影響到的就是 xib 失去了給設計師觀看的意義，
因為全空的畫面並不符合使用者的情境；
而後者的做法，當元件一多的時候，有時便會有疏忽。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIViewController&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kr&#34;&gt;@IBOutlet&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;weak&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;nameTextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UITextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;!&lt;/span&gt;
    &lt;span class=&#34;kr&#34;&gt;@IBOutlet&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;weak&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;passwordTextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UITextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;!&lt;/span&gt;
    &lt;span class=&#34;kr&#34;&gt;@IBOutlet&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;weak&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;addressTextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UITextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;!&lt;/span&gt;
    
    &lt;span class=&#34;kr&#34;&gt;override&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kc&#34;&gt;super&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;setUpView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setUpView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;nameTextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;placeholder&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;給值&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;passwordTextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;placeholder&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;給值&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;addressTextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;placeholder&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;給值&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如上圖，我會在 setUpView() 的時候對 UIKit 元件一一設置。
後來，某天看到了另一種方式處理這一塊：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIViewController&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kr&#34;&gt;@IBOutlet&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;weak&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;nameTextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UITextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;!&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kr&#34;&gt;didSet&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;nameTextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;placeholder&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;給值&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kr&#34;&gt;@IBOutlet&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;weak&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;passwordTextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UITextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;!&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kr&#34;&gt;didSet&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;passwordTextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;placeholder&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;給值&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kr&#34;&gt;@IBOutlet&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;weak&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;addressTextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UITextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;!&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kr&#34;&gt;didSet&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;addressTextField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;placeholder&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;給值&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;也就是將元件建構的動作寫在 UIKit 的元件 didSet 的時候，對於每個元件該做哪些事情就會有比較清楚的說明。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>GraphQL</title>
        <link>https://example.com/p/graphql/</link>
        <pubDate>Tue, 08 Aug 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/graphql/</guid>
        <description>&lt;h1 id=&#34;graphql-vs-rest&#34;&gt;GraphQL v.s REST&lt;/h1&gt;
&lt;p&gt;首先，看到這個標題，要先了解一下什麼是「REST」；
我們在先前的文章中有提到關於 Firebase Database REST API 的內容，
但並沒有在文章內解釋其含義是什麼。&lt;/p&gt;
&lt;h2 id=&#34;rest&#34;&gt;REST&lt;/h2&gt;
&lt;p&gt;REST（Representational State Transfer），是一種架構，而非協定或是標準；
透過 HTTP 協議所提供的動作（POST、GET、PUT、DELETE）來對資源進行 CRUD（Create、Read、Update、Delete），
並以 URI 的方式來指定資源：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;POST /games：建立遊戲&lt;/li&gt;
&lt;li&gt;GET /games：取得遊戲清單&lt;/li&gt;
&lt;li&gt;PUT /games/123：修改 id = 123 的遊戲內容&lt;/li&gt;
&lt;li&gt;DELETE /games/123：刪除 id = 123 的遊戲
在 iOS 開發的串接 RESTful API 的經驗中，不論是取得的資料，或是回傳回 server 的資料，
大多是以 JSON 的格式在做溝通。
前後端之間可以透過 RESTful 的方式進行明確的溝通，進而開發出相對應的功能。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;rest-的缺點&#34;&gt;REST 的缺點&lt;/h3&gt;
&lt;p&gt;但有時候還是會遇到一些問題&lt;/p&gt;
&lt;h3 id=&#34;會拿到多餘的欄位&#34;&gt;會拿到多餘的欄位&lt;/h3&gt;
&lt;p&gt;巢狀資源的處理
越來越多支 API
會拿到多餘的欄位&lt;/p&gt;
&lt;p&gt;有時候我們為了顯示一個商品，在畫面上需要呈現&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;商品名稱&lt;/li&gt;
&lt;li&gt;價錢&lt;/li&gt;
&lt;li&gt;照片 URL&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但可能在 GET /products/1 的時候，會拿到整個商品的資料回來：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;商品 ID&lt;/li&gt;
&lt;li&gt;名稱&lt;/li&gt;
&lt;li&gt;價錢&lt;/li&gt;
&lt;li&gt;剩餘數量&lt;/li&gt;
&lt;li&gt;照片 URL&lt;/li&gt;
&lt;li&gt;建立時間&lt;/li&gt;
&lt;li&gt;最後更新時間
不過在顯示端僅需要呈現三個項目，那麼其他回傳的資料就浪費了彼此之間的網路傳輸。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;巢狀資源的處理&#34;&gt;巢狀資源的處理&lt;/h3&gt;
&lt;p&gt;像是在一個畫面中，需要顯示「我的最愛」；
在 REST 的架構下，我們會設計出兩支 API：&lt;/p&gt;
&lt;p&gt;GET /users/1/favorites：取得 id = 1 的會員的最愛清單
GET /books/123：取得 id = 123 的書本資料
我們會在第一支 API 中取得一個書本 ID 列表，再來呼叫第二支 API 來取得書本資訊；
如果將書本的資訊直接併入最愛之中，雖然可以減少查詢的次數，但又會在某些不需要關聯的時候，
而讓書本成為多餘的欄位。&lt;/p&gt;
&lt;h3 id=&#34;於是乎就會越來越多支-api&#34;&gt;於是乎就會越來越多支 API&lt;/h3&gt;
&lt;p&gt;上述幾種狀況，可能就會開始出現：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GET /products-with-photo&lt;/li&gt;
&lt;li&gt;GET /products-with-price&lt;/li&gt;
&lt;li&gt;GET /products-with-users
之類的，為了配合某些前端的顯示需求而特化的 API，為了一次取得多個物件回傳，
但這也破壞了 REST 原先的架構設計風格。
所以，Facebook 便在 2012 年開始在公司內部使用另一種架設風格來解決這些問題：&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;graphql&#34;&gt;GraphQL&lt;/h2&gt;
&lt;p&gt;GraphQL 是由 Facebook 所提出的一種 query language，從 2012 年內部開始使用，到 2015 年 7 月開源。
其精神便是將所有的 API 都統整成一支 GraphQL 的 API：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GET /graphql?query={ user(id: “1”) { name, address { zipCode } } }&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Archie&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;address&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;#34;zipCode&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;12345&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;回傳的資料由呼叫 API 的人決定，有點像是讓呼叫人的負責下 query 的條件。
讓前後端共同使用一份 schema 來定義出個物件的 type 和定義好 Query 這個物件的內容，
再來就由呼叫方來自由發揮需要取得哪些資訊自訂組裝。
比較強烈的比較在於：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;只有一支 API（也就是只有一個 endpoint）&lt;/li&gt;
&lt;li&gt;可以自行處理巢狀資料&lt;/li&gt;
&lt;li&gt;可以自行決定拿到哪些欄位
進而改善上面所提到的問題。&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;結論&#34;&gt;結論&lt;/h1&gt;
&lt;p&gt;對於 iOS 的開發人員而言，是一種蠻新潮且有趣的串接方式，
但在後端就不知道是一個怎樣的複雜程度了⋯⋯畢竟我比較著重在 iOS 的應用方面，
有興趣的人可以看看我所一開始看的這篇文章。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>chmod with ssh key</title>
        <link>https://example.com/p/chmod-with-ssh-key/</link>
        <pubDate>Mon, 07 Aug 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/chmod-with-ssh-key/</guid>
        <description>&lt;p&gt;chmod 是由 &lt;code&gt;ch&lt;/code&gt;ange &lt;code&gt;mod&lt;/code&gt;e 所組成，其指令功能便是更改檔案或者資料夾底下所有檔案的權限。
而權限位是由 9 個權限位來控制，每 3 位為一組，分別為&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;User&lt;/li&gt;
&lt;li&gt;Group&lt;/li&gt;
&lt;li&gt;Other&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;chmod 的八進位語法的數字說明：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;r: read – 4&lt;/li&gt;
&lt;li&gt;w: write -2&lt;/li&gt;
&lt;li&gt;x: execute – 1
所以，舉個例子：
5 = 可讀可執行（4 + 1）
6 = 可讀可寫（4 + 2）
7 = 可讀可寫可執行（4 + 2 + 1）
那麼，chmod 600 則就代表著 User 可讀可寫，但 Group 和 Other 則無法使用。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;chmod-ssh-key&#34;&gt;chmod ssh key&lt;/h3&gt;
&lt;p&gt;若我們更改一下 ssh 的 private key，會發生什麼事呢？&lt;/p&gt;
&lt;p&gt;如圖片測試結果所示，ssh 的 private key 僅能開放 User 的權限，
Group 和 Other 則都不能開放，否則就會無法使用。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Firebase Database REST API</title>
        <link>https://example.com/p/firebase-database-rest-api/</link>
        <pubDate>Fri, 04 Aug 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/firebase-database-rest-api/</guid>
        <description>&lt;p&gt;這篇主要的內容會是簡單地記錄一下 Firebase Database RESTful API，
所提供的相關內容和使用方式。&lt;/p&gt;
&lt;h1 id=&#34;firebase-database&#34;&gt;Firebase Database&lt;/h1&gt;
&lt;p&gt;Firebase database 的儲存資料方式是屬於 NoSQL 的方式，
利用一組 key 配對一組 value 的模式來建構資料庫；
而在 Database 的介面中，我們可以清楚地看到資料是以 JSON 的格式呈現。&lt;/p&gt;
&lt;p&gt;在 iOS 開發的過程中，如果要使用 Firebase 的相關內容，
可以使用官方所提供的 Firebase iOS SDK；
或是在使用 Python 開發的時候，我會選擇使用官方推薦的 Pyrebase，
那若你目前的開發方式沒有相對應的 SDK 或是 third party 可以使用的話呢？
那麼你就只能一起用 REST API 來完成要做的事情了！&lt;/p&gt;
&lt;h2 id=&#34;rest-api&#34;&gt;REST API&lt;/h2&gt;
&lt;p&gt;Firebase 提供了五種 Http method&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GET&lt;/li&gt;
&lt;li&gt;PUT&lt;/li&gt;
&lt;li&gt;POST&lt;/li&gt;
&lt;li&gt;PATCH&lt;/li&gt;
&lt;li&gt;DELETE
其中 GET 和 DELETE 就沒什麼特別好說的，你就是取得一個 JSON 或是刪除一個。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;put&#34;&gt;PUT&lt;/h3&gt;
&lt;p&gt;PUT 就和平常使用 PUT 的方式一樣，
它會把整個 JSON 覆蓋成你目前丟上去的 JSON。&lt;/p&gt;
&lt;h3 id=&#34;post&#34;&gt;POST&lt;/h3&gt;
&lt;p&gt;POST 的話就有些不一樣，當你 POST 一個資料到某個 JSON 的時候，
它會自行建立一組 key 並回傳 name 回來。
而你所丟的資料會是那組 key 所對應的 value，
所以簡單來說 POST 就是在做新增物件時使用，且 ID 是由它所建立的。&lt;/p&gt;
&lt;h3 id=&#34;patch&#34;&gt;PATCH&lt;/h3&gt;
&lt;p&gt;PATCH 則是負責更新內容，它會先找到匹配的 key，再更新其 value；
若沒有找到相對應的 key 的話，則會建立一筆新的 key-value。&lt;/p&gt;
&lt;h3 id=&#34;如果有其中一個無法使用呢&#34;&gt;如果有其中一個無法使用呢？&lt;/h3&gt;
&lt;p&gt;若遇到你所使用的開發語言或是瀏覽器等等，無法使用其中一項 method 時；
舉個例子，DELETE 無法使用的話，Firebase 有提供你覆寫 method 的功能，
method 使用 POST，而在 header 加上：
X-HTTP-Method-Override: DELETE
便可以等同於上述所說的 DELETE。
或是加在 url 裡頭也可以：
https://[PROJECT_ID].firebaseio/[JSON_NAME].json?x-http-method-override=DELETE&lt;/p&gt;
&lt;h3 id=&#34;firebase-etag&#34;&gt;Firebase ETag&lt;/h3&gt;
&lt;p&gt;Firebase 也有支援 ETag，
在 header 上加上 X-Firebase-ETag: true，它便會在回傳的 headers 中加上
Access-Control-Expose-Headers = ETag
ETag = kmHkuKx9sCx742tosJOV4oH+JBQ=
而我們可以下一次的 request 中，在 header 放上 if-match:[ETAG_VALUE]，
伺服器端便會驗證是否可以執行這次的要求；
若最後一次的 ETag 和 if-match 的值相符的話，Firebase 便會回傳 412 Precondition failed。
而 ETag 相關的資訊可以看這邊。&lt;/p&gt;
&lt;h1 id=&#34;最後&#34;&gt;最後&lt;/h1&gt;
&lt;p&gt;整理完這些資訊後，就可以著手寫一些 database 的存取方法到 Vapor 的專案了！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Vapor</title>
        <link>https://example.com/p/vapor/</link>
        <pubDate>Thu, 03 Aug 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/vapor/</guid>
        <description>&lt;h1 id=&#34;vapor&#34;&gt;Vapor&lt;/h1&gt;
&lt;p&gt;在 Swift 開源之後，開發者們便開始將這語言往更多層面去發展，而 web app 便是其中一項。
Vapor 是一款以 Swift 作為主要語言的 Server 建構服務，讓我們可以透過它來開發 Web 相關的應用；
對於 iOS 開發人員而言，Swift 可以用來開發 web app 是一件有趣的事情，
其代表著我們可以使用同一個語言來開發一個產品，從 server 到 client。&lt;/p&gt;
&lt;h2 id=&#34;安裝方式&#34;&gt;安裝方式&lt;/h2&gt;
&lt;p&gt;不同於在安裝 iOS 第三方套件的流程，Vapor 需要透過 terminal 來安裝相關內容：
首先，得先安裝 Vapor 的 CLI&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl -sL toolbox.qutheory.io | sh
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;安裝完之後，便可以在 terminal 底下使用 vapor 的指令。&lt;/p&gt;
&lt;h2 id=&#34;建立新專案&#34;&gt;建立新專案&lt;/h2&gt;
&lt;p&gt;我們可以透過下方的指令，來建立一個新專案：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;vapor new ProjectName
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;其中第三方套件的管理方式，是使用 Swift Package Manager，
所以我們會在目錄下看到一個 Package.swift 和 Package.pins，
這方面倒是有些像 CocoaPods 所使用的 Podfile 的概念。&lt;/p&gt;
&lt;h2 id=&#34;使用-xcode-開發&#34;&gt;使用 Xcode 開發&lt;/h2&gt;
&lt;p&gt;有了專案後，你可以選擇直接打開 main.swift 來進行開發，
但如果比較喜歡使用 Xcode 開啟一個專案，而非單一檔案，
則可以透過下方指令才建立 .project。&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;vapor xcode
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;這樣系統就會幫我們產生 .project 檔，開發起來就和原本寫 iOS 差不多了。&lt;/p&gt;
&lt;h2 id=&#34;server-的相關設定&#34;&gt;Server 的相關設定&lt;/h2&gt;
&lt;p&gt;Vapor 的 server 相關設定會放置在 Config 的資料夾底下，
其中包含五個 .json 檔案：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;app.json&lt;/li&gt;
&lt;li&gt;crypto.json&lt;/li&gt;
&lt;li&gt;droplet.json&lt;/li&gt;
&lt;li&gt;fluent.json&lt;/li&gt;
&lt;li&gt;server.json
像是我們可以在 server.json 裡頭看到 host、port 的相關內容。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;build--run&#34;&gt;Build &amp;amp; Run&lt;/h2&gt;
&lt;p&gt;若你是開啟 Xcode 專案的方式，那麼 build 和 run 的方式就和以往開發 iOS 的方式一樣；
但若是沒有建立 .project 的話，也可以透過 vapor build 以及 run 的方式，就是在目錄下執行：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;vapor build &amp;amp;&amp;amp; vapor run
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;droplet&#34;&gt;Droplet&lt;/h2&gt;
&lt;p&gt;在看到 Vapor 的 icon 之後，不難想像為何其主要的核心物件名稱為 droplet。
在初始時，main.swift 會有基本的 demo code，
我們可以直接在 try drop.setup() 下方加入一些內容。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;n&#34;&gt;drop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Hello World!&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這樣便會在 0.0.0.0:8080/ 時，得到 Hello World!，
而也可以透過路徑來帶入參數，像是 0.0.0.0:8080/name/Archie 的寫法：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;n&#34;&gt;drop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;:name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;handler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parameters&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]?.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Hello &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;!&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Error retrieving parameters.&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;當連過去時，便會顯示 Hello Archie!。&lt;/p&gt;
&lt;p&gt;Views
Vapor 將 Views 放置在 /Resources/Views 裡頭，並可以使用 drop.view(“檔案名稱”) 的方式回傳畫面：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;n&#34;&gt;drop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/view&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;drop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;view&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;demoView.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;以上便是 Vapor 的一些基本的簡單介紹，有興趣的人可以一起研究研究！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Fastlane - match</title>
        <link>https://example.com/p/fastlane-match/</link>
        <pubDate>Tue, 18 Jul 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/fastlane-match/</guid>
        <description>&lt;h3 id=&#34;fastlane-是什麼&#34;&gt;Fastlane 是什麼？&lt;/h3&gt;
&lt;p&gt;簡單來說，它可以替你解決除了寫程式以外的很多事情；
像是「螢幕截圖」、「打包上傳到 Testflight」、「建立 App Store 的 App 資訊」等等，
尤其是在一個專案（project）擁有多個 target 的時候，
更是只需要一行就可以打包出十幾個 App，並且分別上架到 App Store。
而在這篇文章裡頭，會介紹其中一項功能的部分用法：&lt;/p&gt;
&lt;h3 id=&#34;match&#34;&gt;Match&lt;/h3&gt;
&lt;p&gt;Match 主要負責和 Certificate 相關的處理，這邊所要帶給大家的使用情境是，
一個 iOS 專案同時有需要多人同時開發，我們通常會採取的作法有下列幾種：&lt;/p&gt;
&lt;p&gt;在 Apple Developer Team 之中加入專案各個開發人員使用自己的 Apple ID
在 Apple Developer Team 之中加入專案各個開發人員的公司 Apple ID
提供給專案各個開發人員相對應的 Provisioning Profile
第一種和第二種的做法差不多，但其壞處就是管理者無法有效地管理 Certificate，
所以有可能會時常出現一些奇怪的 App IDs 或是 iOS Provisioning Profile，
或是誰又不小心把誰的 certificate revoke ⋯⋯&lt;/p&gt;
&lt;h3 id=&#34;所以我們需要權限劃分清楚&#34;&gt;所以我們需要權限劃分清楚&lt;/h3&gt;
&lt;p&gt;建議的做法是註冊一組公用的開發者帳號，不和任何人產生連結性&lt;/p&gt;
&lt;p&gt;e.g &lt;a class=&#34;link&#34; href=&#34;mailto:dev@apple.com&#34; &gt;dev@apple.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;只放這組帳號在 Apple Developer Team 裡頭，開發相關的處理皆由這組帳號來負責，
而帳號密碼無需流通到僅負責開發的人員手中；
意思是指，讓單純寫 Code 開發的人員，無須註冊特別的 Apple ID 或是加入哪個 Team，
只需要透過 fastlane match 的方式來獲得 Certificate，可以開發就好！&lt;/p&gt;
&lt;h3 id=&#34;建置流程&#34;&gt;建置流程&lt;/h3&gt;
&lt;p&gt;首先，先建立一個 private 的 repo 用來準備放置 match 的相關內容，
接著到專案的資料夾下，執行 fastlane match init，接著會在資料夾中看到 Matchfile：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git_url &amp;quot;這邊放置你剛剛所建立的 git repo url&amp;quot;

type &amp;quot;development&amp;quot;

app_identifier [&amp;quot;這邊放置你在 App IDs 裡頭新建好的 Bundle Ifentifier&amp;quot;]
username &amp;quot;這邊放置你所要來處理 Certificate 相關的帳號名稱&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;照著上述修改後，執行 fastlane match 後，它便會自動幫你建立好 Certificate 和 Provisioning Profile。
第一次執行的時候，會需要填入一組 passphrase。
（之後其他人要匯入 Certificate 的時候也需要填入相同的密碼）
p.s 如果專案原先就有 certificate ，執行 fastlane match nuke 就可以將它清除掉。
另外，需要將 Signing 的 Automatically manage signing 取消勾選，&lt;/p&gt;
&lt;p&gt;並將 Provisioning Profile 選擇由 match 所建立的 Provisioning Profile。&lt;/p&gt;
&lt;p&gt;這樣便建構完成了！
當之後專案有其他人手需要加入開發的時候，只需要 clone 專案下來，
不用將他的帳號加入到 Apple Developer Team 之中，
只需要執行 fastlane match，便擁有開發的相關憑證和 Provisioning Profile 可以使用～&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Socket</title>
        <link>https://example.com/p/socket/</link>
        <pubDate>Sat, 15 Jul 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/socket/</guid>
        <description>&lt;p&gt;最近在接觸即時通訊相關的開發內容，撇除使用第三方服務的串接，
大多數都是建議使用 Socket 來和伺服器端進行連接和溝通。
而研究了一下，在 TCP / IP 架構下，sockets 可以分為兩種&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Datagram sockets(connectionless)&lt;/li&gt;
&lt;li&gt;Stream sockets(connection-oriented)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;datagram-socketsconnectionless&#34;&gt;Datagram sockets(connectionless)&lt;/h3&gt;
&lt;p&gt;Datagram sockets 是使用 UDP 封包來進行傳送，
其主要的特色是速度快但不能保證資料的完整性以及次序有可能會有誤；
所以大多是使用在廣播資訊或是傳送一些較不是那麼重要的內容。&lt;/p&gt;
&lt;h3 id=&#34;stream-socketsconnection-oriented&#34;&gt;Stream sockets(connection-oriented)&lt;/h3&gt;
&lt;p&gt;而 Stream sockets 則是使用 TCP 封包來傳遞，
其因為會先需要確認 Server 和 Client 兩者連接狀態後再傳遞，
故速度較慢一些，但至少能確認資料的有序性以及完整度。&lt;/p&gt;
&lt;h3 id=&#34;簡單的總結&#34;&gt;簡單的總結&lt;/h3&gt;
&lt;p&gt;以中華郵政的觀點來看，以結果來區分的話，
我們可以簡略地將 UDP 視為平信、TCP 視為掛號信。
而即時通訊的部分，依照上述的特色來看，就得選擇使用 TCP 的方式來進行溝通。&lt;/p&gt;
&lt;h3 id=&#34;server-和-client-的溝通流程&#34;&gt;Server 和 Client 的溝通流程&lt;/h3&gt;
&lt;p&gt;首先，伺服器端和用戶端兩者必須使用同一類的封包才能互相通訊，
意思便是指 Server 建立了一個 UDP Socket，Client 也必須使用 UDP Socket 才能兩者打通。
而 Socket name 會需要包含 IP、Port、以及使用哪種協定；
當 Client 端的 Socket 成功聯繫上 Server 端的 Socket 時，
這兩者便形成一組 association。&lt;/p&gt;
&lt;h3 id=&#34;ios-上的-socket-實作方式&#34;&gt;iOS 上的 Socket 實作方式&lt;/h3&gt;
&lt;p&gt;我這邊是使用第三方套件的方式來協助實作，Github 上有不少相關的開源碼可以使用。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;socket.io&lt;/li&gt;
&lt;li&gt;CocoaAsyncSocket&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這篇就先以 CocoaAsyncSocket 作為內容主軸來當後面的說明。
比照上方的流程圖，首先我們要先建立一個 socket，再來進行 connect 的動作，
之後相關的 callback，會以 delegate 的方式來做處理。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;CocoaAsyncSocket&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;socket&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;delegate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GCDAsyncSocketDelegate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?#&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delegateQueue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DispatchQueue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?#&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;connect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;toHost&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;onPort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// GCDAsyncSocketDelegate&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didConnectToHost&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;UInt16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// 連接上後，需要執行 readData 等候 Server 執行 writeData 的動作&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;sock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;readData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;withTimeout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didRead&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;withTag&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// 讀完資料後，還是需要再執行一次 readData，來等候下一次的資料傳輸過來&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;sock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;readData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;withTimeout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;socketDidDisconnect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;withError&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didWriteDataWithTag&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;不過這邊要比較注意到的是，會需要主動的執行 readData 的動作，
來告知底層，目前可以讀取傳輸進來的資料。&lt;/p&gt;
&lt;p&gt;在 RxSwift 內的實作方式
讓 socket 的動作和事件是可被訂閱的，參考了一些實作的方式，
讓 CocoaAsyncSocket 和 RxSwift 結合在一塊：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;//  RxCocoaAsyncSocket.swift&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;//&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;//  Created by 家齊 on 2017/7/14.&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;//  Copyright © 2017年 張家齊. All rights reserved.&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;//&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Foundation&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;RxSwift&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;RxCocoa&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;CocoaAsyncSocket&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;enum&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;SocketEvent&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;connected&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;disconnected&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;RxCocoaAsyncSocketDelegateProxy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DelegateProxy&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;fileprivate&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;subject&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PublishSubject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SocketEvent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;()&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;fileprivate&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;weak&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;delegate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocketDelegate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt;
    
    &lt;span class=&#34;kr&#34;&gt;required&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parentObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;AnyObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;socket&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parentObject&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;delegate&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;delegate&lt;/span&gt;
        &lt;span class=&#34;kc&#34;&gt;super&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parentObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parentObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;deinit&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;subject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;onCompleted&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;extension&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;RxCocoaAsyncSocketDelegateProxy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocketDelegate&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didConnectToHost&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;UInt16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;subject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;onNext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;connected&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;sock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;readData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;withTimeout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didRead&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;withTag&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;sock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;readData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;withTimeout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;subject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;onNext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;socketDidDisconnect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;withError&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;subject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;onNext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;disconnected&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didWriteDataWithTag&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;extension&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;RxCocoaAsyncSocketDelegateProxy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DelegateProxyType&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setCurrentDelegate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delegate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;AnyObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;toObject&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;object&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;AnyObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;guard&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;socket&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;object&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;delegate&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delegate&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocketDelegate&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;currentDelegateFor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;object&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;AnyObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;AnyObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;socket&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;object&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;delegate&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;extension&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Reactive&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;where&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Base&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCDAsyncSocket&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Observable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SocketEvent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RxCocoaAsyncSocketDelegateProxy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;proxyForObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;base&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;subject&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;connected&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Observable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;filter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;event&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Bool&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;event&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;connected&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;disconnected&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}).&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;event&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;event&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;connected&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Observable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]?&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;filter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;event&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Bool&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;event&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}).&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;event&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;event&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JSONSerialization&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jsonObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;with&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]))&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;有興趣的人可以參考參考！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>多個帳號的 SSH Config 設定</title>
        <link>https://example.com/p/%E5%A4%9A%E5%80%8B%E5%B8%B3%E8%99%9F%E7%9A%84-ssh-config-%E8%A8%AD%E5%AE%9A/</link>
        <pubDate>Fri, 14 Jul 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E5%A4%9A%E5%80%8B%E5%B8%B3%E8%99%9F%E7%9A%84-ssh-config-%E8%A8%AD%E5%AE%9A/</guid>
        <description>&lt;p&gt;一般的情形下，我們不會太需要去做 config 檔案的設定，
因為其實不太需要建立太多組的 SSH key 來增加管理上的麻煩；
但隨著身份的增加（大多數是因為工作關係），
我們會需要用到其他組 SSH key 來連接 git server。&lt;/p&gt;
&lt;h3 id=&#34;如果公司使用的-git-server是我原本就沒有使用的呢&#34;&gt;如果公司使用的 git server，是我原本就沒有使用的呢？&lt;/h3&gt;
&lt;p&gt;那就沒什麼差了。
就像是我第一份工作，公司所使用的 git server 為 AWS 的 CodeCommit，
而原先我根本就不用使用到那邊的服務，所以建立一組 SSH key 在 AWS 上使用也沒什麼衝突。
且 AWS 上的教學文件，會讓你在 ~/.ssh/config 之中，以 Host 作為區別；
所以它只會在 AWS 上使用你為了 AWS 所建立的 key。&lt;/p&gt;
&lt;h3 id=&#34;但最容易發生的情形就是&#34;&gt;但⋯最容易發生的情形就是：&lt;/h3&gt;
&lt;p&gt;公司也使用 Github 作為組織的 git server
通常我們會有一組自己私人的 Github 帳號，若公司不反對你使用私人帳號加入組織的話，
其實你也就沒什麼差了；
但大多數的情形是會給你一組（或是請你申請一組）公司信箱的 Github 帳號，
來維護 private git repository。&lt;/p&gt;
&lt;h3 id=&#34;public-key&#34;&gt;Public key&lt;/h3&gt;
&lt;p&gt;我們先來看看 ssh 的 public key 裡頭，帶了哪些資訊：
重點便是最後的 &lt;a class=&#34;link&#34; href=&#34;mailto:xpopchi@gmail.com&#34; &gt;xpopchi@gmail.com&lt;/a&gt;。
這把 key 會知道是和哪個信箱綁定在一起的，所以在 Github 上，
公司和私人的帳號便無法共用同一組 SSH key。&lt;/p&gt;
&lt;h3 id=&#34;所以我們得替公司的信箱再建立一組-ssh-key&#34;&gt;所以我們得替公司的信箱再建立一組 SSH key&lt;/h3&gt;
&lt;p&gt;建立的流程可以看 Github 上的文件，不過會需要在建立時，替它取不同的名稱：
e.g Archie_Apple.pub
個人的習慣是在後面加上公司的名稱來做區別。
它都會放置在 ~/.ssh/ 裡頭，我們需要透過編輯 ~/.ssh/config 的方式，
以及 git url 的調整，來做到使用不同的 key 連接同一個 git server。&lt;/p&gt;
&lt;h3 id=&#34;sshconfig-的設定方式&#34;&gt;~/.ssh/config 的設定方式&lt;/h3&gt;
&lt;p&gt;我們透過不同的 Host 命名方式，來定義裡頭要使用的哪一把 key 去做連結：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Host github.com-Apple
HostName github.com
User git
IdentityFile ~/.ssh/Archie_Apple
 
Host github.com
HostName github.com
User git
IdentityFile ~/.ssh/github
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;這邊可以看到，我在 Host 那邊區隔出 github.com-Apple 及 github.com，
意思便代表著當 SSH 的 url，host 為 github.com-Apple 時，
會使用 Archie_Apple 這把 key；
而其他的 github 就照舊使用私人帳號的那把。&lt;/p&gt;
&lt;p&gt;最後，使用的方式
在你原先進行的 url 之中，做一些調整：&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;mailto:git@github.com&#34; &gt;git@github.com&lt;/a&gt;:ArchieR7/APNsPusher.git&lt;/p&gt;
&lt;p&gt;這是使用私人帳號的方式，而若要使用 Archie_Apple的話：&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;mailto:git@github.com-Apple&#34; &gt;git@github.com-Apple&lt;/a&gt;:ArchieR7/APNsPusher.git&lt;/p&gt;
&lt;p&gt;這樣就能夠使用另一把 key 來進行動作了。
不過最好是在 ~/.ssh/config 之中補上 user.name 和 user.email，
否則之後再進行 commit 時，都會以預設的名稱和信箱作為 commit 的作者。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>print</title>
        <link>https://example.com/p/print/</link>
        <pubDate>Fri, 07 Jul 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/print/</guid>
        <description>&lt;h2 id=&#34;print&#34;&gt;print&lt;/h2&gt;
&lt;p&gt;在第一次接觸一個沒學過的程式語言時，我們多半可以看到會以「Hello, world!」作為開頭；
而你第一個所使用的 method，也很有可能就是印出東西相關的。
我在這邊寫的是 print，可能在別的語言並不是這個詞，是 printf 或是 console.log() 之類，
但這邊（或是這整個網站XD）就以 Swift 為主。&lt;/p&gt;
&lt;h2 id=&#34;nslog-vs-print&#34;&gt;NSLog v.s print&lt;/h2&gt;
&lt;p&gt;有接觸過 iOS 開發的人，你可能也會看過別人使用 NSLog，而這邊就解釋一下兩者的差異：&lt;/p&gt;
&lt;h3 id=&#34;nslog&#34;&gt;NSLog&lt;/h3&gt;
&lt;p&gt;它是屬於 Fundation 的一個 function：&lt;/p&gt;
&lt;p&gt;會加上 timestamp
會加上 identifier
會印在 device console
會花較多一些些的效能，所以會比較慢一些（因為前兩者）&lt;/p&gt;
&lt;h3 id=&#34;print-1&#34;&gt;print&lt;/h3&gt;
&lt;p&gt;會印在 debugger console
所以，若你只是需要記錄在 debugger console 的話，則建議就使用 print 就好。&lt;/p&gt;
&lt;h2 id=&#34;開始使用&#34;&gt;開始使用&lt;/h2&gt;
&lt;p&gt;為了瞭解程式的執行內容，我們便開始在一些地方加上 print 的功能，像是&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;a 等於 1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;a 不等於 1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這樣就可以在 debugger console 那看到程式目前是進到哪個判斷式裡頭，
不過他大概就很簡略地顯示&lt;/p&gt;
&lt;p&gt;a 等於 1&lt;/p&gt;
&lt;p&gt;只能透過 print 的訊息來判斷是在哪，發生什麼事；
如果我們只是印出各種 print(error)，就會比較難知道是誰發生了什麼事。&lt;/p&gt;
&lt;p&gt;在輸出時加上檔案名稱及 function 和列數
在 Swift 裡頭，我們可以寫 #file #function #line 來取得相關資訊，並且簡單地分類：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ALogDebug&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;#file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;#line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;📒 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;components&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;separatedBy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;last&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;??&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;]: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ALogWarn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;#file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;#line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;⚠️ &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;components&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;separatedBy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;last&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;??&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;]: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ALogInfo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;#file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;#line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ℹ️ &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;components&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;separatedBy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;last&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;??&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;]: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ALogError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;#file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;#line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;🚨 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;components&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;separatedBy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;last&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;??&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;]: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;我個人習慣分成 Debug、Warn、Info、Error，&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Debug：為了開發需要看到的資訊&lt;/li&gt;
&lt;li&gt;Warn：不應該執行到的警告，但不會造成 Crash 的程度&lt;/li&gt;
&lt;li&gt;Info：像是網路回傳的資訊內容&lt;/li&gt;
&lt;li&gt;Error：就⋯⋯紀錄 Error 的內容XDD
這樣就可以在 debugger console 看到比較詳細的內容。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;（我沒有放 function name，有需要的記得要以參數的方式帶上）&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Apple Pay</title>
        <link>https://example.com/p/apple-pay/</link>
        <pubDate>Wed, 05 Jul 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/apple-pay/</guid>
        <description>&lt;h3 id=&#34;apple-pay&#34;&gt;Apple Pay&lt;/h3&gt;
&lt;p&gt;Apple Pay 已經在台灣流通一段時間，第三方支付的相關業者也相接著推出串接的服務；
而撇除串接第三方支付的 SDK， iOS 開發者本身的流程呢？&lt;/p&gt;
&lt;h3 id=&#34;apple-developer-相關設定&#34;&gt;Apple developer 相關設定&lt;/h3&gt;
&lt;p&gt;首先，你需要先到 Apple developer &amp;gt; Identifiers &amp;gt; Merchant IDs 註冊一個 Identifier&lt;/p&gt;
&lt;p&gt;新建完之後，點擊裡頭的 edit，需要補上 CSR 檔；
而如果你只是要測試這個流程，沒有要走到金流相關的測試的話，可以先跳過這段。&lt;/p&gt;
&lt;h3 id=&#34;xcode-相關設定&#34;&gt;Xcode 相關設定&lt;/h3&gt;
&lt;p&gt;接著到你的專案裡頭，打開 Apple Pay 的開關並填入剛剛註冊的 Merchant ID。&lt;/p&gt;
&lt;p&gt;以及 import PassKit，便可以在專案中使用 Apple Pay！&lt;/p&gt;
&lt;h3 id=&#34;流程解釋&#34;&gt;流程解釋&lt;/h3&gt;
&lt;p&gt;使用者按下 Apple Pay 的按鈕後，我們該做的流程為&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;建立訂單（PKPaymentRequest）&lt;/li&gt;
&lt;li&gt;填寫訂單相關內容&lt;/li&gt;
&lt;li&gt;建立 Apple Pay 的畫面（PKPaymentAuthorizationViewController）&lt;/li&gt;
&lt;li&gt;設定 PKPaymentAuthorizationViewController 的 delegate&lt;/li&gt;
&lt;li&gt;present Apple Pay 的畫面
而訂單相關內容可以填寫寄送相關（ship）以及聯絡人相關（contact）和金額那些基本的。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;applePay&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKPaymentRequest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;merchantIdentifier&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;merchant.tw.archie&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;merchantCapabilities&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;capability3DS&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;countryCode&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;US&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;currencyCode&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;USD&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;supportedNetworks&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;visa&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;paymentSummaryItems&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PKPaymentSummaryItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Archie&amp;#39;s shake hand&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;amount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;final&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)]&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shippingType&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;storePickup&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;contact&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKContact&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;contact&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;emailAddress&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;xpopchi@gmail.com&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PersonNameComponents&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nickname&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Archie&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;contact&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;phone&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CNPhoneNumber&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stringValue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;0912345678&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;contact&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;phoneNumber&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;phone&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;billingContact&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;contact&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;applePayController&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKPaymentAuthorizationViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;paymentRequest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;applePayController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;delegate&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;self&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;present&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;applePayController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;animated&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;completion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;畫面上就會出現 Apple Pay 的 View&lt;/p&gt;
&lt;h3 id=&#34;出現之後&#34;&gt;出現之後⋯⋯&lt;/h3&gt;
&lt;p&gt;我們可以透過 PKPaymentAuthorizationViewControllerDelegate 來做後續的事情：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;paymentAuthorizationViewControllerDidFinish&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKPaymentAuthorizationViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;paymentAuthorizationViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKPaymentAuthorizationViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didAuthorizePayment&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;payment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKPayment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;completion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;escaping&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PKPaymentAuthorizationStatus&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Swift&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;paymentAuthorizationViewControllerWillAuthorizePayment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKPaymentAuthorizationViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;paymentAuthorizationViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKPaymentAuthorizationViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didSelect&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;paymentMethod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKPaymentMethod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;completion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;escaping&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PKPaymentSummaryItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;paymentAuthorizationViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKPaymentAuthorizationViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didSelect&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;shippingMethod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKShippingMethod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;completion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;escaping&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PKPaymentAuthorizationStatus&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PKPaymentSummaryItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;paymentAuthorizationViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKPaymentAuthorizationViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didSelectShippingContact&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;contact&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PKContact&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;completion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;escaping&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PKPaymentAuthorizationStatus&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PKShippingMethod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PKPaymentSummaryItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;像是最重要的是，付款完之後的 payment.token 以及 payment 裡頭的相關資訊等，
再來就看專案要做哪些事情了XD&lt;/p&gt;
&lt;h3 id=&#34;最後給設計師&#34;&gt;最後，給設計師&lt;/h3&gt;
&lt;p&gt;Apple Pay 有規範一些它的 style 相關的設計要求，可以看&lt;a class=&#34;link&#34; href=&#34;https://developer.apple.com/ios/human-interface-guidelines/technologies/apple-pay/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;這邊&lt;/a&gt;。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>JWT</title>
        <link>https://example.com/p/jwt/</link>
        <pubDate>Mon, 03 Jul 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/jwt/</guid>
        <description>&lt;h1 id=&#34;jwt&#34;&gt;JWT&lt;/h1&gt;
&lt;p&gt;JWT（ JSON Web Token）和 iOS 比較有相關聯的地方，
便是在於 APNs p8 是使用 JWT 格式作為傳遞；
而有關於 JWT 的相關資料，可以參考 &lt;a class=&#34;link&#34; href=&#34;https://jwt.io/introduction/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;這個網站&lt;/a&gt;。
以之前所提到的 &lt;a class=&#34;link&#34; href=&#34;https://www.archie.tw/apns&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;APNs&lt;/a&gt; 來說，是由三個部分所組成：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Header&lt;/li&gt;
&lt;li&gt;Payload&lt;/li&gt;
&lt;li&gt;Verify signature&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;header&#34;&gt;Header&lt;/h2&gt;
&lt;p&gt;在 APNs 裡頭，需要包含這兩者&lt;/p&gt;
&lt;p&gt;alg：所使用的加密方式（algorithm），p8 是使用 ES256 作為加密方式
kid：鑰匙的 ID（key identifier）
例如：
alg: ES256
kid: 12345678&lt;/p&gt;
&lt;h2 id=&#34;payload&#34;&gt;Payload&lt;/h2&gt;
&lt;p&gt;iss：所發送的人（issuer），這邊為開發者的 Team ID
iat：所發送的時間（issued at）&lt;/p&gt;
&lt;h2 id=&#34;verify-signature&#34;&gt;Verify signature&lt;/h2&gt;
&lt;p&gt;這邊便是將上述兩者，分別做 base 64 加密後輸出成字串，再加上 p8 的 key，
一起做 ES256 加密後的結果，所以大概長這樣：
{header base 64 encode}.{payload base 64 encode}.{ES256 hash[(header base 64 encode).(payload base 64 encode),key]}&lt;/p&gt;
&lt;h3 id=&#34;swift-版本的-apns&#34;&gt;Swift 版本的 APNs&lt;/h3&gt;
&lt;p&gt;這幾天便是在研究如何在 Swift 中，實做推播的功能，目前卡在內建的加密方式是 HMAC 的為主，
並沒有 ECDSA p-256 的方式（ES256 = ECDSA p-256 加上 SHA 256），
故加密那段仍未能完成。&lt;/p&gt;
&lt;h3 id=&#34;徵求&#34;&gt;徵求&lt;/h3&gt;
&lt;p&gt;對 ES256 有研究的大大，分享一下如何在 Swift 上實作 ES256 加密！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Wifi 密碼 – 共享密碼的平台</title>
        <link>https://example.com/p/wifi-%E5%AF%86%E7%A2%BC-%E5%85%B1%E4%BA%AB%E5%AF%86%E7%A2%BC%E7%9A%84%E5%B9%B3%E5%8F%B0/</link>
        <pubDate>Wed, 28 Jun 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/wifi-%E5%AF%86%E7%A2%BC-%E5%85%B1%E4%BA%AB%E5%AF%86%E7%A2%BC%E7%9A%84%E5%B9%B3%E5%8F%B0/</guid>
        <description>&lt;p&gt;上週利用一些閒暇時間，串接一些服務寫了這個簡單的小工具，
主要為了解決每次到一間新的店家時，都得先找找 Wifi 的資訊：
找店員問、找菜單上有沒有寫、找牆壁有沒有貼⋯⋯
於是乎想找一個地方，把我所知道的 Wifi 帳號及密碼記下來，
儘管只要連線過一次，就不會再詢問了，但至少下次人家問我的時候可以告訴他。&lt;/p&gt;
&lt;h3 id=&#34;使用流程&#34;&gt;使用流程&lt;/h3&gt;
&lt;p&gt;打開 Wifi 密碼 – 共享密碼的平台 後，會需要使用 Facebook 做登入的動作，
其主要原因是，裡頭的資訊是由全部使用者共同維護的（共筆的概念），
所以其實會紀錄是哪個使用者新增 Wifi 資訊，但並不會顯示出來。
為了讓使用者承擔一點點微薄的責任，來讓大家都可以比較信任 Wifi 裡頭的資訊可信度，
便加入的登入的系統。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://i0.wp.com/a4.mzstatic.com/us/r30/Purple117/v4/36/68/07/3668075d-1735-c23f-1651-2b2056bf3ef6/screen696x696.jpeg?resize=392%2C696&#34; &gt;
		&lt;img src=&#34;https://i0.wp.com/a4.mzstatic.com/us/r30/Purple117/v4/36/68/07/3668075d-1735-c23f-1651-2b2056bf3ef6/screen696x696.jpeg?resize=392%2C696&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;登入畫面&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;登入畫面&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;接著我們會看到主畫面：&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://i0.wp.com/a4.mzstatic.com/us/r30/Purple127/v4/3f/19/33/3f193350-748a-44cc-a94d-fad154dea76c/screen696x696.jpeg?resize=392%2C696&#34; &gt;
		&lt;img src=&#34;https://i0.wp.com/a4.mzstatic.com/us/r30/Purple127/v4/3f/19/33/3f193350-748a-44cc-a94d-fad154dea76c/screen696x696.jpeg?resize=392%2C696&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;Wifi 列表&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Wifi 列表&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;可以看到目前共筆上，有哪些 Wifi 的資訊：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;名稱&lt;/li&gt;
&lt;li&gt;地點&lt;/li&gt;
&lt;li&gt;狀態&lt;/li&gt;
&lt;li&gt;最後更新時間
點擊進去之後，有可能會跳出 &lt;a class=&#34;link&#34; href=&#34;../admob-%e7%8d%8e%e5%8b%b5%e5%bc%8f%e5%bb%a3%e5%91%8a%e5%af%a6%e4%bd%9c&#34; &gt;AdMob 的獎勵型影片廣告&lt;/a&gt;，可以點擊連結看看當初實作的流程。
看完廣告之後才能進到內容頁面，來觀看 Wifi 密碼。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;舉報無效&#34;&gt;舉報無效&lt;/h3&gt;
&lt;p&gt;下方有個按鈕可以點選，便可以更改此 Wifi 資訊的狀態為「不可用」，
而目前版本會在前面的列表之中就直接篩選掉，所以並不會看到不可用的內容。
若是有人一直將你家的 Wifi 貼上來，你一直舉報也無法遏止這行為的話，請麻煩告知我⋯⋯&lt;/p&gt;
&lt;h3 id=&#34;實作方向--登入&#34;&gt;實作方向 – 登入&lt;/h3&gt;
&lt;p&gt;臉書的登入參照 Facebook Developer 的相關文件，先建立一個 Facebook 的應用程式；
以及利用 Firebase 的 Auth，裡頭有和 Facebook 結合的文件可以依循著做。&lt;/p&gt;
&lt;h3 id=&#34;資料庫&#34;&gt;資料庫&lt;/h3&gt;
&lt;p&gt;這邊是繼續使用 Firebase 上的 Database，它是 NoSQL 的架構，並且可以在 rules 上設計相關規則；
目前我只有使用 .indexOn 和判斷 Auth 是否合法，來決定資料庫的讀寫權限。&lt;/p&gt;
&lt;p&gt;###使用到的 Framework&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Firebase&lt;/li&gt;
&lt;li&gt;RxSwift&lt;/li&gt;
&lt;li&gt;RxCocoa&lt;/li&gt;
&lt;li&gt;ReachabilitySwift&lt;/li&gt;
&lt;li&gt;MapKit&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;下載連結&#34;&gt;下載連結&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://appsto.re/tw/cHvLkb.i&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Wifi 密碼 – 共享密碼的平台&lt;/a&gt;
有興趣的大大，可以下載下來玩玩！
目前裡頭資訊還很少，大多數是我從自己 MacBook 裡頭的 Wifi 資訊貼上去的；
希望藉由大家的共享來充實這方面的資訊。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>APNs</title>
        <link>https://example.com/p/apns/</link>
        <pubDate>Tue, 27 Jun 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/apns/</guid>
        <description>&lt;h3 id=&#34;apns-apple-push-notification-service&#34;&gt;APNs（ Apple Push Notification service）&lt;/h3&gt;
&lt;p&gt;相信有在開發 iOS app 的開發者，對於這個詞應該都不會太陌生；
簡單來說，它就是推播的功能。
而推播其實有分成兩種：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Local notification&lt;/li&gt;
&lt;li&gt;Remote notification
這兩者的差異就如同名字的一般，前者是本地的通知，後者為遠端的通知。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;local-notification&#34;&gt;Local notification&lt;/h3&gt;
&lt;p&gt;本地推播在 iOS 10 以後，可以參考 UserNotifications 這個 framework。
這邊附上以區域範圍為觸發條件的推播寫法：
&lt;a class=&#34;link&#34; href=&#34;https://gist.github.com/ArchieR7/85ee0a2d8cdd652d78d6c08eebfd0fae&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://gist.github.com/ArchieR7/85ee0a2d8cdd652d78d6c08eebfd0fae&lt;/a&gt;
而鬧鐘那種概念的，或是遊戲提醒（例如遊戲的愛心已經回滿了，趕快回來玩哦！），
這種以時間作為觸發條件的，則是設定 notification.fireDate，給它一個 Date 便會在那時候觸發。&lt;/p&gt;
&lt;h3 id=&#34;remote-notification&#34;&gt;Remote notification&lt;/h3&gt;
&lt;p&gt;遠端的推播則是如同聊天軟體常常收到的那種推播（ＯＯＯ傳送貼圖給您！），
在 AppDelegate.swift 註冊那些的就不寫在這了～
如果是在公司上班或者和後端合作，寫完註冊推播及回傳 deviceToken 和收到之後要幹嘛的動作，
通常就不會碰到「該如何打推播給 App」的問題，因為 iOS 只需要知道收到該怎辦XD
但總會有需要自己打推播測試、或是開發自己 app  的時候，
這邊就來談談 iOS 開發者該怎麼做！&lt;/p&gt;
&lt;h3 id=&#34;apns-key&#34;&gt;APNs key&lt;/h3&gt;
&lt;p&gt;以往我們在產生 APNs key 的時候，是會得到一組有期限的 .p12 檔案，
其中不同的 bundle identifier 會配對到不同的 .p12 檔案；
這是一件蠻麻煩的事情，我們需要管理不同 App 的 APNs key，
上架 20 個有推播功能的 app，就需要維護 20 組 .p12 檔案。&lt;/p&gt;
&lt;h3 id=&#34;有沒有比較方便的做法&#34;&gt;有沒有比較方便的做法？&lt;/h3&gt;
&lt;p&gt;答案是，有！
如果你是看完這篇文章，才開始接觸推播的話，
那你應該已經找不太到 .p12 要去哪裡產生了！
前陣子是 .p12 和新的 .p8 同時共存在 Apple Developer 的頁面，
而目前畫面則長這個樣子：&lt;/p&gt;
&lt;p&gt;在產生 keys 的頁面，我們可以看到只剩下「One key is used for all of your apps.」這種的（.p8），
也就是說，只需要一把 key 便可以打給你所有開發的 app，且它並不會過期！
產生完 key 之後，只有在當下可以下載 .p8 的檔案；
若你當下沒下載，就按完成的話，之後點開則會發現 Download 的按鈕是灰色不可按的，
所以需要好好保存，別把它搞丟了，否則只能夠重新產生一把新的來替換。&lt;/p&gt;
&lt;h3 id=&#34;接下來&#34;&gt;接下來？&lt;/h3&gt;
&lt;p&gt;有了 .p8 檔案之後，我是用 Python 來實作打推播的動作，附上我的檔案&lt;/p&gt;
&lt;p&gt;apns_key_id = xxxxxxxxxx（你剛剛下載下來的 .p8 檔名）
apns_key_name = ‘AuthKey_xxxxxxxxxx.p8’
team_id = 你的 developer team id
bundle_id = 推播要送到哪個 bundle id&lt;/p&gt;
&lt;h3 id=&#34;建置-python-環境&#34;&gt;建置 Python 環境&lt;/h3&gt;
&lt;p&gt;這邊會需要安裝一些 python 的套件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cryptography&lt;/li&gt;
&lt;li&gt;pyjwt&lt;/li&gt;
&lt;li&gt;hyper
可以下載 requirements.txt 放到和 .p8 及剛剛 .py 的同個資料夾，並執行
pip install -r requirements.txt
便會將所需要的套件下載安裝；
如果沒有安裝 pip⋯⋯建議可以自行先去 Google 一下XDD&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;萬事俱備後&#34;&gt;萬事俱備後&lt;/h3&gt;
&lt;p&gt;把上述的檔案更改好後，和 .p8 放到同一個資料夾，接著開啟 terminal 執行 python。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;apns&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ApnsPusher&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ApnsPusher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Test Title&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Test Body&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;device token&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Test Title：推播的標題
Test Body：推播的內容
device token：要收到推播的裝置 token
False：我最後一個參數是來控制要打給 production server 還是 development server
Python 和 Swift 看起來有點類似，所以應該不難看懂 APNs.py 是在幹嘛～
有問題可以留言給我，或是留在 gist 上！&lt;/p&gt;
&lt;h3 id=&#34;更新&#34;&gt;更新：&lt;/h3&gt;
&lt;p&gt;我將文中內的內容整理至 &lt;a class=&#34;link&#34; href=&#34;https://github.com/ArchieR7/APNsPusher&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Github&lt;/a&gt; 上，有興趣的人也可以直接去那 clone 下來研究。&lt;/p&gt;
&lt;h3 id=&#34;最後&#34;&gt;最後&lt;/h3&gt;
&lt;p&gt;如果這篇文章對你有一點點幫助的話，可以幫我點個廣告來維持這網站的伺服器月費，
或是在相關的 gist 上給個 Star 鼓勵鼓勵！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>AdMob 獎勵式廣告實作</title>
        <link>https://example.com/p/admob-%E7%8D%8E%E5%8B%B5%E5%BC%8F%E5%BB%A3%E5%91%8A%E5%AF%A6%E4%BD%9C/</link>
        <pubDate>Mon, 26 Jun 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/admob-%E7%8D%8E%E5%8B%B5%E5%BC%8F%E5%BB%A3%E5%91%8A%E5%AF%A6%E4%BD%9C/</guid>
        <description>&lt;h3 id=&#34;admob&#34;&gt;AdMob&lt;/h3&gt;
&lt;p&gt;在 Google 的廣告投放服務之中，是以 AdSense 作為主軸，整合所有廣告相關的服務；
而 AdMob 則是其中一個專門針對行動裝置的部分。
所以若 iOS 的開發者想在其應用上放置廣告單元，則需要從 AdMob 著手。&lt;/p&gt;
&lt;h3 id=&#34;建立廣告單元&#34;&gt;建立廣告單元&lt;/h3&gt;
&lt;p&gt;首先，需要先到 AdMob 的控制台中，新建一個新的應用程式，
並將 app 的相關資訊填寫完整。&lt;/p&gt;
&lt;p&gt;再者，則是建立一個廣告單元，而這篇所要分享的是「獎勵式廣告」的實作。&lt;/p&gt;
&lt;h3 id=&#34;什麼是獎勵式廣告&#34;&gt;什麼是獎勵式廣告？&lt;/h3&gt;
&lt;p&gt;獎勵式廣告的意思就如其名，是一個可以在編輯時設定，
反饋給觀看玩廣告的使用者一些獎勵的一種廣告模式；
如大部分的手機遊戲，觀看影片後可以得到一些鑽石、金幣或者特殊加成等。&lt;/p&gt;
&lt;h3 id=&#34;設定廣告獎勵&#34;&gt;設定廣告獎勵&lt;/h3&gt;
&lt;p&gt;我們可以在這個畫面中，去設定使用者觀看頻率的限制以及獎勵數量。&lt;/p&gt;
&lt;p&gt;而在後面程式實作的時候，會講解這邊設定會影響到什麼。&lt;/p&gt;
&lt;h3 id=&#34;framework-安裝&#34;&gt;Framework 安裝&lt;/h3&gt;
&lt;p&gt;你可以透過 CocoaPods 或是直接下載拉進專案之中；
這邊由於我所加入廣告的 App 有整合 Firebase 的相關服務，
而 Firebase 官方並無支援 Carthage，所以在這就一併使用 CocoaPods 來做套件的管理。
因為使用 Firebase，所以只需要在原先的 Podfile 之中加上&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;n&#34;&gt;pod&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Firebase&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AdMob&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;並且執行 pod install，即可完成安裝。&lt;/p&gt;
&lt;h3 id=&#34;appdelegateswift&#34;&gt;AppDelegate.swift&lt;/h3&gt;
&lt;p&gt;先在上方 import GoogleMobileAds，並需要在 FirebaseApp.configure() 之後，加上 AdMob 的廣告設定：
GADMobileAds.configure(withApplicationID: Your_Ads_ApplicationID)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Firebase&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;GoogleMobileAds&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIApplication&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didFinishLaunchingWithOptions&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;launchOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;UIApplicationLaunchOptionsKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]?)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Bool&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    
    &lt;span class=&#34;n&#34;&gt;FirebaseApp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;configure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;GADMobileAds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;configure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;withApplicationID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Your_Ads_ApplicationID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這樣便可以在一開啟 app 時，和 AdMob 做連結。&lt;/p&gt;
&lt;p&gt;獎勵式廣告的流程
獎勵式廣告和一般掛在下方的簽入式廣告不同，它的流程為
一、先和 AdMob 發送獎勵式廣告的 request&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;loadAdMob&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;GADRewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sharedInstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;delegate&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;self&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GADRequest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;GADRewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sharedInstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;withAdUnitID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AdUnitID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;二、主動式地去詢問 AdMob 的獎勵式廣告是否就緒；&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GADRewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sharedInstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;isReady&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;GADRewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sharedInstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;present&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fromRootViewController&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//do something&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;三、影片完整備看完後，它會以 delegate 的方式告知你剛剛投放的獎勵式廣告，其相關內容設定&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GADRewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didRewardUserWith&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;reward&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GADAdReward&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//give user reward&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GADRewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;didFailToLoadWithError&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Reward based video ad failed to load: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;localizedDescription&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rewardBasedVideoAdDidReceive&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GADRewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Reward based video ad is received.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rewardBasedVideoAdDidOpen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GADRewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Opened reward based video ad.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rewardBasedVideoAdDidStartPlaying&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GADRewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Reward based video ad started playing.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rewardBasedVideoAdDidClose&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GADRewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Reward based video ad is closed.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rewardBasedVideoAdWillLeaveApplication&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GADRewardBasedVideoAd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Reward based video ad will leave application.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;大致上的流程就是這樣，接著回到前面所說的設定；
若你有限制使用者觀看的頻率，在觀看完後的限制時間內，會在步驟二的地方得到 false，
所以在流程上需要稍作注意。
而獎勵數量則是會在廣告結束後的 delegate 之中，以 reward 這個物件回傳回來，
它底下會有 amount 這個的參數，便是剛剛所設定的獎勵數量。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>淺談 Android 的逆向工程</title>
        <link>https://example.com/p/%E6%B7%BA%E8%AB%87-android-%E7%9A%84%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B/</link>
        <pubDate>Mon, 26 Jun 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E6%B7%BA%E8%AB%87-android-%E7%9A%84%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B/</guid>
        <description>&lt;h3 id=&#34;android&#34;&gt;Android？&lt;/h3&gt;
&lt;p&gt;是的，這篇正是要寫有關於 Android 的逆向工程，儘管這也很可能是本站唯一一篇XD&lt;/p&gt;
&lt;h3 id=&#34;起因&#34;&gt;起因&lt;/h3&gt;
&lt;p&gt;看到放在「Hack」的分類上，便可以得知，是因為想要修改遊戲參數而開始涉略⋯⋯
提到 Android 的遊戲開發方式，我們可以簡單地分為兩種類型：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;以 Java 開發&lt;/li&gt;
&lt;li&gt;以 Unity 開發
這篇主要會以 Java 開發的遊戲作為內容分享（因為我想改的遊戲是此類型XD）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;先說結論
我目前還沒有修改成功，因為這款遊戲有對 apk 進行混淆的動作⋯⋯&lt;/p&gt;
&lt;p&gt;以至於一時之間無法找到我需要的參數來做修改⋯⋯
不過，就先記錄一下如何走到看得到程式碼這一步！&lt;/p&gt;
&lt;p&gt;使用到的工具&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Apk tool&lt;/li&gt;
&lt;li&gt;dex2jar&lt;/li&gt;
&lt;li&gt;jd-gui&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;apk-tool&#34;&gt;Apk tool&lt;/h3&gt;
&lt;p&gt;apk tool 主要負責將 .apk 拆開來，在反編譯之後，可以看到一堆 .smali 及 resource 的相關檔案，
也是負責將修改完的檔案重新包回 apk 的工具。
而由於我沒有修改任何 Code，所以只有解出 .smali 和 resource，看看裡頭有什麼東西和圖片影音檔而已。&lt;/p&gt;
&lt;h3 id=&#34;dex2jar-和-jd-gui&#34;&gt;dex2jar 和 jd-gui&lt;/h3&gt;
&lt;p&gt;dex2jar 的功用在於將 .apk 轉成 .jar，配合 jd-gui 打開 .jar 來探究其 source code 內容是什麼。&lt;/p&gt;
&lt;h3 id=&#34;流程總結&#34;&gt;流程總結&lt;/h3&gt;
&lt;p&gt;配合上述的三個工具，大概的流程應該是先以 dex2jar 和 jd.gui 來研究程式碼，
並使用 apk tool 拆開 .apk 後修改 .smali，最後重新打包成一個 .apk 安裝到模擬器或手機之中。
因為和 Android 不熟，所以只能進展到這邊就停下腳步⋯⋯
希望有經驗的高手們能夠給予一些協助及引導！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>開發人員與 UI / UX 設計師之間的合作模式</title>
        <link>https://example.com/p/%E9%96%8B%E7%99%BC%E4%BA%BA%E5%93%A1%E8%88%87-ui-/-ux-%E8%A8%AD%E8%A8%88%E5%B8%AB%E4%B9%8B%E9%96%93%E7%9A%84%E5%90%88%E4%BD%9C%E6%A8%A1%E5%BC%8F/</link>
        <pubDate>Tue, 20 Jun 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E9%96%8B%E7%99%BC%E4%BA%BA%E5%93%A1%E8%88%87-ui-/-ux-%E8%A8%AD%E8%A8%88%E5%B8%AB%E4%B9%8B%E9%96%93%E7%9A%84%E5%90%88%E4%BD%9C%E6%A8%A1%E5%BC%8F/</guid>
        <description>&lt;h3 id=&#34;ui--ux-設計師&#34;&gt;UI / UX 設計師&lt;/h3&gt;
&lt;p&gt;在工作了一段時間後，陸續接觸了幾位不同的 UI / UX 設計師，
而每個人做事的方法都有所差異，在這邊簡單地列出幾個想法。&lt;/p&gt;
&lt;h3 id=&#34;設計師所使用的工具&#34;&gt;設計師所使用的工具&lt;/h3&gt;
&lt;p&gt;在 UX 設計師裏頭，有配合過使用 Axure、Adobe Xd、或是用 Sketch 直接和 UI 一起出的。
而在 Sketch 的模式下，它裡頭有個詞叫做「symbol」，其意義和 iOS 裡頭的 UIView 相關物件相同。&lt;/p&gt;
&lt;h3 id=&#34;物件的概念&#34;&gt;物件的概念&lt;/h3&gt;
&lt;p&gt;Sketch 提供了 Symbol 的建立，讓使用者在設計時，能夠把一些重複使用到的元件，做成一個 symbol，
而它會自動定義這個 symbol 哪些值是可以被異動的：&lt;/p&gt;
&lt;p&gt;如同上方寫的「中華電信」，便是可被異動的值，但更改這個字串並不會影響整體的外觀。&lt;/p&gt;
&lt;h3 id=&#34;以-ios-developer-來說&#34;&gt;以 iOS developer 來說&lt;/h3&gt;
&lt;p&gt;設計師可以了解到，UINavigationBar 的樣貌大概是長這樣，並明白 UIBarButtonItem 能夠控制的外觀欄位有哪些，像是這邊顯示的 Edit 字串。
而設計師也可以自行建構 symbol，來增加重複使用的便利性；這點也如同我們在開發 App 一樣，
會建立一些較容易重複使用到的 UIView 來呈現畫面。
設計師可以更明確地定義物件哪些欄位是會怎麼變動的，像是一個「客製化的按鈕」，
可以先明白它的背景色可能會在其他頁面做換色、或是字體會更改，
這都可以讓開發人員在一開始設計這個按鈕時，都考慮進去來增加彈性。&lt;/p&gt;
&lt;h3 id=&#34;維持一致性&#34;&gt;維持一致性&lt;/h3&gt;
&lt;p&gt;symbol 的概念，可以維持整個專案的外觀一致性；
也就是說當設計師需要調整剛剛所說的「客製化按鈕」，
想把圓角從 5 pixel 改為 10 pixel，便只需要更改 symbol 即可，
不需要再到各個使用到相同外觀的按鈕，都去一一調整為 10 pixel；
developer 也一樣，只需要更改其類別即可，省去重複定義的時間。
也可降低設計師和開發人員之間的溝通成本，讓彼此能夠更專注地做好自己的工作。&lt;/p&gt;
&lt;h3 id=&#34;接下來呢&#34;&gt;接下來呢？&lt;/h3&gt;
&lt;p&gt;照著上述的做法，我們已經可以較清楚地和設計師們以一致的用詞溝通元件：
設計師：「在登入畫面的圓形按鈕，背景色要用藍色」
：「等等⋯⋯你說的藍，是什麼藍？」
我們可以理解圓形按鈕是之前所建構的 CircleButton（舉例），但顏色呢？
「就 157AFB 啊～」
這絕對不是一個友善的方式啊⋯⋯
在設計稿中可能會出現的顏色，建議的做法是請設計師都幫它們取個名稱，
並使用一個 structure 來宣告這些顏色。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UIKit&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UISetting&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;blue&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UIColor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;colorLiteralRed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;green&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;122&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;blue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;251&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alpha&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這樣我們便可以很輕鬆地讓這句話和程式產生連結
「在登入畫面的圓形按鈕，背景色要用藍色」&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setUpView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;loginButton&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CircleButton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;loginButton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;backgroundColor&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UISetting&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;blue&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;只需要一開始多花一些心思，定義一下彼此之間的「用詞」，
出份規格表
xxx app –
blue = #157AFB
white = #FFFFFF
要溝通或者調整的時候，就可以省下許多時間了！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Unit test with async functions</title>
        <link>https://example.com/p/unit-test-with-async-functions/</link>
        <pubDate>Fri, 16 Jun 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/unit-test-with-async-functions/</guid>
        <description>&lt;h3 id=&#34;ios-unit-test&#34;&gt;iOS Unit test&lt;/h3&gt;
&lt;p&gt;在寫 Unit test 的時候，有時候會遇到要測試的 function 是 async 的，
但在 Unit test 的 function 之中，它本身就是走單一 thread 來決定測試結果；
若沒有多做其他處理，closure 或是其他 thread 做的事情，便不會反應到結果上。
所以我們需要告知 Unit test，要等待一下我們要測的內容。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;testAsyncFunction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;exp&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expectation&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Async Expectation&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;NetworkManager&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shared&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;update&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;completeHandler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;n&#34;&gt;exp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fulfill&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;waitForExpectations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;handler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;建立一個 expectation，並在 closure 裏頭執行一些測試結果判斷，
判斷完後，補上 exp.fulfill() 來告知 waitForExpectations 可以結束等待。
這樣就可以做 async functions 的 Unit test 了！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>dismiss function</title>
        <link>https://example.com/p/dismiss-function/</link>
        <pubDate>Thu, 15 Jun 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/dismiss-function/</guid>
        <description>&lt;h3 id=&#34;dismissanimatedcompletion&#34;&gt;dismiss(animated:completion:)&lt;/h3&gt;
&lt;p&gt;這個 method 對於大家而言，應該都不陌生；
UIViewController 可以呼叫這個 method 來關閉，而它所關閉的概念如下：
UINavigationController&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;UIViewController1&lt;/li&gt;
&lt;li&gt;UIViewController2&lt;/li&gt;
&lt;li&gt;UIViewController3&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不論現在 presentingViewController 是 UIViewController 1、2、或者是 3，
在這三者呼叫 dismiss(animated:completion:) 時，
都會把 UINavigationController 的所有 viewControllers 都 dismiss。
然而一個很常的使用方式是，我們會在 UIViewController 的物件之中，自行呼叫 dismiss：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;n&#34;&gt;dismiss&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;animated&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;completion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;不過這麼做的話，執行 present(, animated: , completion: ) 的 UIViewController，
就不會知道是在哪個流程或是哪個畫面 dismiss 的。
比較好的做法是，會被 present 的 UIViewController 都能透過 delegate 的方式，
告知原本的 UIViewController 「我按下了什麼按鈕」，
再由前面的 UIViewController 來決定是否 dismiss 或是做其他事。&lt;/p&gt;
&lt;p&gt;讓整體的流程能夠得到比較好的控制，也讓 UIViewController 彼此之間的關係有個清楚的釐清。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>網域相關設定</title>
        <link>https://example.com/p/%E7%B6%B2%E5%9F%9F%E7%9B%B8%E9%97%9C%E8%A8%AD%E5%AE%9A/</link>
        <pubDate>Thu, 15 Jun 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E7%B6%B2%E5%9F%9F%E7%9B%B8%E9%97%9C%E8%A8%AD%E5%AE%9A/</guid>
        <description>&lt;p&gt;昨天，終於在 PChome 購買到 &lt;a class=&#34;link&#34; href=&#34;http://www.Archie.tw&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;www.Archie.tw&lt;/a&gt;
來和大家分享一下這段經歷。
首先，從要建設這個網站的時候，就已經打算購買 Archie.tw 的網域名稱；
一來，讓人方便和我本身聯想在一塊，
二來，是為了解決這個問題：&lt;/p&gt;
&lt;p&gt;通常在 Organization Identifier 會建議填上倒裝的網址，如 com.facebook、com.google 之類的，
而我之前私人所寫的 App，多半是隨便打⋯⋯（因為那時候沒有一個依循的地方）。&lt;/p&gt;
&lt;p&gt;不過，當初在 PChome 要點購買時，發現其實這是有人註冊走的⋯⋯
但還好，它的期限剛好最近會到期（2017-05-12）。
想當然耳，我便是在等到 5 月 12 日時，馬上前往去註冊，深怕自己錯過！
只是上頭的文字依舊是 2017-05-12 過期，並且還是之前那個人的相關資訊，
意思就是說其實網域是還沒被釋放出來的⋯⋯&lt;/p&gt;
&lt;p&gt;於是便去查詢了相關的資訊，原來網域到期後，會有一段贖回期和釋放期，
原先註冊的人可以在那段時間贖回其網域；
以 .tw 來說，贖回期為 30 天、刪除期為 3 天，
於是乎 2017-05-12 到期的這個網域，其實我得等到 33 天後的 2017-06-14 才能註冊。&lt;/p&gt;
&lt;p&gt;而就在昨日（2017-06-14）中午時，再更新一次購買的網頁，便發現可以註冊了！
費用為 800 元 / 一年，透過線上刷卡的方式解決了這一個多月來的網域問題！
等付款過後的一、兩個小時內，便可以設定 DNS，將原先 vultr 上的 IP 設定進去，
就可以透過 Archie.tw 連到 vultr 的機器了～&lt;/p&gt;
&lt;p&gt;另外，vultr 以及 WordPress 都需要做相關的設定，將原先顯示 IP 的地方，
都更改為剛剛獲得的網域名稱，並順道設定 https 的問題。&lt;/p&gt;
&lt;h3 id=&#34;ssl-憑證相關流程&#34;&gt;SSL 憑證相關流程&lt;/h3&gt;
&lt;p&gt;我是到 SSL for free 去申請，並按照其流程取得 .crt 和 .key，
然後使用 vultr 建置 WordPress 時，它會自行在 /etc/nginx/ssl 中建立預設的 server.crt 及 server.key，
個人的做法是將 SSL for free 取得的 .crt 和 .key 重新命名為 server.crt 和 server.key，&lt;/p&gt;
&lt;p&gt;並透過 FileZilla 來替換掉原本的檔案，並在 vultr 上重新啟動 server 便解決了 SSL 的憑證問題！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>KVOController</title>
        <link>https://example.com/p/kvocontroller/</link>
        <pubDate>Tue, 06 Jun 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/kvocontroller/</guid>
        <description>&lt;h3 id=&#34;kvocontroller&#34;&gt;KVOController&lt;/h3&gt;
&lt;p&gt;有關 Observe 的相關做法，在 Swift 上我會選擇使用 RxSwift，那 Objective-C 呢？
在這邊簡單介紹一下 KVOController 的 solution 給 Objective-C 的開發者。
在 NSObject 的子類別下，都會繼承到一個 FBKVOController 的物件，名字為 KVOController；
而這邊要使用的 method 是這個：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-objective-C&#34; data-lang=&#34;objective-C&#34;&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;observe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nullable&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;object&lt;/span&gt; &lt;span class=&#34;nl&#34;&gt;keyPath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NSString&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keyPath&lt;/span&gt; &lt;span class=&#34;nl&#34;&gt;options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NSKeyValueObservingOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;options&lt;/span&gt; &lt;span class=&#34;nl&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FBKVONotificationBlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;object 是我們要觀察的物件
keyPath 是 object 底下的要觀察的值，它的名稱（key）
options 則是填入 NSKeyValueObservingOptions
block 再來決定當 object 的 keyPath 那物件有更動時，要做些什麼事&lt;/p&gt;
&lt;h3 id=&#34;舉個例子&#34;&gt;舉個例子&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-objective-C&#34; data-lang=&#34;objective-C&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;KVOController&lt;/span&gt; &lt;span class=&#34;nl&#34;&gt;observe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;self&lt;/span&gt;
                            &lt;span class=&#34;nl&#34;&gt;keyPath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NSStringFromSelector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;@selector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;observeObjectName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
                            &lt;span class=&#34;nl&#34;&gt;options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NSKeyValueObservingOptionInitial&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NSKeyValueObservingOptionNew&lt;/span&gt;
                              &lt;span class=&#34;nl&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;id&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;_Nullable&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;observer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_Nonnull&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;object&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NSDictionary&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NSString&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_Nonnull&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;change&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                            &lt;span class=&#34;c1&#34;&gt;//do something
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;observe:self&lt;/li&gt;
&lt;li&gt;keyPath:NSStringFromSelector(@selector(observeObjectName))&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;翻成白話文就是 self 去觀察 self.observeObjectName 的 value 變化。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;block 裡頭的 observer = 觀察的物件，object 則是被觀察的物件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在這個例子之中，observer 剛好和 object 是同一個物件（self），
而我們可以在 //do something 裡頭寫些東西，像是當 observeObjectName 有值更動時，畫面上 UILabel 的 text 會跟著改變之類的。&lt;/p&gt;
&lt;h3 id=&#34;不過這邊要注意兩點&#34;&gt;不過這邊要注意兩點&lt;/h3&gt;
&lt;p&gt;KVOController 不像 RxCocoa 一樣，有提供 observe UIKit 物件的功能。
readonly 的物件，因為 observe 為監聽 set 的動作，若是直接使用 _observeObjectName = @””; 的方式，則不會被監聽到。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Optional</title>
        <link>https://example.com/p/optional/</link>
        <pubDate>Tue, 23 May 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/optional/</guid>
        <description>&lt;h3 id=&#34;前言&#34;&gt;前言&lt;/h3&gt;
&lt;p&gt;Optional 正如其名，就是個可選擇或者說是可有可無的意思。&lt;/p&gt;
&lt;h3 id=&#34;optional&#34;&gt;Optional&lt;/h3&gt;
&lt;p&gt;在 Swift 的開發過程之中，我們可以看到「 ! 」、「 ? 」存在於變數之後，像是  var userName: String? 正式意味著 userName 這個 String 有可能是 nil。
有關 Swift optional 的解釋和 nil 對於 Swift 的介紹可以看看這篇，由小草哥所攥寫的文章。
這邊要補充的是，在 Objective-C 裏頭，則是使用 nonnull 和 nullable 來代表著 Swift 裡頭的「 ! 」、「 ? 」。
而在 Objective-C 之中，可以使用 NS_ASSUME_NONNULL_BEGIN 及 NS_ASSUME_NONNULL_END 來作為區域性的宣告 @property 的屬性為 nonnull；若其中有需要宣告成 nullable 的，則再補上即可。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-objective-C&#34; data-lang=&#34;objective-C&#34;&gt;&lt;span class=&#34;n&#34;&gt;NS_ASSUME_NONNULL_BEGIN&lt;/span&gt;
  
&lt;span class=&#34;k&#34;&gt;@interface&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;DemoObject&lt;/span&gt; : &lt;span class=&#34;nc&#34;&gt;NSObject&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;@property&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;nonatomic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NSString&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;@property&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;nonatomic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nullable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NSString&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;@property&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;nonatomic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;readonly&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NSString&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;phoneNumber&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;@end&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;NS_ASSUME_NONNULL_END&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>七天學會設計模式 - Facade</title>
        <link>https://example.com/p/%E4%B8%83%E5%A4%A9%E5%AD%B8%E6%9C%83%E8%A8%AD%E8%A8%88%E6%A8%A1%E5%BC%8F-facade/</link>
        <pubDate>Tue, 09 May 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E4%B8%83%E5%A4%A9%E5%AD%B8%E6%9C%83%E8%A8%AD%E8%A8%88%E6%A8%A1%E5%BC%8F-facade/</guid>
        <description>&lt;h3 id=&#34;facade&#34;&gt;Facade&lt;/h3&gt;
&lt;p&gt;其實 Facade 的概念簡單來說，就是簡化使用物件方的介面。
舉個例來說，我建立了一個 Calendar 的 UICollectionView，可能裡頭會需要很多的邏輯判斷；像是「計算 Cell 的 Size」、「判斷日期是否為假日」、「判斷月份」⋯⋯等，但使用這個物件的人，基本上不需要（也不應該）去煩惱這些事情。
如同我們吹電風扇，只需要「強、中、弱、關」的使用介面，並不需要知道它內部是調整不同的功率去達到這效果，但對使用者而言並不是那麼的重要。
而在 MVC 的架構底下便是如此，使用者只需要 ViewController 上可以操作的 function 即可，底部的 Model 是如何操作以及邏輯運算如何，就相對的沒那麼重要，丟給系統去做就好！
所以在 Facade 的設計模式下，每個物件的介面需要被規劃過，哪些需要使用 private、fileprivate、class 等，適時地分配各個變數或常數及方法的使用權限。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>七天學會設計模式 – Observe</title>
        <link>https://example.com/p/%E4%B8%83%E5%A4%A9%E5%AD%B8%E6%9C%83%E8%A8%AD%E8%A8%88%E6%A8%A1%E5%BC%8F-observe/</link>
        <pubDate>Mon, 08 May 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E4%B8%83%E5%A4%A9%E5%AD%B8%E6%9C%83%E8%A8%AD%E8%A8%88%E6%A8%A1%E5%BC%8F-observe/</guid>
        <description>&lt;h3 id=&#34;訂閱&#34;&gt;訂閱&lt;/h3&gt;
&lt;p&gt;有使用過網誌或是一些新聞類型的網站時，通常可以在旁邊看到「訂閱」的按鈕，接著點擊下去後就可以在作者有發動或異動文章時，收到通知。&lt;/p&gt;
&lt;h3 id=&#34;observe&#34;&gt;Observe&lt;/h3&gt;
&lt;p&gt;這個設計模式的概念類似於「訂閱」的功能，我們會去「訂閱」某個物件，當它做了某些事情或者其值改變時，可以去做相對應的動作。&lt;/p&gt;
&lt;h3 id=&#34;應用&#34;&gt;應用&lt;/h3&gt;
&lt;p&gt;舉個比較常會遇到的案例：鍵盤
我們通常會希望在鍵盤升起來時，調整我們的畫面，看是移動 View 的 frame，或是設定 TableView 的 ContentOffset 之類的。
而大多數採取的方式是「監聽」 NotificationCenter 的「鍵盤升起」的事件，所以當「鍵盤升起」時，我們可以做相對應的處理；而當「鍵盤收起」時，我們也可以執行另一段 function。
這，便是 Observe 的設計模式。
我們去「訂閱」或者「監聽」某個事件，像是 Value changed 或是某個 function 被呼叫，來做相對應的處理。&lt;/p&gt;
&lt;h3 id=&#34;第三方套件&#34;&gt;第三方套件&lt;/h3&gt;
&lt;p&gt;RxSwift、ReactiveCocoa 便都是圍繞在 Observe 設計模式的框架，來做響應式的開發。&lt;/p&gt;
&lt;h3 id=&#34;響應式開發&#34;&gt;響應式開發&lt;/h3&gt;
&lt;p&gt;如名稱所述，意思是指當 Model 或者 ViewModel 的狀態（值）更動時，畫面可以很即時地跟著變動。
對 RxSwift 有興趣的人，可以看看這篇文章 &lt;a class=&#34;link&#34; href=&#34;../%e7%b7%9a%e4%b8%8a%e8%ae%80%e6%9b%b8%e6%9c%83-rxswift-%e5%88%86%e4%ba%ab&#34; &gt;線上讀書會 RxSwift 分享&lt;/a&gt;。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Weak</title>
        <link>https://example.com/p/weak/</link>
        <pubDate>Fri, 05 May 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/weak/</guid>
        <description>&lt;p&gt;在 iOS 的開發語言之中，不論是 Objective-C 或者 Swift，你或許都有看過這個詞&lt;/p&gt;
&lt;h3 id=&#34;weak&#34;&gt;weak&lt;/h3&gt;
&lt;p&gt;你可能會知道它可以避免 retain cycle，但其背後的觀念是什麼？&lt;/p&gt;
&lt;h3 id=&#34;arc&#34;&gt;ARC&lt;/h3&gt;
&lt;p&gt;在目前大家所熟悉的開發環境之中，記憶體的管理是由 iOS 或 macOS 自行去解決的；它會在你宣告或者呼叫物件的時候，替它在計數器上 +1，而當你用不到時，便會 -1。
當計數器為零的時候，便釋放掉這個物件的記憶體位置。
舉個例子，我在某個 ViewController 裏頭，宣告了一個變數 A 及執行一個異步的閉包（closure），並在裡頭使用到 A。
此時，A 在剛剛宣告產生的時候，計數器會是 +1，而在閉包內被使用到，故計數器會再 +1，所以在閉包執行時，它會是 2。&lt;/p&gt;
&lt;p&gt;那如果我們這時候，離開了 ViewController，照理說其裡頭的 instance 應該都要被釋放記憶體位置；但因為異步閉包的關係，我們無法確定在離開的時候，異步閉包是否在其他執行緒中正在執行，造成 A 的計數器仍為 1，且會繼續執行異步閉包的內容。&lt;/p&gt;
&lt;p&gt;weak 簡單來說就是，它並不會讓這個物件在計數器上 +1，並且在記憶體被釋放之後，指標會指向 nil；而在 Objective-C 及 Swift 裏頭，nil 的物件呼叫方法時，是不會造成崩潰的。&lt;/p&gt;
&lt;p&gt;retain cycle 就像是 A 使用到 B，並且 B 也使用到 A，兩者互相幫對方在計數器上 +1，那僅管我們今天離開了這個畫面，系統幫 A – 1 之後，仍然會因為 B 有使用到它，故釋放不掉 A，而 A 有使用 B，所以 B 也釋放不掉。（很饒舌，我知道）
所以在 A 裡頭使用到 B 時，將 B 宣告成 weak B，便不會幫 B 在計數器上記上一筆；當 A 要被釋放掉的時候，也不會因為 B 使用 A，而釋放不掉。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>502 Bad Gateway Error with nginx</title>
        <link>https://example.com/p/502-bad-gateway-error-with-nginx/</link>
        <pubDate>Thu, 04 May 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/502-bad-gateway-error-with-nginx/</guid>
        <description>&lt;h3 id=&#34;源頭&#34;&gt;源頭&lt;/h3&gt;
&lt;p&gt;在攥寫&lt;a class=&#34;link&#34; href=&#34;../%e4%b8%83%e5%a4%a9%e5%ad%b8%e6%9c%83%e8%a8%ad%e8%a8%88%e6%a8%a1%e5%bc%8f-singleton&#34; &gt;七天學會設計模式 – Singleton&lt;/a&gt;時，發生了點小狀況。
我點擊 WordPress 的「全部文章」時，顯示 502 Bad Gateway 的錯誤訊息；
由於點下去後不久（一、兩秒內）就跳轉出錯誤，故猜測不是 timeout 的關係，
便開始了一段 debug 的故事⋯⋯&lt;/p&gt;
&lt;h3 id=&#34;環境&#34;&gt;環境&lt;/h3&gt;
&lt;p&gt;我是使用 WordPress（不是重點）的框架，並架設在 Vultr 的主機上；
主機的主要規格為 CPU 1 vCore、RAM 1024 MB、25 GB SSD。&lt;/p&gt;
&lt;h3 id=&#34;原因&#34;&gt;原因&lt;/h3&gt;
&lt;p&gt;透過 nginx 的 error log（cat /var/log/nginx/wordpress_https_error.log），
發現關鍵字：
upstream sent too big header while reading response header from upstream
拿去餵狗的結果是，需要調整 nginx.conf（vim /etc/nginx/nginx.conf），
加上&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;http {    
    proxy_buffer_size   128k;
    proxy_buffers   4 256k;
    proxy_busy_buffers_size   256k;

    fastcgi_buffer_size 128k;
    fastcgi_buffers 4 256k;
    fastcgi_busy_buffers_size 128k;
  ...
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;來調整 buffer size，來避免資源不足直接捨棄的情況（502）。
由於 5 塊美金的方案，Vultr 僅提供 1024 MB 的記憶體大小，但它有 25 GB 的 SSD！
故可以透過 Swap 的方式，用硬碟換取記憶體的效能。&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cd /var
touch swap.img
chmod 600 swap.img
dd if=/dev/zero of=/var/swap.img bs=1024k count=1000
mkswap /var/swap.img
swapon /var/swap.img
# swapoff /var/swap.img
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;依序輸入完後，可以輸入「free」來看 swap 是否有使用相對應的 size 了！
便可以解決 nginx 因資源不足所產生的 502 Bad Gateway error！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>工作一年半的一些心得分享</title>
        <link>https://example.com/p/%E5%B7%A5%E4%BD%9C%E4%B8%80%E5%B9%B4%E5%8D%8A%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB/</link>
        <pubDate>Mon, 24 Apr 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E5%B7%A5%E4%BD%9C%E4%B8%80%E5%B9%B4%E5%8D%8A%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB/</guid>
        <description>&lt;h3 id=&#34;前言&#34;&gt;前言&lt;/h3&gt;
&lt;p&gt;前陣子在 &lt;a class=&#34;link&#34; href=&#34;https://www.ptt.cc/bbs/MacDev/index.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;PTT MacDev 版&lt;/a&gt;寫了篇心得，這邊就轉載過來&lt;/p&gt;
&lt;h3 id=&#34;正文開始&#34;&gt;正文開始&lt;/h3&gt;
&lt;p&gt;各位好，這篇文章主要是給新手一些方向和想法～
純屬個人的經歷和看法，可以一起以輕鬆的態度聊聊～
我個人是在 2015 年中開始接觸 iOS 的開發，以 Objective-C 為一開始自學方向。 從簡單遊戲開始下手，像是猜數字、圈圈叉叉之類的， 練練基本的拉拉 UI、認識Storyboard、.h 的宣告、.m 的實作等。
接著剛好 Xcode 7 開始讓免費的開發者可以裝 App 至實體裝置上， 發現自己原本都用 4.7 吋的模擬器執行，而到了 5.7 吋的裝置上時， 會有跑版的問題，於是花了一些時間學習 AutoLayout。
而基本上 AutoLayout 有個概念熟悉即可， 除非是比較特別的效果需要思考一下彼此之間的 priority， 不然一般 App 都還蠻輕易解決這方面的問題； 而比較有趣的是，像在 ScrollView 裏頭做 AutoLayout 時， 要有 contentSize 的概念，而不要輕易的點「讓系統補完 constraints」的按鈕。&lt;/p&gt;
&lt;p&gt;接著，在我準備面試前的一兩個月，加入了一些 iOS 的開發社群 （e.g iOS @ Taipei、Cocoaheads Taipei等） 厚著臉皮加了版上比較活躍的幾位前輩，並詢問他們一些問題和方向， 於是開始練習其他實作：&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://opendata.cwb.gov.tw/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;氣象資料開放平臺&lt;/a&gt;：
練習接 Api，當時我是寫了一個去接目前各雨量觀測站的 App， 篩選 10 分鐘內有偵測到雨量的， 並在 MapView 上放上大頭針，顯示當區目前雨量。 （AFNetworking、MapKit）&lt;/p&gt;
&lt;p&gt;QR Code 掃瞄器：
當初瘋狂失敗的原因在於模擬器無法執行打開相機的功能， 一開就會報 Crash，而後來在裝到手機上才發覺當初懊惱的自己有多傻XD 不過這也學到了要好好 Google 的一課， 畢竟後來想想這明明是很簡單下的關鍵字，且網路上很多人會告訴你這件事…&lt;/p&gt;
&lt;p&gt;縣市的各學校地址清單：
而因為當時有這需求，便寫了一個可以讀特定格式的資料， 然後畫面簡單地透過 UINavigationController 控制前後頁， 跳轉到縣市 -&amp;gt; 鄉鎮 -&amp;gt; 學校 -&amp;gt; 資訊等， 練習一下 ViewController 間的切換和流程安排。&lt;/p&gt;
&lt;p&gt;午餐電話簿：
結合上述所學（不包含 QR Code）， 便寫了一個會先判斷離自己最近的雨量偵測站是否有偵測到 10 分鐘內下雨， 來作為篩選依據（下雨的話就只隨機挑選有外送的）， 隨機挑選後並可以決定是否今天要吃XD 再透過 FMDB 的方式記錄下來成清單，告訴自己這幾天都吃什麼… （很無聊的功能，就只是想練習 FMDB）
而上述都有使用到一些第三方套件，也選擇了 Cocoapods 來做管理。 於是我便拿著這些沒什麼商業價值的小工具上台北面試了… 很幸運的是，在面了兩間之後，就拿到其中一間的 Offer， 便開始了以 iOS 作為工作的生活。&lt;/p&gt;
&lt;p&gt;接著在這一年半左右的時間，開始寫 Swift（報到的第一天被告知要寫 Swift XDDDDD） 學習 ViewController 的生命週期，也體會到 Storyboard 和 Xib 之間的優缺點， 甚至用 Code 直接刻 View 的好處等。&lt;/p&gt;
&lt;p&gt;很多事情都要等你真的遇到了，才會很深刻地體會到， 為什麼當初有些前輩會這樣建議你… 而自己在這段時間又玩了 Parse、Firebase、Fastlane、Fabric、Carthage， 以及和 Android 之間透過 Bonjour 聯繫之類的一些不是太重要的技能XDD
看似沒什麼重點的文章，想告訴新人們的是一句我從 iOS @ Taipei 聚會中聽來的觀念： 「在這領域的知識累積，並非是線性的成長，而是一個一個的點； 你平常能觸及的東西越多，點越多，才能構成一個知識的平面。」&lt;/p&gt;
&lt;p&gt;而社群的意義就在這，它幫你集結了在 iOS 各領域開發的人， 分享他們花了數個、或數十個晚上所得到的經驗，讓你了解其中的運作原理和設計想法。
產品和想法多數都是在互相碰撞的時候，產生而來的， 像是會使用 Firebase 的 real-time database， 和藍芽裝配的配對的話，那是不是能做一個即時的數據報告， 再加入類似 AWS 的 Cloud watch 的功能，送推播到另一個裝置幹嘛幹嘛（還沒想到XD）
對自己自學程式還沒有想法的人，不如先放下手機看看你周遭的生活， 你想透過手機 App 幫你解決什麼問題？ 然而你便會找到方向，並找到一份適合你的工作，讓你接觸到更多 🙂&lt;/p&gt;
</description>
        </item>
        <item>
        <title>線上讀書會 RxSwift 分享</title>
        <link>https://example.com/p/%E7%B7%9A%E4%B8%8A%E8%AE%80%E6%9B%B8%E6%9C%83-rxswift-%E5%88%86%E4%BA%AB/</link>
        <pubDate>Thu, 23 Feb 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E7%B7%9A%E4%B8%8A%E8%AE%80%E6%9B%B8%E6%9C%83-rxswift-%E5%88%86%E4%BA%AB/</guid>
        <description>&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?=OyCN04p-uS8&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://img.youtube.com/vi/OyCN04p-uS8/maxresdefault.jpg&#34; &gt;
		&lt;img src=&#34;https://img.youtube.com/vi/OyCN04p-uS8/maxresdefault.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;線上讀書會 RxSwift 分享&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;線上讀書會 RxSwift 分享&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>七天學會設計模式 - Singleton</title>
        <link>https://example.com/p/%E4%B8%83%E5%A4%A9%E5%AD%B8%E6%9C%83%E8%A8%AD%E8%A8%88%E6%A8%A1%E5%BC%8F-singleton/</link>
        <pubDate>Sun, 01 Jan 2017 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E4%B8%83%E5%A4%A9%E5%AD%B8%E6%9C%83%E8%A8%AD%E8%A8%88%E6%A8%A1%E5%BC%8F-singleton/</guid>
        <description>&lt;h3 id=&#34;前言&#34;&gt;前言&lt;/h3&gt;
&lt;p&gt;最近和同事一起購入&lt;a class=&#34;link&#34; href=&#34;http://www.books.com.tw/products/0010750585&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;七天學會設計模式&lt;/a&gt;，不過書中是以 Java 作為示範語言；
而這邊，我會以 Swift 及 Objective-C 來攥寫範例並補充些內容。&lt;/p&gt;
&lt;h2 id=&#34;singleton&#34;&gt;Singleton&lt;/h2&gt;
&lt;p&gt;如同它的命名一般，在整個 App 運作時，僅會有一個 instance。&lt;/p&gt;
&lt;h3 id=&#34;swift&#34;&gt;Swift&lt;/h3&gt;
&lt;p&gt;Swift 宣告 Singleton 的方式很簡單，就是在 class 底下宣告一個 static 的常數（constant）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;SingletonDemo&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;shared&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SingletonDemo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;objective-c&#34;&gt;Objective-C&lt;/h3&gt;
&lt;p&gt;而 Objective-C 底下，我們要注意一些事情；
在 Multi-Thread 的情況下，我們得避免同時有多個 thread 執行建立 instance，故在創建時，必須使用 &lt;code&gt;dispatch_once_t&lt;/code&gt; 來確保僅會有一個 thread 執行。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;p&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;UIKit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;UIKit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SingletonDemo&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NSObject&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instancetype&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shared&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span class=&#34;p&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;SingletonDemo.h&amp;#34;&lt;/span&gt;

&lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;implementation&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SingletonDemo&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instancetype&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shared&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SingletonDemo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instance&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dispatch_once_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;once_token&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;dispatch_once&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;once_token&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;instance&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SingletonDemo&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;instance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;學會了如何創建 Singleton 之後，可以想想哪些物件適合以這種方式創建；
如「目前登入的使用者」，正是可以用 Singleton 的方式做設計，畢竟一個 App 同時僅能有一位使用者登入，是大多數軟體的設計，而這恰巧符合 Singleton 的精神。&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
