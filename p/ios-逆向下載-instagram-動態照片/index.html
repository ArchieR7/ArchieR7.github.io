<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='é€™ç¯‡æ–‡ç« çš„èµ·é»æ˜¯å¾ ZheChgLi æ‰€ç™¼è¡¨çš„ iOS é€†å‘åˆé«”é©—ï¼Œæˆ‘æœƒç´€éŒ„è‡ªå·±åœ¨ Instagram.app ä¸Šçš„æ“ä½œæµç¨‹ï¼Œä¸¦è£œè¶³ä¸€äº›ç´°ç¯€éƒ¨åˆ†ã€‚
ç’°å¢ƒ  macOS: 10.15.4 iOS è£ç½®  iPhone 6 iOS 12.4 ï¼ˆè¶Šç„ï¼‰ iPhone X iOS 13.4   Xcode 11.4  æˆ‘é€™é‚Šæº–å‚™äº†å…©å€‹è£ç½®ï¼Œå…¶ä¸­è¶Šç„çš„æ–¹å¼å¯ä»¥åƒè€ƒä¹‹å‰çš„æ–‡ç«  - Reveal2Loader &#43; iOS 12.4ã€‚
é€£ä¸Šè¶Šç„è£ç½® æµç¨‹å¦‚åŒä¹‹å‰æ‰€æåŠçš„ï¼Œå…ˆé–‹å•Ÿ iproxy ä¾†ä»£ç† 22 port
iproxy 2222 22 ä¸¦é€é ssh çš„æ–¹å¼é€£ä¸Šè¶Šç„è£ç½®
ssh -p 2222 root@127.0.0.1 å¯†ç¢¼é è¨­æœƒæ˜¯ alpine
æå– .ipa æˆ‘ç…§è‘— medium ä¸Šçš„æ•™å­¸ï¼Œä½¿ç”¨ frida-ios-dump ä½œç‚ºæå–çš„æ–¹å¼ã€‚
frida-ios-dump å®‰è£ é¦–å…ˆï¼Œå…ˆåœ¨ iOS è£ç½®ä¸Šå®‰è£ Frida
 
é€™é‚Šæœƒå–æ±ºæ–¼ä½ çš„è£ç½®æ˜¯å“ªä¸€ç¨® CPU è€Œä¸åŒã€‚'><title>ã€iOS é€†å‘ã€‘ä¸‹è¼‰ Instagram å‹•æ…‹ç…§ç‰‡</title>

<link rel='canonical' href='https://example.com/p/ios-%E9%80%86%E5%90%91%E4%B8%8B%E8%BC%89-instagram-%E5%8B%95%E6%85%8B%E7%85%A7%E7%89%87/'>

<link rel="stylesheet" href="/scss/style.min.css"><meta property='og:title' content='ã€iOS é€†å‘ã€‘ä¸‹è¼‰ Instagram å‹•æ…‹ç…§ç‰‡'>
<meta property='og:description' content='é€™ç¯‡æ–‡ç« çš„èµ·é»æ˜¯å¾ ZheChgLi æ‰€ç™¼è¡¨çš„ iOS é€†å‘åˆé«”é©—ï¼Œæˆ‘æœƒç´€éŒ„è‡ªå·±åœ¨ Instagram.app ä¸Šçš„æ“ä½œæµç¨‹ï¼Œä¸¦è£œè¶³ä¸€äº›ç´°ç¯€éƒ¨åˆ†ã€‚
ç’°å¢ƒ  macOS: 10.15.4 iOS è£ç½®  iPhone 6 iOS 12.4 ï¼ˆè¶Šç„ï¼‰ iPhone X iOS 13.4   Xcode 11.4  æˆ‘é€™é‚Šæº–å‚™äº†å…©å€‹è£ç½®ï¼Œå…¶ä¸­è¶Šç„çš„æ–¹å¼å¯ä»¥åƒè€ƒä¹‹å‰çš„æ–‡ç«  - Reveal2Loader &#43; iOS 12.4ã€‚
é€£ä¸Šè¶Šç„è£ç½® æµç¨‹å¦‚åŒä¹‹å‰æ‰€æåŠçš„ï¼Œå…ˆé–‹å•Ÿ iproxy ä¾†ä»£ç† 22 port
iproxy 2222 22 ä¸¦é€é ssh çš„æ–¹å¼é€£ä¸Šè¶Šç„è£ç½®
ssh -p 2222 root@127.0.0.1 å¯†ç¢¼é è¨­æœƒæ˜¯ alpine
æå– .ipa æˆ‘ç…§è‘— medium ä¸Šçš„æ•™å­¸ï¼Œä½¿ç”¨ frida-ios-dump ä½œç‚ºæå–çš„æ–¹å¼ã€‚
frida-ios-dump å®‰è£ é¦–å…ˆï¼Œå…ˆåœ¨ iOS è£ç½®ä¸Šå®‰è£ Frida
 
é€™é‚Šæœƒå–æ±ºæ–¼ä½ çš„è£ç½®æ˜¯å“ªä¸€ç¨® CPU è€Œä¸åŒã€‚'>
<meta property='og:url' content='https://example.com/p/ios-%E9%80%86%E5%90%91%E4%B8%8B%E8%BC%89-instagram-%E5%8B%95%E6%85%8B%E7%85%A7%E7%89%87/'>
<meta property='og:site_name' content='Archie'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='iOS' /><meta property='article:tag' content='Swift' /><meta property='article:published_time' content='2020-04-01T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2020-04-01T00:00:00&#43;00:00'/>
<meta name="twitter:site" content="@ChangArchie">
    <meta name="twitter:creator" content="@ChangArchie"><meta name="twitter:title" content="ã€iOS é€†å‘ã€‘ä¸‹è¼‰ Instagram å‹•æ…‹ç…§ç‰‡">
<meta name="twitter:description" content="é€™ç¯‡æ–‡ç« çš„èµ·é»æ˜¯å¾ ZheChgLi æ‰€ç™¼è¡¨çš„ iOS é€†å‘åˆé«”é©—ï¼Œæˆ‘æœƒç´€éŒ„è‡ªå·±åœ¨ Instagram.app ä¸Šçš„æ“ä½œæµç¨‹ï¼Œä¸¦è£œè¶³ä¸€äº›ç´°ç¯€éƒ¨åˆ†ã€‚
ç’°å¢ƒ  macOS: 10.15.4 iOS è£ç½®  iPhone 6 iOS 12.4 ï¼ˆè¶Šç„ï¼‰ iPhone X iOS 13.4   Xcode 11.4  æˆ‘é€™é‚Šæº–å‚™äº†å…©å€‹è£ç½®ï¼Œå…¶ä¸­è¶Šç„çš„æ–¹å¼å¯ä»¥åƒè€ƒä¹‹å‰çš„æ–‡ç«  - Reveal2Loader &#43; iOS 12.4ã€‚
é€£ä¸Šè¶Šç„è£ç½® æµç¨‹å¦‚åŒä¹‹å‰æ‰€æåŠçš„ï¼Œå…ˆé–‹å•Ÿ iproxy ä¾†ä»£ç† 22 port
iproxy 2222 22 ä¸¦é€é ssh çš„æ–¹å¼é€£ä¸Šè¶Šç„è£ç½®
ssh -p 2222 root@127.0.0.1 å¯†ç¢¼é è¨­æœƒæ˜¯ alpine
æå– .ipa æˆ‘ç…§è‘— medium ä¸Šçš„æ•™å­¸ï¼Œä½¿ç”¨ frida-ios-dump ä½œç‚ºæå–çš„æ–¹å¼ã€‚
frida-ios-dump å®‰è£ é¦–å…ˆï¼Œå…ˆåœ¨ iOS è£ç½®ä¸Šå®‰è£ Frida
 
é€™é‚Šæœƒå–æ±ºæ–¼ä½ çš„è£ç½®æ˜¯å“ªä¸€ç¨® CPU è€Œä¸åŒã€‚">
    </head>
    <body class="
    article-page has-toc
">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex 
    
        extended
    
">
    
        <div id="article-toolbar">
            <a href="https://example.com" class="back-home">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



                <span>Back</span>
            </a>
        </div>
    
<main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E9%96%8B%E7%99%BC%E5%BF%83%E5%BE%97/" >
                ğŸ é–‹ç™¼å¿ƒå¾—
            </a>
        
    </header>
    

    <h2 class="article-title">
        <a href="/p/ios-%E9%80%86%E5%90%91%E4%B8%8B%E8%BC%89-instagram-%E5%8B%95%E6%85%8B%E7%85%A7%E7%89%87/">ã€iOS é€†å‘ã€‘ä¸‹è¼‰ Instagram å‹•æ…‹ç…§ç‰‡</a>
    </h2>

    

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Apr 01, 2020</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    2 minute read
                </time>
            </div>
        
    </footer>
    
</div>
</header>

    <section class="article-content">
    <p>é€™ç¯‡æ–‡ç« çš„èµ·é»æ˜¯å¾ ZheChgLi æ‰€ç™¼è¡¨çš„ <a class="link" href="https://medium.com/zrealm-ios-dev/ios-%e9%80%86%e5%90%91%e5%b7%a5%e7%a8%8b%e5%88%9d%e9%ab%94%e9%a9%97-7498e1ff93ce"  target="_blank" rel="noopener"
    >iOS é€†å‘åˆé«”é©—</a>ï¼Œæˆ‘æœƒç´€éŒ„è‡ªå·±åœ¨ Instagram.app ä¸Šçš„æ“ä½œæµç¨‹ï¼Œä¸¦è£œè¶³ä¸€äº›ç´°ç¯€éƒ¨åˆ†ã€‚</p>
<h1 id="ç’°å¢ƒ">ç’°å¢ƒ</h1>
<ul>
<li><strong>macOS:</strong> 10.15.4</li>
<li><strong>iOS è£ç½®</strong>
<ul>
<li><strong>iPhone 6 iOS 12.4 ï¼ˆè¶Šç„ï¼‰</strong></li>
<li><strong>iPhone X iOS 13.4</strong></li>
</ul>
</li>
<li><strong>Xcode</strong> 11.4</li>
</ul>
<p>æˆ‘é€™é‚Šæº–å‚™äº†å…©å€‹è£ç½®ï¼Œå…¶ä¸­è¶Šç„çš„æ–¹å¼å¯ä»¥åƒè€ƒä¹‹å‰çš„æ–‡ç«  - <a class="link" href="../reveal2loader-ios-12.4/" >Reveal2Loader + iOS 12.4</a>ã€‚</p>
<h1 id="é€£ä¸Šè¶Šç„è£ç½®">é€£ä¸Šè¶Šç„è£ç½®</h1>
<p>æµç¨‹å¦‚åŒä¹‹å‰æ‰€æåŠçš„ï¼Œå…ˆé–‹å•Ÿ <code>iproxy</code> ä¾†ä»£ç† 22 port</p>
<pre tabindex="0"><code>iproxy 2222 22
</code></pre><p>ä¸¦é€é ssh çš„æ–¹å¼é€£ä¸Šè¶Šç„è£ç½®</p>
<pre tabindex="0"><code>ssh -p 2222 root@127.0.0.1
</code></pre><p>å¯†ç¢¼é è¨­æœƒæ˜¯ <code>alpine</code></p>
<h1 id="æå–-ipa">æå– .ipa</h1>
<p>æˆ‘ç…§è‘— medium ä¸Šçš„æ•™å­¸ï¼Œä½¿ç”¨ <a class="link" href="https://github.com/AloneMonkey/frida-ios-dump"  target="_blank" rel="noopener"
    >frida-ios-dump</a> ä½œç‚ºæå–çš„æ–¹å¼ã€‚</p>
<h2 id="frida-ios-dump-å®‰è£">frida-ios-dump å®‰è£</h2>
<p>é¦–å…ˆï¼Œå…ˆåœ¨ iOS è£ç½®ä¸Šå®‰è£ Frida</p>
<p><figure 
	>
	<a href="/../img/image-1585645854648.png" >
		<img src="/../img/image-1585645854648.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>é€™é‚Šæœƒå–æ±ºæ–¼ä½ çš„è£ç½®æ˜¯å“ªä¸€ç¨® CPU è€Œä¸åŒã€‚</p>
<p>æ¥è‘— clone frida-ios-dump çš„ repository ä¸¦ä½¿ç”¨ pip ä¾†å®‰è£éœ€è¦çš„å¥—ä»¶ã€‚</p>
<pre tabindex="0"><code>sudo pip install -r requirements.txt --upgrade
</code></pre><p>éƒ½å®Œæˆäº†ä¹‹å¾Œï¼Œå°±å¯ä»¥é€é <code>dump.py</code> ä¾†æ“ä½œï¼Œåƒæ˜¯åˆ—å‡ºè£ç½®ä¸Šæ‰€æœ‰æ‡‰ç”¨ç¨‹å¼</p>
<pre tabindex="0"><code>python3 dump.py -l
</code></pre><p><figure 
	>
	<a href="/../img/image-1585646173983.png" >
		<img src="/../img/image-1585646173983.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>æ‰¾åˆ°ç›®æ¨™ä¹‹å¾Œä¾†æå–ç›¸å°æ‡‰çš„ .ipa</p>
<pre tabindex="0"><code>python3 dump.py com.burbn.instagram -o /PathToSave/instagram.ipa
</code></pre><p>ä½ ä¾¿å¯ä»¥å¾—åˆ°ä¸€å€‹è„«æ®¼çš„ <code>instagram.ipa</code> äº†ï¼</p>
<h1 id="ä½¿ç”¨-monkeydevhttpsgithubcomalonemonkeymonkeydev">ä½¿ç”¨ <a class="link" href="https://github.com/AloneMonkey/MonkeyDev"  target="_blank" rel="noopener"
    >MonkeyDev</a></h1>
<p>å†ä¾†ä»‹ç´¹é€™å€‹å¾ˆå²å®³çš„å·¥å…· - MonkeyDevï¼Œå®ƒæ˜¯ä¸€å€‹ Xcode çš„æ’ä»¶ï¼Œè®“æˆ‘å€‘å¯ä»¥åœ¨éè¶Šç„ä¸Šçš„è£ç½®å®‰è£è„«æ®¼å®Œçš„ ipaï¼Œé€²è€Œå¯¦ç¾ä¸€äº› hookï¼
é€™é‚Šå°±å¯ä»¥ä¾†ä»‹ç´¹ä¸€ä¸‹å¦‚ä½•åœ¨éè¶Šç„çš„è£ç½®ä¸ŠæŸ¥çœ‹ Revealï¼</p>
<h2 id="å®‰è£-monkeydevhttpsgithubcomalonemonkeymonkeydevwikiå®‰è£…"><a class="link" href="https://github.com/AloneMonkey/MonkeyDev/wiki/%e5%ae%89%e8%a3%85"  target="_blank" rel="noopener"
    >å®‰è£ MonkeyDev</a></h2>
<p>å®‰è£ <a class="link" href="https://github.com/theos/theos/wiki/Installation"  target="_blank" rel="noopener"
    >theos</a></p>
<pre tabindex="0"><code>sudo git clone --recursive https://github.com/theos/theos.git /opt/theos
</code></pre><p>å®‰è£ ldid</p>
<pre tabindex="0"><code>brew install ldid
</code></pre><p>åŸ·è¡Œå®‰è£æŒ‡ä»¤</p>
<pre tabindex="0"><code>sudo /bin/sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/AloneMonkey/MonkeyDev/master/bin/md-install)&quot;
</code></pre><h4 id="å®‰è£éŒ¯èª¤æ‰¾ä¸åˆ°-xcode">å®‰è£éŒ¯èª¤ï¼šæ‰¾ä¸åˆ° Xcode</h4>
<p>å®ƒæœƒå®‰è£åœ¨é è¨­çš„ Xcode è·¯å¾‘ä¸Šï¼Œä¹Ÿå°±æ˜¯ <code>xcode-select -p</code> çš„ä½ç½®ï¼Œè€Œç¶“éæˆ‘çš„æ¸¬è©¦ï¼Œè‹¥ä½ çš„ Xcode åç¨±æœ‰ç©ºæ ¼çš„è©±ï¼Œæœƒç™¼ç”Ÿå®ƒæ‰¾ä¸åˆ° Xcode è·¯å¾‘çš„éŒ¯èª¤ã€‚
å¦‚ <code>Xcode 11.4.app</code> å°±æœƒæ‰¾ä¸åˆ°ï¼Œæˆ‘çš„åšæ³•æ˜¯æŠŠç©ºæ ¼åˆªå»å§ã€‚</p>
<h2 id="ä½¿ç”¨-monkeydev">ä½¿ç”¨ MonkeyDev</h2>
<p>æˆ‘å€‘ä¾†æ‰“é–‹ Xcodeï¼Œä¾¿å¯ä»¥æ‰¾åˆ°ä¸‹æ–¹æœ‰ <code>MonkeyDev</code> çš„æ¬„ä½ï¼Œé¸æ“‡ <code>MonkeyApp</code> ä¾†ä½¿ç”¨</p>
<p><figure 
	>
	<a href="/../img/image-1585648082516.png" >
		<img src="/../img/image-1585648082516.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>å»ºç«‹å¥½å°ˆæ¡ˆä¹‹å¾Œï¼Œå°‡ä¸Šé¢è¼¸å‡ºçš„ .ipa æ‹–åˆ°å°ˆæ¡ˆä¹‹ä¸­æŒ‰ä¸‹ <code>command + B</code> ä¾† build ä¸€ä¸‹ã€‚</p>
<p><figure 
	>
	<a href="/../img/image-1585659072482.png" >
		<img src="/../img/image-1585659072482.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>ä½ ä¹Ÿå¯ä»¥ç›´æ¥å®‰è£åˆ°ä½ çš„æ‰‹æ©Ÿä¸Šï¼Œé€™æ¨£å…¶å¯¦å°±é”æˆäº†ä¸€å€‹å¤šé–‹çš„åŠŸæ•ˆäº†ï¼›ç•¢ç«Ÿå®ƒå€‘çš„ bundle identifier ä¸¦ä¸åŒã€‚
ä¸€å€‹é‡é»æ˜¯ï¼Œä½ å¿…é ˆå°‡è¶Šç„çš„è£ç½®ä¹ŸåŒæ™‚æ¥è‘—ç·šæ‰è¡Œï¼ŒMonkeyDev åœ¨é‚£è£çš„æ™‚å€™</p>
<h2 id="æ‰“é–‹-reveal-æŸ¥çœ‹">æ‰“é–‹ Reveal æŸ¥çœ‹</h2>
<p>é€™æ™‚å€™æ‰“é–‹ Reveal ä¾¿å¯ä»¥ç™¼ç¾ï¼Œå‰›å‰›å®‰è£ app æœ‰å‡ºç¾åœ¨åˆ—è¡¨ä¸Šäº†ï¼</p>
<p>ä½†ä½ é»æ“Šå¾Œå¯èƒ½æœƒç™¼ç¾å’Œ<a class="link" href="https://archie.tw/2020/02/02/reveal2loader-ios-12-4/"  target="_blank" rel="noopener"
    >ä¸Šæ¬¡é‡åˆ°ä¸€æ¨£çš„å•é¡Œ - RevealServer ç‰ˆæœ¬éèˆŠ</a> é€™æ™‚å€™å°±å°‡ <code>/Users/Archie/Library/Application Support/Reveal/RevealServer</code> è¤‡è£½åˆ° <code>/opt/MonkeyDev/Frameworks/</code> å–ä»£ä¸¦å† run ä¸€æ¬¡å³å¯ã€‚</p>
<h2 id="åŠ å…¥-flexhttpsgithubcomflipboardflex">åŠ å…¥ <a class="link" href="https://github.com/Flipboard/FLEX"  target="_blank" rel="noopener"
    >FLEX</a></h2>
<p>FLEX æ˜¯ä¸€å€‹å¯ä»¥åœ¨ app è£¡é ­æŸ¥çœ‹è³‡è¨Šçš„ debug å·¥å…·ï¼ŒMonkeyDev å¦‚åŒä¸€èˆ¬çš„ Xcode å°ˆæ¡ˆä¸€æ¨£ï¼Œæœ‰æ”¯æ´ CocoaPodsï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥é€é pods çš„æ–¹å¼ä¾†åŠ å…¥ FLEXã€‚</p>
<p><figure 
	>
	<a href="/../img/image-1585660595694.png" >
		<img src="/../img/image-1585660595694.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>å”¯ä¸€çš„é‡é»å°±æ˜¯ï¼ŒFLEX æ˜¯è¦åŠ å…¥åˆ° Dylib è£¡é ­é€é hook çš„æ–¹å¼æ³¨å…¥ï¼Œæ‰€ä»¥ Podfile é‚£é‚Šè¦å¯«å°åœ°æ–¹ã€‚
ä¸¦åœ¨ instagramDylib.m è£¡é ­åŠ å…¥ç›¸å°æ‡‰çš„ç¨‹å¼ç¢¼ï¼š</p>
<p><figure 
	>
	<a href="/../img/image-1585660579870.png" >
		<img src="/../img/image-1585660579870.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>å¦‚æ­¤ä¸€ä¾†ï¼Œåœ¨è£ç½®ä¸Šå°±å¯ä»¥ä½¿ç”¨ FLEX äº†</p>
<p><figure 
	>
	<a href="/../img/image-1585660764177.png" >
		<img src="/../img/image-1585660764177.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<h1 id="éˆæ„Ÿç™¼æƒ³">éˆæ„Ÿç™¼æƒ³</h1>
<p>æˆ‘é€™æ¬¡æ‰“ç®—åŠ å…¥å€‹åŠŸèƒ½ï¼Œè®“æˆ‘å¯ä»¥é€éä¸€äº›æ“ä½œä¾†ç›´æ¥å–å¾—åœ–ç‰‡ï¼›
æ–¼æ˜¯å¾—å…ˆä¾†åˆ†æä¸€ä¸‹å¦‚ä½•å–å¾—ç…§ç‰‡ã€‚</p>
<h2 id="åˆ©ç”¨-flex-ä¾†å®šä½å…ƒä»¶">åˆ©ç”¨ FLEX ä¾†å®šä½å…ƒä»¶</h2>
<p>é¦–å…ˆä¾†ä½¿ç”¨ select çš„åŠŸèƒ½ï¼Œé»æ“Šä¸€ä¸‹åœ–ç‰‡å¾—çŸ¥æ˜¯ä¸€å€‹ <code>IGImageView</code> çš„ class</p>
<p><figure 
	>
	<a href="/../img/image-1585713489306.png" >
		<img src="/../img/image-1585713489306.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>å†é€é views çš„åŠŸèƒ½æ‰¾åˆ°ä¸Šå±¤çš„å…ƒä»¶æ˜¯ <code>IGImageProgressView</code> å’Œ <code>IGFeedPhotoView</code></p>
<p><figure 
	>
	<a href="/../img/image-1585713471799.png" >
		<img src="/../img/image-1585713471799.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>é»é€²å»å¯ä»¥æŸ¥çœ‹ <code>IGFeedPhotoView</code> çš„ propertiesï¼Œå˜—è©¦äº†ä¸€ä¸‹å¾—çŸ¥ instagram æ˜¯å°‡ url å­˜åœ¨ä¸€å€‹å«åš <code>IGImageSpecifier</code> çš„ class è£¡é ­</p>
<p><figure 
	>
	<a href="/../img/image-1585713642767.png" >
		<img src="/../img/image-1585713642767.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>æ–¼æ˜¯æˆ‘å€‘å°±å¯ä»¥é–‹å§‹ hook äº†ï¼</p>
<h2 id="å»ºç«‹-header">å»ºç«‹ Header</h2>
<p>æˆ‘å€‘å…ˆåˆ° instagramDylib çš„è³‡æ–™å¤¾ä¸­ï¼Œå»ºç«‹å…©å€‹æª”æ¡ˆ</p>
<ul>
<li><a class="link" href="htps://github.com/ArchieR7/InstagramHook/blob/master/instagramDylib/Hook/InstagramHeader.h" >InstagramHeader.h</a>ï¼šä¾†å¯«ä¸€äº›åŸæœ¬ Instagram æœ¬èº«çš„ header</li>
<li><a class="link" href="https://github.com/ArchieR7/InstagramHook/blob/master/instagramDylib/Hook/IGFeedPhotoViewHook.m"  target="_blank" rel="noopener"
    >IGFeedPhotoViewHook.m</a>ï¼šä¾†å¯« hook</li>
</ul>
<h3 id="instagramheaderh">InstagramHeader.h</h3>
<p>é€™è£¡é ­å°±å®£å‘Šä¸€äº›æˆ‘å€‘æ‰“ç®—ä½¿ç”¨åˆ°çš„ properties å°±å¥½äº†
<figure 
	>
	<a href="/../img/image-1585713915196.png" >
		<img src="/../img/image-1585713915196.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<h3 id="igfeedphotoviewhookm">IGFeedPhotoViewHook.m</h3>
<p>æŸ¥çœ‹äº†ä¸€ä¸‹ï¼Œç™¼ç¾æœ‰å€‹ <code>_onDoubleTap</code> çš„ methodï¼Œæ‡‰è©²å°±æ˜¯é›™æ“Šçµ¦æ„›å¿ƒçš„åŠŸèƒ½</p>
<p><figure 
	>
	<a href="/../img/image-1585714061293.png" >
		<img src="/../img/image-1585714061293.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>é€™éƒ¨åˆ†æˆ‘æ‰“ç®—å°±ä¾†é€éä¿®æ”¹é›™æ“Šçš„å‹•ä½œä¾†è·³å‡ºä¸€å€‹é¸å–®ï¼Œé¸å–®å…§å¯ä»¥é¸æ“‡çµ¦ â¤ï¸ æˆ–æ˜¯å„²å­˜åˆ°ç›¸ç°¿</p>
<p><figure 
	>
	<a href="/../img/image-1585714246621.png" >
		<img src="/../img/image-1585714246621.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<h2 id="demo">Demo</h2>
<p>æˆ‘å°‡ç¨‹å¼æ”¾ä¸Šäº† <a class="link" href="https://github.com/ArchieR7/InstagramHook"  target="_blank" rel="noopener"
    >GitHub</a>ï¼Œä½ å¯ä»¥ç›´æ¥ä¾†æŸ¥çœ‹ï¼
ä¸é Instagram.ipa æœ‰é»éå¤§æ‰€ä»¥æœ‰äº› framework æ²’æœ‰å‚³ä¸Šï¼Œæ‰€ä»¥ä½ è¦ç©çš„è©±æœ€å¥½è‡ªå·±è¦†è“‹éå»ä¸€ä»½æ–°çš„ã€‚</p>
<p><figure 
	>
	<a href="https://github.com/ArchieR7/InstagramHook/raw/master/DEMO.gif" >
		<img src="https://github.com/ArchieR7/InstagramHook/raw/master/DEMO.gif"
			
			
			
			loading="lazy"
			alt="Demo">
	</a>
	
	<figcaption>Demo</figcaption>
	
</figure></p>
<h1 id="ç›¸é—œçš„åƒè€ƒè³‡æ–™">ç›¸é—œçš„åƒè€ƒè³‡æ–™</h1>
<ul>
<li><a class="link" href="https://mp.weixin.qq.com/s/TpwZtPu0DKOwm2d6B9fTmg"  target="_blank" rel="noopener"
    >ç»™å¾®ä¿¡æ·»åŠ èŠå¤©è®°å½•æˆªå›¾åŠŸèƒ½</a></li>
<li><a class="link" href="https://sherlockz.github.io/2017/10/22/ios-hook/"  target="_blank" rel="noopener"
    >ä¸æ‡‚æ±‡ç¼–,å¦‚ä½•é€†å‘(iOS)</a></li>
<li><a class="link" href="https://blog.csdn.net/qq_21051503/article/details/85586275"  target="_blank" rel="noopener"
    >åŸºäºMonkeyDevå®ç°ä¸è¶Šç‹±ä¿®æ”¹é’‰é’‰ä½ç½®æ‰“å¡å’Œç­¾åˆ°</a></li>
<li><a class="link" href="https://blog.csdn.net/yca8939/article/details/50638368"  target="_blank" rel="noopener"
    >iOSè¶Šç‹±æ’ä»¶ç¼–å†™ - æ”¯ä»˜å®è‡ªåŠ¨å’»å’» ï¼ˆä¸€ï¼‰</a></li>
<li><a class="link" href="https://medium.com/zrealm-ios-dev/ios-%e9%80%86%e5%90%91%e5%b7%a5%e7%a8%8b%e5%88%9d%e9%ab%94%e9%a9%97-7498e1ff93ce"  target="_blank" rel="noopener"
    >iOS é€†å‘å·¥ç¨‹åˆé«”é©—</a></li>
</ul>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/ios/">iOS</a>
        
            <a href="/tags/swift/">Swift</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    <aside class="related-contents--wrapper">
    
    
        <h2 class="section-title">Related contents</h2>
        <div class="related-contents">
            <div class="flex article-list--tile">
                
                    
<article class="">
    <a href="/p/%E7%99%BC%E7%A5%A8%E6%94%B6%E9%9B%86%E9%9B%9E-%E8%87%AA%E5%B7%B1%E7%9A%84%E7%99%BC%E7%A5%A8%E8%87%AA%E5%B7%B1%E6%94%B6/">
        
        

        <div class="article-details">
            <h2 class="article-title">ç™¼ç¥¨æ”¶é›†é› - è‡ªå·±çš„ç™¼ç¥¨è‡ªå·±æ”¶</h2>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/apple-watch-app-%E9%96%8B%E7%99%BC%E9%99%A4%E9%8C%AF%E5%BF%83%E5%BE%97/">
        
        

        <div class="article-details">
            <h2 class="article-title">Apple Watch App é–‹ç™¼é™¤éŒ¯å¿ƒå¾—</h2>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/rxswift-6-%E4%B8%8A%E7%B7%9A%E5%95%A6/">
        
        

        <div class="article-details">
            <h2 class="article-title">RxSwift 6 ä¸Šç·šå•¦ï¼</h2>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/ios-app-launch-time-%E5%BF%83%E5%BE%97/">
        
        

        <div class="article-details">
            <h2 class="article-title">iOS App launch time å¿ƒå¾—</h2>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/%E4%BD%BF%E7%94%A8-xcode-%E5%BB%BA%E7%AB%8B%E4%B8%80%E5%80%8B-framework/">
        
        

        <div class="article-details">
            <h2 class="article-title">ä½¿ç”¨ Xcode å»ºç«‹ä¸€å€‹ Framework</h2>
        </div>
    </a>
</article>
                
            </div>
        </div>
    
</aside>

     
     
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (DISQUS) {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2017 - 
        
        2021 Archie
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.2.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    
        <aside class="sidebar right-sidebar sticky">
            <section class="widget archives">
                <div class="widget-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                </div>
                <h2 class="widget-title section-title">Table of contents</h2>
                
                <div class="widget--toc">
                    <nav id="TableOfContents">
  <ol>
    <li><a href="#frida-ios-dump-å®‰è£">frida-ios-dump å®‰è£</a></li>
  </ol>

  <ol>
    <li><a href="#å®‰è£-monkeydevhttpsgithubcomalonemonkeymonkeydevwikiå®‰è£…"><a href="https://github.com/AloneMonkey/MonkeyDev/wiki/%E5%AE%89%E8%A3%85">å®‰è£ MonkeyDev</a></a>
      <ol>
        <li>
          <ol>
            <li><a href="#å®‰è£éŒ¯èª¤æ‰¾ä¸åˆ°-xcode">å®‰è£éŒ¯èª¤ï¼šæ‰¾ä¸åˆ° Xcode</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#ä½¿ç”¨-monkeydev">ä½¿ç”¨ MonkeyDev</a></li>
    <li><a href="#æ‰“é–‹-reveal-æŸ¥çœ‹">æ‰“é–‹ Reveal æŸ¥çœ‹</a></li>
    <li><a href="#åŠ å…¥-flexhttpsgithubcomflipboardflex">åŠ å…¥ <a href="https://github.com/Flipboard/FLEX">FLEX</a></a></li>
  </ol>

  <ol>
    <li><a href="#åˆ©ç”¨-flex-ä¾†å®šä½å…ƒä»¶">åˆ©ç”¨ FLEX ä¾†å®šä½å…ƒä»¶</a></li>
    <li><a href="#å»ºç«‹-header">å»ºç«‹ Header</a>
      <ol>
        <li><a href="#instagramheaderh">InstagramHeader.h</a></li>
        <li><a href="#igfeedphotoviewhookm">IGFeedPhotoViewHook.m</a></li>
      </ol>
    </li>
    <li><a href="#demo">Demo</a></li>
  </ol>
</nav>
                </div>
            </section>
        </aside>
    

        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
